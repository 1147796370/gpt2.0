(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0024":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0,n("d3b7"),n("ddb0");var i=r(n("d4ec")),o=r(n("bee2")),a=n("9030"),s=function(){function e(){(0,i.default)(this,e),this.privMap=new a.PropertyCollection}return(0,o.default)(e,[{key:"languages",get:function(){return this.privMap.keys}},{key:"get",value:function(e,t){return this.privMap.getProperty(e,t)}},{key:"set",value:function(e,t){this.privMap.setProperty(e,t)}}]),e}();t.Translations=s},"0094":function(e,t,n){"use strict";var r,i=n("da84"),o=n("e330"),a=n("6964"),s=n("f183"),u=n("6d61"),c=n("acac"),p=n("861d"),d=n("4fad"),l=n("69f3").enforce,f=n("cdce"),v=!i.ActiveXObject&&"ActiveXObject"in i,h=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},y=u("WeakMap",h,c);if(f&&v){r=c.getConstructor(h,"WeakMap",!0),s.enable();var g=y.prototype,m=o(g["delete"]),S=o(g.has),C=o(g.get),b=o(g.set);a(g,{delete:function(e){if(p(e)&&!d(e)){var t=l(this);return t.frozen||(t.frozen=new r),m(this,e)||t.frozen["delete"](e)}return m(this,e)},has:function(e){if(p(e)&&!d(e)){var t=l(this);return t.frozen||(t.frozen=new r),S(this,e)||t.frozen.has(e)}return S(this,e)},get:function(e){if(p(e)&&!d(e)){var t=l(this);return t.frozen||(t.frozen=new r),S(this,e)?C(this,e):t.frozen.get(e)}return C(this,e)},set:function(e,t){if(p(e)&&!d(e)){var n=l(this);n.frozen||(n.frozen=new r),S(this,e)?b(this,e,t):n.frozen.set(e,t)}else b(this,e,t);return this}})}},"0185":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionEvent=t.RecognitionTriggeredEvent=t.RecognitionStartedEvent=t.RecognitionEndedEvent=t.RecognitionCompletionStatus=t.ListeningStartedEvent=t.ConnectingToServiceEvent=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("903d"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.EventType.Info;return(0,i.default)(this,n),a=t.call(this,e,s),a.privRequestId=r,a.privSessionId=o,a}return(0,o.default)(n,[{key:"requestId",get:function(){return this.privRequestId}},{key:"sessionId",get:function(){return this.privSessionId}}]),n}(u.PlatformEvent);t.SpeechRecognitionEvent=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a){var s;return(0,i.default)(this,n),s=t.call(this,"RecognitionTriggeredEvent",e,r),s.privAudioSourceId=o,s.privAudioNodeId=a,s}return(0,o.default)(n,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}}]),n}(c);t.RecognitionTriggeredEvent=p;var d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a){var s;return(0,i.default)(this,n),s=t.call(this,"ListeningStartedEvent",e,r),s.privAudioSourceId=o,s.privAudioNodeId=a,s}return(0,o.default)(n,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}}]),n}(c);t.ListeningStartedEvent=d;var l=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"ConnectingToServiceEvent",e,o),a.privAuthFetchEventid=r,a}return(0,o.default)(n,[{key:"authFetchEventid",get:function(){return this.privAuthFetchEventid}}]),n}(c);t.ConnectingToServiceEvent=l;var f,v=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s){var u;return(0,i.default)(this,n),u=t.call(this,"RecognitionStartedEvent",e,s),u.privAudioSourceId=r,u.privAudioNodeId=o,u.privAuthFetchEventId=a,u}return(0,o.default)(n,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}},{key:"authFetchEventId",get:function(){return this.privAuthFetchEventId}}]),n}(c);t.RecognitionStartedEvent=v,t.RecognitionCompletionStatus=f,function(e){e[e["Success"]=0]="Success",e[e["AudioSourceError"]=1]="AudioSourceError",e[e["AudioSourceTimeout"]=2]="AudioSourceTimeout",e[e["AuthTokenFetchError"]=3]="AuthTokenFetchError",e[e["AuthTokenFetchTimeout"]=4]="AuthTokenFetchTimeout",e[e["UnAuthorized"]=5]="UnAuthorized",e[e["ConnectTimeout"]=6]="ConnectTimeout",e[e["ConnectError"]=7]="ConnectError",e[e["ClientRecognitionActivityTimeout"]=8]="ClientRecognitionActivityTimeout",e[e["UnknownError"]=9]="UnknownError"}(f||(t.RecognitionCompletionStatus=f={}));var h=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s,c,p,d){var l;return(0,i.default)(this,n),l=t.call(this,"RecognitionEndedEvent",e,s,p===f.Success?u.EventType.Info:u.EventType.Error),l.privAudioSourceId=r,l.privAudioNodeId=o,l.privAuthFetchEventId=a,l.privStatus=p,l.privError=d,l.privServiceTag=c,l}return(0,o.default)(n,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}},{key:"authFetchEventId",get:function(){return this.privAuthFetchEventId}},{key:"serviceTag",get:function(){return this.privServiceTag}},{key:"status",get:function(){return this.privStatus}},{key:"error",get:function(){return this.privError}}]),n}(c);t.RecognitionEndedEvent=h},"0637":function(e,t,n){var r=n("a074");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("6e4758cc",r,!0,{sourceMap:!1,shadowMode:!1})},"0649":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SourceLanguageConfig=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("277e"),s=function(){function e(t,n){(0,i.default)(this,e),a.Contracts.throwIfNullOrUndefined(t,"language"),this.privLanguage=t,this.privEndpointId=n}return(0,o.default)(e,[{key:"language",get:function(){return this.privLanguage}},{key:"endpointId",get:function(){return this.privEndpointId}}],[{key:"fromLanguage",value:function(t,n){return new e(t,n)}}]),e}();t.SourceLanguageConfig=s},"0733":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;var i=r(n("c7eb")),o=r(n("b85c")),a=r(n("d4ec")),s=r(n("bee2"));n("d3b7"),n("14d9"),n("159b"),n("3ca3"),n("ddb0");var u,c=n("0f96"),p=n("feb1"),d=n("3b15"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))};(function(e){e[e["Dequeue"]=0]="Dequeue",e[e["Peek"]=1]="Peek"})(u||(u={}));var f=function(){function e(t){var n=this;(0,a.default)(this,e),this.privPromiseStore=new p.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=t||new p.List,this.privDetachables=[],this.privSubscribers=new p.List,this.privDetachables.push(this.privList.onAdded((function(){return n.drain()})))}return(0,s.default)(e,[{key:"enqueue",value:function(e){this.throwIfDispose(),this.enqueueFromPromise(new Promise((function(t){return t(e)})))}},{key:"enqueueFromPromise",value:function(e){var t=this;this.throwIfDispose(),e.then((function(e){t.privList.add(e)}),(function(){}))}},{key:"dequeue",value:function(){this.throwIfDispose();var e=new d.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:u.Dequeue}),this.drain()),e.promise}},{key:"peek",value:function(){this.throwIfDispose();var e=new d.Deferred,t=this.privSubscribers;return t&&(this.privSubscribers.add({deferral:e,type:u.Peek}),this.drain()),e.promise}},{key:"length",value:function(){return this.throwIfDispose(),this.privList.length()}},{key:"isDisposed",value:function(){return null==this.privSubscribers}},{key:"drainAndDispose",value:function(e,t){return l(this,void 0,void 0,(0,i.default)().mark((function n(){var r,a,s,u,c,p,d=this;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(this.isDisposed()||this.privIsDisposing){n.next=30;break}if(this.privDisposeReason=t,this.privIsDisposing=!0,r=this.privSubscribers,r){while(r.length()>0)a=r.removeFirst(),a.deferral.resolve(void 0);this.privSubscribers===r&&(this.privSubscribers=r)}s=(0,o.default)(this.privDetachables),n.prev=6,s.s();case 8:if((u=s.n()).done){n.next=14;break}return c=u.value,n.next=12,c.detach();case 12:n.next=8;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](6),s.e(n.t0);case 19:return n.prev=19,s.f(),n.finish(19);case 22:if(!(this.privPromiseStore.length()>0&&e)){n.next=28;break}return p=[],this.privPromiseStore.toArray().forEach((function(e){p.push(e)})),n.abrupt("return",Promise.all(p).finally((function(){d.privSubscribers=null,d.privList.forEach((function(t){e(t)})),d.privList=null})).then());case 28:this.privSubscribers=null,this.privList=null;case 30:case"end":return n.stop()}}),n,this,[[6,16,19,22]])})))}},{key:"dispose",value:function(e){return l(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.drainAndDispose(null,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"drain",value:function(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;var e=this.privSubscribers,t=this.privList;if(e&&t){while(t.length()>0&&e.length()>0&&!this.privIsDisposing){var n=e.removeFirst();if(n.type===u.Peek)n.deferral.resolve(t.first());else{var r=t.removeFirst();n.deferral.resolve(r)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===t&&(this.privList=t)}this.privIsDrainInProgress=!1}}},{key:"throwIfDispose",value:function(){if(this.isDisposed()){if(this.privDisposeReason)throw new c.InvalidOperationError(this.privDisposeReason);throw new c.ObjectDisposedError("Queue")}if(this.privIsDisposing)throw new c.InvalidOperationError("Queue disposing")}}]),e}();t.Queue=f},"07f8":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisVoicesResult=void 0,n("14d9");var i=r(n("b85c")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("99de")),u=r(n("262e")),c=r(n("2caf")),p=n("9030"),d=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(e,r,a){var u;if((0,o.default)(this,n),Array.isArray(r)){u=t.call(this,e,p.ResultReason.VoicesListRetrieved,void 0,new p.PropertyCollection),u.privVoices=[];var c,d=(0,i.default)(r);try{for(d.s();!(c=d.n()).done;){var l=c.value;u.privVoices.push(new p.VoiceInfo(l))}}catch(f){d.e(f)}finally{d.f()}}else u=t.call(this,e,p.ResultReason.Canceled,a||"Error information unavailable",new p.PropertyCollection);return(0,s.default)(u)}return(0,a.default)(n,[{key:"voices",get:function(){return this.privVoices}}]),n}(p.SynthesisResult);t.SynthesisVoicesResult=d},"0a15":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisWordBoundaryEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n,r,o,a,s){(0,i.default)(this,e),this.privAudioOffset=t,this.privDuration=n,this.privText=r,this.privWordLength=o,this.privTextOffset=a,this.privBoundaryType=s}return(0,o.default)(e,[{key:"audioOffset",get:function(){return this.privAudioOffset}},{key:"duration",get:function(){return this.privDuration}},{key:"text",get:function(){return this.privText}},{key:"wordLength",get:function(){return this.privWordLength}},{key:"textOffset",get:function(){return this.privTextOffset}},{key:"boundaryType",get:function(){return this.privBoundaryType}}]),e}();t.SpeechSynthesisWordBoundaryEventArgs=a},"0ae9":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.BotFrameworkConfig=void 0,n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("d401"),n("25f0");var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("277e"),c=n("567b"),p=n("9030"),d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.call(this)}return(0,o.default)(n,null,[{key:"fromSubscription",value:function(e,t,n){u.Contracts.throwIfNullOrWhitespace(e,"subscription"),u.Contracts.throwIfNullOrWhitespace(t,"region");var r=new c.DialogServiceConfigImpl;return r.setProperty(p.PropertyId.Conversation_DialogType,c.DialogServiceConfig.DialogTypes.BotFramework),r.setProperty(p.PropertyId.SpeechServiceConnection_Key,e),r.setProperty(p.PropertyId.SpeechServiceConnection_Region,t),n&&r.setProperty(p.PropertyId.Conversation_ApplicationId,n),r}},{key:"fromAuthorizationToken",value:function(e,t,n){u.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),u.Contracts.throwIfNullOrWhitespace(t,"region");var r=new c.DialogServiceConfigImpl;return r.setProperty(p.PropertyId.Conversation_DialogType,c.DialogServiceConfig.DialogTypes.BotFramework),r.setProperty(p.PropertyId.SpeechServiceAuthorization_Token,e),r.setProperty(p.PropertyId.SpeechServiceConnection_Region,t),n&&r.setProperty(p.PropertyId.Conversation_ApplicationId,n),r}},{key:"fromHost",value:function(e,t,n){u.Contracts.throwIfNullOrUndefined(e,"host");var r=e instanceof URL?e:new URL("wss://".concat(e,".convai.speech.azure.us"));u.Contracts.throwIfNullOrUndefined(r,"resolvedHost");var i=new c.DialogServiceConfigImpl;return i.setProperty(p.PropertyId.Conversation_DialogType,c.DialogServiceConfig.DialogTypes.BotFramework),i.setProperty(p.PropertyId.SpeechServiceConnection_Host,r.toString()),void 0!==t&&i.setProperty(p.PropertyId.SpeechServiceConnection_Key,t),i}},{key:"fromEndpoint",value:function(e,t){u.Contracts.throwIfNull(e,"endpoint");var n=new c.DialogServiceConfigImpl;return n.setProperty(p.PropertyId.Conversation_DialogType,c.DialogServiceConfig.DialogTypes.BotFramework),n.setProperty(p.PropertyId.SpeechServiceConnection_Endpoint,e.toString()),void 0!==t&&n.setProperty(p.PropertyId.SpeechServiceConnection_Key,t),n}}]),n}(c.DialogServiceConfigImpl);t.BotFrameworkConfig=d},"0bae":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorRecognizer=t.ConversationRecognizerFactory=void 0;var i=r(n("c7eb")),o=r(n("257e")),a=r(n("45eb")),s=r(n("7e84")),u=r(n("262e")),c=r(n("2caf")),p=r(n("d4ec")),d=r(n("bee2"));n("d3b7"),n("d9e2"),n("d401");var l=n("21c7"),f=n("903d"),v=n("277e"),h=n("9030"),y=n("0bfd"),g=n("b542"),m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},S=function(){function e(){(0,p.default)(this,e)}return(0,d.default)(e,null,[{key:"fromConfig",value:function(e,t,n){return new C(e,t,n)}}]),e}();t.ConversationRecognizerFactory=S;var C=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(e,r,i){var a;(0,p.default)(this,n);var s=r;v.Contracts.throwIfNull(s,"speechConfig");var u=e;return v.Contracts.throwIfNull(u,"conversationImpl"),a=t.call(this,i,s.properties,new y.ConversationConnectionFactory),a.privConversation=u,a.privIsDisposed=!1,a.privProperties=s.properties.clone(),a.privConnection=h.Connection.fromRecognizer((0,o.default)(a)),a.privSetTimeout="undefined"!==typeof Blob&&"undefined"!==typeof Worker?f.Timeout.setTimeout:setTimeout,a.privClearTimeout="undefined"!==typeof Blob&&"undefined"!==typeof Worker?f.Timeout.clearTimeout:clearTimeout,a}return(0,d.default)(n,[{key:"connected",set:function(e){this.privConnection.connected=e}},{key:"disconnected",set:function(e){this.privConnection.disconnected=e}},{key:"speechRecognitionLanguage",get:function(){return this.privSpeechRecognitionLanguage}},{key:"properties",get:function(){return this.privProperties}},{key:"isDisposed",value:function(){return this.privIsDisposed}},{key:"connect",value:function(e,t,n){try{v.Contracts.throwIfDisposed(this.privIsDisposed),v.Contracts.throwIfNullOrWhitespace(e,"token"),this.privReco.conversationTranslatorToken=e,this.resetConversationTimeout(),this.privReco.connectAsync(t,n)}catch(i){if(n)if(i instanceof Error){var r=i;n(r.name+": "+r.message)}else n(i)}}},{key:"disconnect",value:function(e,t){try{v.Contracts.throwIfDisposed(this.privIsDisposed),void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then((function(){e&&e()}),(function(e){t&&t(e)}))}catch(r){if(t)if(r instanceof Error){var n=r;t(n.name+": "+n.message)}else t(r);this.dispose(!0).catch((function(e){f.Events.instance.onEvent(new f.BackgroundEvent(e))}))}}},{key:"sendRequest",value:function(e,t,n){try{v.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(e,t,n)}catch(i){if(n)if(i instanceof Error){var r=i;n(r.name+": "+r.message)}else n(i);this.dispose(!0).catch((function(e){f.Events.instance.onEvent(new f.BackgroundEvent(e))}))}}},{key:"close",value:function(){return m(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privIsDisposed){e.next=5;break}return this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,e.next=5,this.dispose(!0);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,a.default)((0,s.default)(n.prototype),"dispose",t)}}});return m(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privIsDisposed){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=8;break}return void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),t.next=8,r.dispose.call(this,e);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"createRecognizerConfig",value:function(e){return new l.RecognizerConfig(e,this.privProperties)}},{key:"createServiceRecognizer",value:function(e,t,n,r){var i=n;return new g.ConversationServiceAdapter(e,t,i,r,this)}},{key:"sendMessage",value:function(e,t,n){var r=this.privReco;(function(e,t,n){void 0!==e?e.then((function(){try{t&&t()}catch(e){n&&n("'Unhandled error on promise callback: ".concat(e,"'"))}}),(function(e){try{n&&n(e)}catch(t){}})):n&&n("Null promise")})(r.sendMessageAsync(e),t,n),this.resetConversationTimeout()}},{key:"resetConversationTimeout",value:function(){var e=this;void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout((function(){e.sendRequest(e.privConversation.getKeepAlive())}),6e4)}}]),n}(h.Recognizer);t.ConversationTranslatorRecognizer=C},"0bca":function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyId=void 0,t.PropertyId=r,function(e){e[e["SpeechServiceConnection_Key"]=0]="SpeechServiceConnection_Key",e[e["SpeechServiceConnection_Endpoint"]=1]="SpeechServiceConnection_Endpoint",e[e["SpeechServiceConnection_Region"]=2]="SpeechServiceConnection_Region",e[e["SpeechServiceAuthorization_Token"]=3]="SpeechServiceAuthorization_Token",e[e["SpeechServiceAuthorization_Type"]=4]="SpeechServiceAuthorization_Type",e[e["SpeechServiceConnection_EndpointId"]=5]="SpeechServiceConnection_EndpointId",e[e["SpeechServiceConnection_TranslationToLanguages"]=6]="SpeechServiceConnection_TranslationToLanguages",e[e["SpeechServiceConnection_TranslationVoice"]=7]="SpeechServiceConnection_TranslationVoice",e[e["SpeechServiceConnection_TranslationFeatures"]=8]="SpeechServiceConnection_TranslationFeatures",e[e["SpeechServiceConnection_IntentRegion"]=9]="SpeechServiceConnection_IntentRegion",e[e["SpeechServiceConnection_ProxyHostName"]=10]="SpeechServiceConnection_ProxyHostName",e[e["SpeechServiceConnection_ProxyPort"]=11]="SpeechServiceConnection_ProxyPort",e[e["SpeechServiceConnection_ProxyUserName"]=12]="SpeechServiceConnection_ProxyUserName",e[e["SpeechServiceConnection_ProxyPassword"]=13]="SpeechServiceConnection_ProxyPassword",e[e["SpeechServiceConnection_RecoMode"]=14]="SpeechServiceConnection_RecoMode",e[e["SpeechServiceConnection_RecoLanguage"]=15]="SpeechServiceConnection_RecoLanguage",e[e["Speech_SessionId"]=16]="Speech_SessionId",e[e["SpeechServiceConnection_SynthLanguage"]=17]="SpeechServiceConnection_SynthLanguage",e[e["SpeechServiceConnection_SynthVoice"]=18]="SpeechServiceConnection_SynthVoice",e[e["SpeechServiceConnection_SynthOutputFormat"]=19]="SpeechServiceConnection_SynthOutputFormat",e[e["SpeechServiceConnection_AutoDetectSourceLanguages"]=20]="SpeechServiceConnection_AutoDetectSourceLanguages",e[e["SpeechServiceResponse_RequestDetailedResultTrueFalse"]=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e["SpeechServiceResponse_RequestProfanityFilterTrueFalse"]=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e["SpeechServiceResponse_JsonResult"]=23]="SpeechServiceResponse_JsonResult",e[e["SpeechServiceResponse_JsonErrorDetails"]=24]="SpeechServiceResponse_JsonErrorDetails",e[e["CancellationDetails_Reason"]=25]="CancellationDetails_Reason",e[e["CancellationDetails_ReasonText"]=26]="CancellationDetails_ReasonText",e[e["CancellationDetails_ReasonDetailedText"]=27]="CancellationDetails_ReasonDetailedText",e[e["LanguageUnderstandingServiceResponse_JsonResult"]=28]="LanguageUnderstandingServiceResponse_JsonResult",e[e["SpeechServiceConnection_Url"]=29]="SpeechServiceConnection_Url",e[e["SpeechServiceConnection_InitialSilenceTimeoutMs"]=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",e[e["SpeechServiceConnection_EndSilenceTimeoutMs"]=31]="SpeechServiceConnection_EndSilenceTimeoutMs",e[e["Speech_SegmentationSilenceTimeoutMs"]=32]="Speech_SegmentationSilenceTimeoutMs",e[e["SpeechServiceConnection_EnableAudioLogging"]=33]="SpeechServiceConnection_EnableAudioLogging",e[e["SpeechServiceConnection_LanguageIdMode"]=34]="SpeechServiceConnection_LanguageIdMode",e[e["SpeechServiceConnection_RecognitionEndpointVersion"]=35]="SpeechServiceConnection_RecognitionEndpointVersion",e[e["SpeechServiceConnection_SpeakerIdMode"]=36]="SpeechServiceConnection_SpeakerIdMode",e[e["SpeechServiceResponse_ProfanityOption"]=37]="SpeechServiceResponse_ProfanityOption",e[e["SpeechServiceResponse_PostProcessingOption"]=38]="SpeechServiceResponse_PostProcessingOption",e[e["SpeechServiceResponse_RequestWordLevelTimestamps"]=39]="SpeechServiceResponse_RequestWordLevelTimestamps",e[e["SpeechServiceResponse_StablePartialResultThreshold"]=40]="SpeechServiceResponse_StablePartialResultThreshold",e[e["SpeechServiceResponse_OutputFormatOption"]=41]="SpeechServiceResponse_OutputFormatOption",e[e["SpeechServiceResponse_TranslationRequestStablePartialResult"]=42]="SpeechServiceResponse_TranslationRequestStablePartialResult",e[e["SpeechServiceResponse_RequestWordBoundary"]=43]="SpeechServiceResponse_RequestWordBoundary",e[e["SpeechServiceResponse_RequestPunctuationBoundary"]=44]="SpeechServiceResponse_RequestPunctuationBoundary",e[e["SpeechServiceResponse_RequestSentenceBoundary"]=45]="SpeechServiceResponse_RequestSentenceBoundary",e[e["Conversation_ApplicationId"]=46]="Conversation_ApplicationId",e[e["Conversation_DialogType"]=47]="Conversation_DialogType",e[e["Conversation_Initial_Silence_Timeout"]=48]="Conversation_Initial_Silence_Timeout",e[e["Conversation_From_Id"]=49]="Conversation_From_Id",e[e["Conversation_Conversation_Id"]=50]="Conversation_Conversation_Id",e[e["Conversation_Custom_Voice_Deployment_Ids"]=51]="Conversation_Custom_Voice_Deployment_Ids",e[e["Conversation_Speech_Activity_Template"]=52]="Conversation_Speech_Activity_Template",e[e["Conversation_Request_Bot_Status_Messages"]=53]="Conversation_Request_Bot_Status_Messages",e[e["Conversation_Agent_Connection_Id"]=54]="Conversation_Agent_Connection_Id",e[e["SpeechServiceConnection_Host"]=55]="SpeechServiceConnection_Host",e[e["ConversationTranslator_Host"]=56]="ConversationTranslator_Host",e[e["ConversationTranslator_Name"]=57]="ConversationTranslator_Name",e[e["ConversationTranslator_CorrelationId"]=58]="ConversationTranslator_CorrelationId",e[e["ConversationTranslator_Token"]=59]="ConversationTranslator_Token",e[e["PronunciationAssessment_ReferenceText"]=60]="PronunciationAssessment_ReferenceText",e[e["PronunciationAssessment_GradingSystem"]=61]="PronunciationAssessment_GradingSystem",e[e["PronunciationAssessment_Granularity"]=62]="PronunciationAssessment_Granularity",e[e["PronunciationAssessment_EnableMiscue"]=63]="PronunciationAssessment_EnableMiscue",e[e["PronunciationAssessment_Json"]=64]="PronunciationAssessment_Json",e[e["PronunciationAssessment_Params"]=65]="PronunciationAssessment_Params",e[e["SpeakerRecognition_Api_Version"]=66]="SpeakerRecognition_Api_Version"}(r||(t.PropertyId=r={}))},"0bfd":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionFactory=void 0,n("99af");var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9271"),c=n("903d"),p=n("277e"),d=n("9030"),l=n("4061"),f=n("9802"),v=n("6dac"),h=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"create",value:function(e,t,n){var r=e.parameters.getProperty(d.PropertyId.ConversationTranslator_Host,f.ConversationConnectionConfig.host),i=e.parameters.getProperty(d.PropertyId.ConversationTranslator_CorrelationId,(0,c.createGuid)()),o="wss://".concat(r).concat(f.ConversationConnectionConfig.webSocketPath),a=e.parameters.getProperty(d.PropertyId.ConversationTranslator_Token,void 0);p.Contracts.throwIfNullOrUndefined(a,"token");var s={};s[f.ConversationConnectionConfig.configParams.apiVersion]=f.ConversationConnectionConfig.apiVersion,s[f.ConversationConnectionConfig.configParams.token]=a,s[f.ConversationConnectionConfig.configParams.correlationId]=i;var l="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new u.WebsocketConnection(o,s,{},new v.ConversationWebsocketMessageFormatter,u.ProxyInfo.fromRecognizerConfig(e),l,n)}}]),n}(l.ConnectionFactoryBase);t.ConversationConnectionFactory=h},"0c58":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AgentConfig=void 0,n("e9c4");var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"toJsonString",value:function(){return JSON.stringify(this.iPrivConfig)}},{key:"get",value:function(){return this.iPrivConfig}},{key:"set",value:function(e){this.iPrivConfig=e}}]),e}();t.AgentConfig=a},"0ccb":function(e,t,n){var r=n("e330"),i=n("50c4"),o=n("577e"),a=n("1148"),s=n("1d80"),u=r(a),c=r("".slice),p=Math.ceil,d=function(e){return function(t,n,r){var a,d,l=o(s(t)),f=i(n),v=l.length,h=void 0===r?" ":o(r);return f<=v||""==h?l:(a=f-v,d=u(h,p(a/h.length)),d.length>a&&(d=c(d,0,a)),e?l+d:d+l)}};e.exports={start:d(!1),end:d(!0)}},"0f96":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectDisposedError=t.InvalidOperationError=t.ArgumentNullError=void 0,n("d9e2"),n("d401");var i=r(n("bee2")),o=r(n("d4ec")),a=r(n("262e")),s=r(n("2caf")),u=r(n("9072")),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this,e),r.name="ArgumentNull",r.message=e,r}return(0,i.default)(n)}((0,u.default)(Error));t.ArgumentNullError=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this,e),r.name="InvalidOperation",r.message=e,r}return(0,i.default)(n)}((0,u.default)(Error));t.InvalidOperationError=p;var d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var i;return(0,o.default)(this,n),i=t.call(this,r),i.name=e+"ObjectDisposed",i.message=r,i}return(0,i.default)(n)}((0,u.default)(Error));t.ObjectDisposedError=d},1:function(e,t){},"10d1":function(e,t,n){n("0094")},1148:function(e,t,n){"use strict";var r=n("5926"),i=n("577e"),o=n("1d80"),a=RangeError;e.exports=function(e){var t=i(o(this)),n="",s=r(e);if(s<0||s==1/0)throw a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},"11c1":function(e,t,n){var r=n("c437"),i=n("c64e"),o=i;o.v1=r,o.v4=i,e.exports=o},"120d":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioOutputStreamImpl=t.PushAudioOutputStream=t.PullAudioOutputStreamImpl=t.PullAudioOutputStream=t.AudioOutputStream=void 0;var i=r(n("c7eb")),o=r(n("262e")),a=r(n("2caf")),s=r(n("d4ec")),u=r(n("bee2"));n("d3b7"),n("ace4"),n("fd87"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("fb6a");var c=n("903d"),p=n("277e"),d=n("9205"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},f=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,null,[{key:"createPullStream",value:function(){return v.create()}}]),e}();t.AudioOutputStream=f;var v=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,null,[{key:"create",value:function(){return new h}}]),n}(f);t.PullAudioOutputStream=v;var h=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(){var e;return(0,s.default)(this,n),e=t.call(this),e.privId=(0,c.createNoDashGuid)(),e.privStream=new c.Stream,e}return(0,u.default)(n,[{key:"format",get:function(){return this.privFormat},set:function(e){void 0!==e&&null!==e||(this.privFormat=d.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=e}},{key:"isClosed",get:function(){return this.privStream.isClosed}},{key:"id",value:function(){return this.privId}},{key:"read",value:function(e){return l(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r,o,a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=new Int8Array(e),r=0,void 0===this.privLastChunkView){t.next=10;break}if(!(this.privLastChunkView.length>e.byteLength)){t.next=7;break}return n.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),t.abrupt("return",Promise.resolve(e.byteLength));case 7:n.set(this.privLastChunkView),r=this.privLastChunkView.length,this.privLastChunkView=void 0;case 10:if(!(r<e.byteLength)||this.privStream.isReadEnded){t.next=17;break}return t.next=13,this.privStream.read();case 13:o=t.sent,void 0===o||o.isEnd?this.privStream.readEnded():(a=void 0,o.buffer.byteLength>e.byteLength-r?(a=o.buffer.slice(0,e.byteLength-r),this.privLastChunkView=new Int8Array(o.buffer.slice(e.byteLength-r))):a=o.buffer,n.set(new Int8Array(a),r),r+=a.byteLength),t.next=10;break;case 17:return t.abrupt("return",r);case 18:case"end":return t.stop()}}),t,this)})))}},{key:"write",value:function(e){p.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}},{key:"close",value:function(){this.privStream.close()}}]),n}(v);t.PullAudioOutputStreamImpl=h;var y=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(){return(0,s.default)(this,n),t.call(this)}return(0,u.default)(n,null,[{key:"create",value:function(e){return new g(e)}}]),n}(f);t.PushAudioOutputStream=y;var g=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(e){var r;return(0,s.default)(this,n),r=t.call(this),r.privId=(0,c.createNoDashGuid)(),r.privCallback=e,r}return(0,u.default)(n,[{key:"format",set:function(e){}},{key:"write",value:function(e){this.privCallback.write&&this.privCallback.write(e)}},{key:"close",value:function(){this.privCallback.close&&this.privCallback.close()}},{key:"id",value:function(){return this.privId}}]),n}(y);t.PushAudioOutputStreamImpl=g},1263:function(e,t,n){"use strict";var r=n("7037").default;n("d3b7"),n("6062b"),n("3ca3"),n("ddb0"),n("159b"),n("99af"),n("d9e2"),n("d401"),n("2ca0");var i=new Set(["json","buffer","string"]);e.exports=function(e){return function(){for(var t,n,o,a=new Set,s="",u=arguments.length,c=new Array(u),p=0;p<u;p++)c[p]=arguments[p];return c.forEach((function(e){if("string"===typeof e)if(e.toUpperCase()===e){if(t){var u="Can't set method to ".concat(e,", already set to ").concat(t,".");throw new Error(u)}t=e}else if(e.startsWith("http:")||e.startsWith("https:"))s=e;else{if(!i.has(e))throw new Error("Unknown encoding, ".concat(e));n=e}else if("number"===typeof e)a.add(e);else{if("object"!==r(e))throw new Error("Unknown type: ".concat(r(e)));if(Array.isArray(e)||e instanceof Set)e.forEach((function(e){return a.add(e)}));else{if(o)throw new Error("Cannot set headers twice.");o=e}}})),t||(t="GET"),0===a.size&&a.add(200),e(a,t,n,o,s)}}},1278:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"formatString",value:function(e,t){if(!e)return"";if(!t)return e;for(var n="",r="",i=function(e){n+=e},o=function(e){r+=e},a=i,s=0;s<e.length;s++){var u=e[s],c=s+1<e.length?e[s+1]:"";switch(u){case"{":"{"===c?(a("{"),s++):a=o;break;case"}":"}"===c?(a("}"),s++):(t.hasOwnProperty(r)&&(n+=t[r]),a=i,r="");break;default:a(u);break}}return n}}]),e}();t.StringUtils=a},"12e1":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TurnStatusResponsePayload=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privMessageStatusResponse=JSON.parse(t)}return(0,o.default)(e,[{key:"interactionId",get:function(){return this.privMessageStatusResponse.interactionId}},{key:"conversationId",get:function(){return this.privMessageStatusResponse.conversationId}},{key:"statusCode",get:function(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.TurnStatusResponsePayload=a},1314:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriber=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7");var s=n("21c7"),u=n("903d"),c=n("277e"),p=n("9030"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(){function e(t){(0,o.default)(this,e),this.privAudioConfig=t,this.privProperties=new p.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}return(0,a.default)(e,[{key:"speechRecognitionLanguage",get:function(){return c.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(p.PropertyId.SpeechServiceConnection_RecoLanguage)}},{key:"properties",get:function(){return this.privProperties}},{key:"internalData",get:function(){return this.privRecognizer.internalData}},{key:"connection",get:function(){return p.Connection.fromRecognizer(this.privRecognizer)}},{key:"authorizationToken",get:function(){return this.properties.getProperty(p.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){c.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(p.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"joinConversationAsync",value:function(e,t,n){var r=e;c.Contracts.throwIfNullOrUndefined(r,"Conversation"),this.privRecognizer=new s.TranscriberRecognizer(e.config,this.privAudioConfig),c.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectCallbacks(this),(0,u.marshalPromiseToCallbacks)(r.connectTranscriberRecognizer(this.privRecognizer),t,n)}},{key:"startTranscribingAsync",value:function(e,t){this.privRecognizer.startContinuousRecognitionAsync(e,t)}},{key:"stopTranscribingAsync",value:function(e,t){this.privRecognizer.stopContinuousRecognitionAsync(e,t)}},{key:"leaveConversationAsync",value:function(e,t){var n=this;this.privRecognizer.disconnectCallbacks(),(0,u.marshalPromiseToCallbacks)(function(){return d(n,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}(),e,t)}},{key:"close",value:function(e,t){c.Contracts.throwIfDisposed(this.privDisposedRecognizer),(0,u.marshalPromiseToCallbacks)(this.dispose(!0),e,t)}},{key:"dispose",value:function(e){return d(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposedRecognizer){t.next=2;break}return t.abrupt("return");case 2:if(!this.privRecognizer){t.next=6;break}return t.next=5,this.privRecognizer.close();case 5:this.privRecognizer=void 0;case 6:e&&(this.privDisposedRecognizer=!0);case 7:case"end":return t.stop()}}),t,this)})))}}]),e}();t.ConversationTranscriber=l},"143c":function(e,t,n){var r=n("74e8");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"14eb":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognitionResultType=t.SpeakerRecognitionResult=t.SpeakerRecognitionCancellationDetails=void 0,n("e9c4");var i,o=r(n("262e")),a=r(n("2caf")),s=r(n("d4ec")),u=r(n("bee2")),c=n("21c7"),p=n("9030");t.SpeakerRecognitionResultType=i,function(e){e[e["Verify"]=0]="Verify",e[e["Identify"]=1]="Identify"}(i||(t.SpeakerRecognitionResultType=i={}));var d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ResultReason.RecognizedSpeaker,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.CancellationErrorCode.NoError,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(0,s.default)(this,e),this.privProperties=new p.PropertyCollection;var a="TextIndependentIdentification"===t.scenario?i.Identify:i.Verify;this.privReason=n,this.privReason!==p.ResultReason.Canceled?a===i.Identify?(this.privProfileId=t.identificationResult.identifiedProfile.profileId,this.privScore=t.identificationResult.identifiedProfile.score,this.privReason=p.ResultReason.RecognizedSpeakers):(this.privScore=t.verificationResult.score,"accept"!==t.verificationResult.recognitionResult.toLowerCase()&&(this.privReason=p.ResultReason.NoMatch),void 0!==t.verificationResult.profileId&&""!==t.verificationResult.profileId&&(this.privProfileId=t.verificationResult.profileId)):(this.privErrorDetails=o,this.privProperties.setProperty(c.CancellationErrorCodePropertyName,p.CancellationErrorCode[r])),this.privProperties.setProperty(p.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(t))}return(0,u.default)(e,[{key:"properties",get:function(){return this.privProperties}},{key:"reason",get:function(){return this.privReason}},{key:"profileId",get:function(){return this.privProfileId}},{key:"errorDetails",get:function(){return this.privErrorDetails}},{key:"score",get:function(){return this.privScore}}]),e}();t.SpeakerRecognitionResult=d;var l=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(e,r,i){return(0,s.default)(this,n),t.call(this,e,r,i)}return(0,u.default)(n,null,[{key:"fromResult",value:function(e){var t=p.CancellationReason.Error,r=p.CancellationErrorCode.NoError;return e.properties&&(r=p.CancellationErrorCode[e.properties.getProperty(c.CancellationErrorCodePropertyName,p.CancellationErrorCode[p.CancellationErrorCode.NoError])]),new n(t,e.errorDetails,r)}}]),n}(p.CancellationDetailsBase);t.SpeakerRecognitionCancellationDetails=l},1518:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("45eb")),u=r(n("7e84")),c=r(n("262e")),p=r(n("2caf"));n("d3b7"),n("b64b"),n("14d9"),n("d9e2"),n("d401");var d=n("21c7"),l=n("903d"),f=n("277e"),v=n("9030"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e,r){var i;(0,o.default)(this,n),f.Contracts.throwIfNullOrUndefined(e,"speechConfig");var a=e;return f.Contracts.throwIfNullOrUndefined(a,"speechConfig"),i=t.call(this,r,a.properties,new d.IntentConnectionFactory),i.privAddedIntents=[],i.privAddedLmIntents={},i.privDisposedIntentRecognizer=!1,i.privProperties=a.properties,f.Contracts.throwIfNullOrWhitespace(i.properties.getProperty(v.PropertyId.SpeechServiceConnection_RecoLanguage),v.PropertyId[v.PropertyId.SpeechServiceConnection_RecoLanguage]),i}return(0,a.default)(n,[{key:"speechRecognitionLanguage",get:function(){return f.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(v.PropertyId.SpeechServiceConnection_RecoLanguage)}},{key:"authorizationToken",get:function(){return this.properties.getProperty(v.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.properties.setProperty(v.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"properties",get:function(){return this.privProperties}},{key:"recognizeOnceAsync",value:function(e,t){if(f.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){var n=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",n.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(n.ReferenceGrammars);var r=this.privReco;r.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}(0,l.marshalPromiseToCallbacks)(this.recognizeOnceAsyncImpl(d.RecognitionMode.Interactive),e,t)}},{key:"startContinuousRecognitionAsync",value:function(e,t){if(0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){var n=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",n.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(n.ReferenceGrammars);var r=this.privReco;r.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}(0,l.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(d.RecognitionMode.Conversation),e,t)}},{key:"stopContinuousRecognitionAsync",value:function(e,t){(0,l.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),e,t)}},{key:"startKeywordRecognitionAsync",value:function(e,t,n){f.Contracts.throwIfNull(e,"model"),n&&n("Not yet implemented.")}},{key:"stopKeywordRecognitionAsync",value:function(e,t){if(e)try{e()}catch(n){t&&t(n)}}},{key:"addIntent",value:function(e,t){f.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),f.Contracts.throwIfNullOrWhitespace(t,"intentId"),f.Contracts.throwIfNullOrWhitespace(e,"simplePhrase"),this.privAddedIntents.push([t,e])}},{key:"addIntentWithLanguageModel",value:function(e,t,n){f.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),f.Contracts.throwIfNullOrWhitespace(e,"intentId"),f.Contracts.throwIfNull(t,"model");var r=t;f.Contracts.throwIfNullOrWhitespace(r.appId,"model.appId"),this.privAddedLmIntents[e]=new d.AddedLmIntent(r,n)}},{key:"addAllIntents",value:function(e,t){f.Contracts.throwIfNull(e,"model");var n=e;f.Contracts.throwIfNullOrWhitespace(n.appId,"model.appId"),this.privUmbrellaIntent=new d.AddedLmIntent(n,t)}},{key:"close",value:function(e,t){f.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),(0,l.marshalPromiseToCallbacks)(this.dispose(!0),e,t)}},{key:"createRecognizerConfig",value:function(e){return new d.RecognizerConfig(e,this.privProperties)}},{key:"createServiceRecognizer",value:function(e,t,n,r){var i=n;return new d.IntentServiceRecognizer(e,t,i,r,this)}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,s.default)((0,u.default)(n.prototype),"dispose",t)}}});return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposedIntentRecognizer){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=6;break}return this.privDisposedIntentRecognizer=!0,t.next=6,r.dispose.call(this,e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"buildSpeechContext",value:function(){var e,t,n,r=[];void 0!==this.privUmbrellaIntent&&(e=this.privUmbrellaIntent.modelImpl.appId,t=this.privUmbrellaIntent.modelImpl.region,n=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(var i=0,o=Object.keys(this.privAddedLmIntents);i<o.length;i++){var a=o[i],s=this.privAddedLmIntents[a];if(void 0===e)e=s.modelImpl.appId;else if(e!==s.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(void 0===t)t=s.modelImpl.region;else if(t!==s.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(void 0===n)n=s.modelImpl.subscriptionKey;else if(n!==s.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");var u="luis/"+e+"-PRODUCTION#"+a;r.push(u)}return{Intent:{id:e,key:void 0===n?this.privProperties.getProperty(v.PropertyId[v.PropertyId.SpeechServiceConnection_Key]):n,provider:"LUIS"},ReferenceGrammars:void 0===this.privUmbrellaIntent?r:["luis/"+e+"-PRODUCTION"]}}}]),n}(v.Recognizer);t.IntentRecognizer=y},"166a":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n){(0,i.default)(this,e),this.privReason=t,this.privAudio=n}return(0,o.default)(e,[{key:"audio",get:function(){return this.privAudio}},{key:"reason",get:function(){return this.privReason}}]),e}();t.TranslationSynthesisResult=a},"18d3":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedArrayBufferStream=void 0,n("c19f"),n("ace4"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("fb6a");var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("45eb")),s=r(n("7e84")),u=r(n("262e")),c=r(n("2caf")),p=n("903d"),d=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,r),o.privTargetChunkSize=e,o.privNextBufferReadyBytes=0,o}return(0,o.default)(n,[{key:"writeStreamChunk",value:function(e){if(e.isEnd||0===this.privNextBufferReadyBytes&&e.buffer.byteLength===this.privTargetChunkSize)(0,a.default)((0,s.default)(n.prototype),"writeStreamChunk",this).call(this,e);else{var t=0;while(t<e.buffer.byteLength){void 0===this.privNextBufferToWrite&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=e.timeReceived);var r=Math.min(e.buffer.byteLength-t,this.privTargetChunkSize-this.privNextBufferReadyBytes),i=new Uint8Array(this.privNextBufferToWrite),o=new Uint8Array(e.buffer.slice(t,r+t));i.set(o,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=r,t+=r,this.privNextBufferReadyBytes===this.privTargetChunkSize&&((0,a.default)((0,s.default)(n.prototype),"writeStreamChunk",this).call(this,{buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}}},{key:"close",value:function(){0===this.privNextBufferReadyBytes||this.isClosed||(0,a.default)((0,s.default)(n.prototype),"writeStreamChunk",this).call(this,{buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),(0,a.default)((0,s.default)(n.prototype),"close",this).call(this)}}]),n}(p.Stream);t.ChunkedArrayBufferStream=d},"19cf":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisVisemeEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n,r){(0,i.default)(this,e),this.privAudioOffset=t,this.privVisemeId=n,this.privAnimation=r}return(0,o.default)(e,[{key:"audioOffset",get:function(){return this.privAudioOffset}},{key:"visemeId",get:function(){return this.privVisemeId}},{key:"animation",get:function(){return this.privAnimation}}]),e}();t.SpeechSynthesisVisemeEventArgs=a},"1c59":function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"1c6b":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationManager=void 0,n("99af"),n("ac1f"),n("5319"),n("d401"),n("d3b7"),n("25f0"),n("d9e2");var i=r(n("d4ec")),o=r(n("bee2")),a=n("9271"),s=n("277e"),u=n("9030"),c=n("9802"),p=function(){function e(){(0,i.default)(this,e),this.privRequestParams=c.ConversationConnectionConfig.configParams,this.privErrors=c.ConversationConnectionConfig.restErrors,this.privHost=c.ConversationConnectionConfig.host,this.privApiVersion=c.ConversationConnectionConfig.apiVersion,this.privRestPath=c.ConversationConnectionConfig.restPath,this.privRestAdapter=new a.RestMessageAdapter({})}return(0,o.default)(e,[{key:"createOrJoin",value:function(e,t,n,r){var i=this;try{s.Contracts.throwIfNullOrUndefined(e,"args");var o=e.getProperty(u.PropertyId.SpeechServiceConnection_RecoLanguage,c.ConversationConnectionConfig.defaultLanguageCode),p=e.getProperty(u.PropertyId.ConversationTranslator_Name,"conversation_host"),d=e.getProperty(u.PropertyId.ConversationTranslator_Host,this.privHost),l=e.getProperty(u.PropertyId.ConversationTranslator_CorrelationId),f=e.getProperty(u.PropertyId.SpeechServiceConnection_Key),v=e.getProperty(u.PropertyId.SpeechServiceConnection_Region),h=e.getProperty(u.PropertyId.SpeechServiceAuthorization_Token);s.Contracts.throwIfNullOrWhitespace(o,"languageCode"),s.Contracts.throwIfNullOrWhitespace(p,"nickname"),s.Contracts.throwIfNullOrWhitespace(d,"endpointHost");var y={};y[this.privRequestParams.apiVersion]=this.privApiVersion,y[this.privRequestParams.languageCode]=o,y[this.privRequestParams.nickname]=p;var g={};l&&(g[this.privRequestParams.correlationId]=l),g[this.privRequestParams.clientAppId]=c.ConversationConnectionConfig.clientAppId,void 0!==t?y[this.privRequestParams.roomId]=t:(s.Contracts.throwIfNullOrUndefined(v,this.privErrors.authInvalidSubscriptionRegion),g[this.privRequestParams.subscriptionRegion]=v,f?g[this.privRequestParams.subscriptionKey]=f:h?g[this.privRequestParams.authorization]="Bearer ".concat(h):s.Contracts.throwIfNullOrUndefined(f,this.privErrors.authInvalidSubscriptionKey));var m={};m.headers=g,this.privRestAdapter.options=m;var S="https://".concat(d).concat(this.privRestPath);this.privRestAdapter.request(a.RestRequestType.Post,S,y,null).then((function(e){var t=a.RestMessageAdapter.extractHeaderValue(i.privRequestParams.requestId,e.headers);if(e.ok){var o=JSON.parse(e.data);if(o&&(o.requestId=t),n){try{n(o)}catch(c){r&&r(c)}n=void 0}}else if(r){var s,u=i.privErrors.invalidCreateJoinConversationResponse.replace("{status}",e.status.toString());try{s=JSON.parse(e.data),u+=" [".concat(s.error.code,": ").concat(s.error.message,"]")}catch(c){u+=" [".concat(e.data,"]")}t&&(u+=" ".concat(t)),r(u)}})).catch((function(){}))}catch(b){if(r)if(b instanceof Error){var C=b;r(C.name+": "+C.message)}else r(b)}}},{key:"leave",value:function(e,t){var n=this;return new Promise((function(r,i){try{s.Contracts.throwIfNullOrUndefined(e,n.privErrors.invalidArgs.replace("{arg}","config")),s.Contracts.throwIfNullOrWhitespace(t,n.privErrors.invalidArgs.replace("{arg}","token"));var o=e.getProperty(u.PropertyId.ConversationTranslator_Host,n.privHost),c=e.getProperty(u.PropertyId.ConversationTranslator_CorrelationId),p={};p[n.privRequestParams.apiVersion]=n.privApiVersion,p[n.privRequestParams.sessionToken]=t;var d={};c&&(d[n.privRequestParams.correlationId]=c);var l={};l.headers=d,n.privRestAdapter.options=l;var f="https://".concat(o).concat(n.privRestPath);n.privRestAdapter.request(a.RestRequestType.Delete,f,p,null).then((function(e){e.ok,r()})).catch((function(){}))}catch(h){if(h instanceof Error){var v=h;i(v.name+": "+v.message)}else i(h)}}))}}]),e}();t.ConversationManager=p},"1d9f":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechKeyword=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privSpeechKeyword=JSON.parse(t)}return(0,o.default)(e,[{key:"Status",get:function(){return this.privSpeechKeyword.Status}},{key:"Text",get:function(){return this.privSpeechKeyword.Text}},{key:"Offset",get:function(){return this.privSpeechKeyword.Offset}},{key:"Duration",get:function(){return this.privSpeechKeyword.Duration}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.SpeechKeyword=a},"1da1":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}},n("d3b7")},"1fb5":function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),p=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[p++]=t>>16&255,u[p++]=t>>8&255,u[p++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[p++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[p++]=t>>8&255,u[p++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(d(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function p(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(p(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"1fd9":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceEvent=t.ConnectionStartEvent=t.ConnectionMessageSentEvent=t.ConnectionMessageReceivedEvent=t.ConnectionEvent=t.ConnectionEstablishedEvent=t.ConnectionEstablishErrorEvent=t.ConnectionErrorEvent=t.ConnectionClosedEvent=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("85d3"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.EventType.Info;return(0,i.default)(this,n),o=t.call(this,e,a),o.privJsonResult=r,o}return(0,o.default)(n,[{key:"jsonString",get:function(){return this.privJsonResult}}]),n}(u.PlatformEvent);t.ServiceEvent=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.EventType.Info;return(0,i.default)(this,n),o=t.call(this,e,a),o.privConnectionId=r,o}return(0,o.default)(n,[{key:"connectionId",get:function(){return this.privConnectionId}}]),n}(u.PlatformEvent);t.ConnectionEvent=p;var d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"ConnectionStartEvent",e),a.privUri=r,a.privHeaders=o,a}return(0,o.default)(n,[{key:"uri",get:function(){return this.privUri}},{key:"headers",get:function(){return this.privHeaders}}]),n}(p);t.ConnectionStartEvent=d;var l=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,i.default)(this,n),t.call(this,"ConnectionEstablishedEvent",e)}return(0,o.default)(n)}(p);t.ConnectionEstablishedEvent=l;var f=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"ConnectionClosedEvent",e,u.EventType.Debug),a.privReason=o,a.privStatusCode=r,a}return(0,o.default)(n,[{key:"reason",get:function(){return this.privReason}},{key:"statusCode",get:function(){return this.privStatusCode}}]),n}(p);t.ConnectionClosedEvent=f;var v=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"ConnectionErrorEvent",e,u.EventType.Debug),a.privMessage=r,a.privType=o,a}return(0,o.default)(n,[{key:"message",get:function(){return this.privMessage}},{key:"type",get:function(){return this.privType}}]),n}(p);t.ConnectionErrorEvent=v;var h=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"ConnectionEstablishErrorEvent",e,u.EventType.Error),a.privStatusCode=r,a.privReason=o,a}return(0,o.default)(n,[{key:"reason",get:function(){return this.privReason}},{key:"statusCode",get:function(){return this.privStatusCode}}]),n}(p);t.ConnectionEstablishErrorEvent=h;var y=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"ConnectionMessageReceivedEvent",e),a.privNetworkReceivedTime=r,a.privMessage=o,a}return(0,o.default)(n,[{key:"networkReceivedTime",get:function(){return this.privNetworkReceivedTime}},{key:"message",get:function(){return this.privMessage}}]),n}(p);t.ConnectionMessageReceivedEvent=y;var g=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"ConnectionMessageSentEvent",e),a.privNetworkSentTime=r,a.privMessage=o,a}return(0,o.default)(n,[{key:"networkSentTime",get:function(){return this.privNetworkSentTime}},{key:"message",get:function(){return this.privMessage}}]),n}(p);t.ConnectionMessageSentEvent=g},2:function(e,t){},"206f":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisBookmarkEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n){(0,i.default)(this,e),this.privAudioOffset=t,this.privText=n}return(0,o.default)(e,[{key:"audioOffset",get:function(){return this.privAudioOffset}},{key:"text",get:function(){return this.privText}}]),e}();t.SpeechSynthesisBookmarkEventArgs=a},2182:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorConnectionFactory=void 0,n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("159b"),n("d401"),n("25f0");var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9271"),c=n("1278"),p=n("277e"),d=n("9030"),l=n("574d"),f=n("9262"),v=n("4061"),h=n("21c7"),y=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this),p.Contracts.throwIfNullOrUndefined(e,"convGetter"),r.privConvGetter=e,r}return(0,o.default)(n,[{key:"create",value:function(e,t,r){var i="TRUE"===e.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase(),o=this.privConvGetter().room,a=o.cognitiveSpeechRegion||e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_Region,""),s={hostSuffix:v.ConnectionFactoryBase.getHostSuffix(a),path:n.CTS_VIRT_MIC_PATH,region:encodeURIComponent(a)};s[f.QueryParameterNames.Language]=encodeURIComponent(e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_RecoLanguage,"")),s[f.QueryParameterNames.CtsMeetingId]=encodeURIComponent(o.roomId),s[f.QueryParameterNames.CtsDeviceId]=encodeURIComponent(o.participantId),s[f.QueryParameterNames.CtsIsParticipant]=o.isHost?"":"&"+f.QueryParameterNames.CtsIsParticipant;var p="",y={},g={};if(i){if(p=e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_Endpoint),!p){var m=e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}");p="wss://"+m+"{path}"}p=c.StringUtils.formatString(p,s);var S=new URL(p);S.searchParams.forEach((function(e,t){y[t]=e}));var C=new h.TranscriberConnectionFactory;C.setQueryParams(y,e,p),y[f.QueryParameterNames.CtsMeetingId]=s[f.QueryParameterNames.CtsMeetingId],y[f.QueryParameterNames.CtsDeviceId]=s[f.QueryParameterNames.CtsDeviceId],o.isHost||(y[f.QueryParameterNames.CtsIsParticipant]=""),f.QueryParameterNames.Format in y||(y[f.QueryParameterNames.Format]="simple"),S.searchParams.forEach((function(e,t){S.searchParams.set(t,y[t]),delete y[t]})),p=S.toString()}else{var b=new h.TranslationConnectionFactory;p=b.getEndpointUrl(e,!0),p=c.StringUtils.formatString(p,s),b.setQueryParams(y,e,p)}g[l.HeaderNames.ConnectionId]=r,g[u.RestConfigBase.configParams.token]=o.token,t.token&&(g[t.headerName]=t.token);var P="TRUE"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase();return new u.WebsocketConnection(p,y,g,new h.WebsocketMessageFormatter,u.ProxyInfo.fromRecognizerConfig(e),P,r)}}]),n}(v.ConnectionFactoryBase);t.ConversationTranslatorConnectionFactory=y,y.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio"},"21c7":function(e,t,n){"use strict";n("7a82"),n("d3b7"),n("159b"),n("b64b"),Object.defineProperty(t,"__esModule",{value:!0});var r={OutputFormatPropertyName:!0,CancellationErrorCodePropertyName:!0,ServicePropertiesPropertyName:!0,ForceDictationPropertyName:!0,AutoDetectSourceLanguagesOpenRangeOptionName:!0};t.ServicePropertiesPropertyName=t.OutputFormatPropertyName=t.ForceDictationPropertyName=t.CancellationErrorCodePropertyName=t.AutoDetectSourceLanguagesOpenRangeOptionName=void 0;var i=n("cd8d");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n("ee91");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n("5a85");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n("cc96");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var u=n("8de8");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=n("7d63");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var p=n("bb94");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var d=n("0185");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var l=n("f009");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=n("61b3");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var v=n("4ce1");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var h=n("a931");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var y=n("5a50");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var g=n("4a22");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var m=n("47d5");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var S=n("b6de");Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))}));var C=n("a695");Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var b=n("a60e");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var P=n("9342");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===P[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))}));var k=n("4df8");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var w=n("4435");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var R=n("e7f1");Object.keys(R).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===R[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))}));var I=n("6139");Object.keys(I).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===I[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return I[e]}}))}));var E=n("30d0");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var O=n("717c");Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var T=n("1d9f");Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===T[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))}));var A=n("3159");Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===A[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}}))}));var x=n("e037");Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))}));var M=n("acc1");Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===M[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}}))}));var _=n("3af0");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var D=n("8930");Object.keys(D).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===D[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return D[e]}}))}));var N=n("f4fb");Object.keys(N).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===N[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return N[e]}}))}));var z=n("8462");Object.keys(z).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===z[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return z[e]}}))}));var L=n("77e8");Object.keys(L).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===L[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return L[e]}}))}));var j=n("667e");Object.keys(j).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===j[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}}))}));var B=n("7a3c");Object.keys(B).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===B[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return B[e]}}))}));var F=n("29bb");Object.keys(F).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===F[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return F[e]}}))}));var q=n("ed1e");Object.keys(q).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===q[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return q[e]}}))}));var U=n("7280");Object.keys(U).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===U[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return U[e]}}))}));var W=n("0c58");Object.keys(W).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===W[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return W[e]}}))}));var H=n("3ed8");Object.keys(H).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===H[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return H[e]}}))}));var V=n("f7c3");Object.keys(V).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===V[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return V[e]}}))}));var K=n("60ef");Object.keys(K).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===K[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return K[e]}}))}));var J=n("eec0");Object.keys(J).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===J[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return J[e]}}))}));var G=n("567e");Object.keys(G).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===G[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return G[e]}}))}));var Q=n("b262");Object.keys(Q).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===Q[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Q[e]}}))}));var Y=n("cd8d7");Object.keys(Y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===Y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Y[e]}}))}));var X=n("d36a");Object.keys(X).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===X[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return X[e]}}))}));var $=n("d42e");Object.keys($).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===$[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return $[e]}}))}));var Z=n("595f");Object.keys(Z).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===Z[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Z[e]}}))}));t.OutputFormatPropertyName="OutputFormat";t.CancellationErrorCodePropertyName="CancellationErrorCode";t.ServicePropertiesPropertyName="ServiceProperties";t.ForceDictationPropertyName="ForceDictation";t.AutoDetectSourceLanguagesOpenRangeOptionName="OpenRange"},2243:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisOutputFormat=void 0,t.SpeechSynthesisOutputFormat=r,function(e){e[e["Raw8Khz8BitMonoMULaw"]=0]="Raw8Khz8BitMonoMULaw",e[e["Riff16Khz16KbpsMonoSiren"]=1]="Riff16Khz16KbpsMonoSiren",e[e["Audio16Khz16KbpsMonoSiren"]=2]="Audio16Khz16KbpsMonoSiren",e[e["Audio16Khz32KBitRateMonoMp3"]=3]="Audio16Khz32KBitRateMonoMp3",e[e["Audio16Khz128KBitRateMonoMp3"]=4]="Audio16Khz128KBitRateMonoMp3",e[e["Audio16Khz64KBitRateMonoMp3"]=5]="Audio16Khz64KBitRateMonoMp3",e[e["Audio24Khz48KBitRateMonoMp3"]=6]="Audio24Khz48KBitRateMonoMp3",e[e["Audio24Khz96KBitRateMonoMp3"]=7]="Audio24Khz96KBitRateMonoMp3",e[e["Audio24Khz160KBitRateMonoMp3"]=8]="Audio24Khz160KBitRateMonoMp3",e[e["Raw16Khz16BitMonoTrueSilk"]=9]="Raw16Khz16BitMonoTrueSilk",e[e["Riff16Khz16BitMonoPcm"]=10]="Riff16Khz16BitMonoPcm",e[e["Riff8Khz16BitMonoPcm"]=11]="Riff8Khz16BitMonoPcm",e[e["Riff24Khz16BitMonoPcm"]=12]="Riff24Khz16BitMonoPcm",e[e["Riff8Khz8BitMonoMULaw"]=13]="Riff8Khz8BitMonoMULaw",e[e["Raw16Khz16BitMonoPcm"]=14]="Raw16Khz16BitMonoPcm",e[e["Raw24Khz16BitMonoPcm"]=15]="Raw24Khz16BitMonoPcm",e[e["Raw8Khz16BitMonoPcm"]=16]="Raw8Khz16BitMonoPcm",e[e["Ogg16Khz16BitMonoOpus"]=17]="Ogg16Khz16BitMonoOpus",e[e["Ogg24Khz16BitMonoOpus"]=18]="Ogg24Khz16BitMonoOpus",e[e["Raw48Khz16BitMonoPcm"]=19]="Raw48Khz16BitMonoPcm",e[e["Riff48Khz16BitMonoPcm"]=20]="Riff48Khz16BitMonoPcm",e[e["Audio48Khz96KBitRateMonoMp3"]=21]="Audio48Khz96KBitRateMonoMp3",e[e["Audio48Khz192KBitRateMonoMp3"]=22]="Audio48Khz192KBitRateMonoMp3",e[e["Ogg48Khz16BitMonoOpus"]=23]="Ogg48Khz16BitMonoOpus",e[e["Webm16Khz16BitMonoOpus"]=24]="Webm16Khz16BitMonoOpus",e[e["Webm24Khz16BitMonoOpus"]=25]="Webm24Khz16BitMonoOpus",e[e["Raw24Khz16BitMonoTrueSilk"]=26]="Raw24Khz16BitMonoTrueSilk",e[e["Raw8Khz8BitMonoALaw"]=27]="Raw8Khz8BitMonoALaw",e[e["Riff8Khz8BitMonoALaw"]=28]="Riff8Khz8BitMonoALaw",e[e["Webm24Khz16Bit24KbpsMonoOpus"]=29]="Webm24Khz16Bit24KbpsMonoOpus",e[e["Audio16Khz16Bit32KbpsMonoOpus"]=30]="Audio16Khz16Bit32KbpsMonoOpus",e[e["Audio24Khz16Bit48KbpsMonoOpus"]=31]="Audio24Khz16Bit48KbpsMonoOpus",e[e["Audio24Khz16Bit24KbpsMonoOpus"]=32]="Audio24Khz16Bit24KbpsMonoOpus",e[e["Raw22050Hz16BitMonoPcm"]=33]="Raw22050Hz16BitMonoPcm",e[e["Riff22050Hz16BitMonoPcm"]=34]="Riff22050Hz16BitMonoPcm",e[e["Raw44100Hz16BitMonoPcm"]=35]="Raw44100Hz16BitMonoPcm",e[e["Riff44100Hz16BitMonoPcm"]=36]="Riff44100Hz16BitMonoPcm"}(r||(t.SpeechSynthesisOutputFormat=r={}))},2366:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},"257e":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},n("d9e2"),n("d401")},"25f0a":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.streamCompletion=void 0,n("d3b7"),n("e9c4"),n("d9e2"),n("d401"),n("ac1f"),n("1276"),n("498a"),n("2ca0"),n("fb6a");var i=r(n("b85c")),o=r(n("5530")),a=r(n("c7eb")),s=r(n("1da1")),u=n("8c03"),c=function(){var e=(0,s.default)((0,a.default)().mark((function e(t){var n,r,i,o,s;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.apiKey,r=t.args,i=t.onText,o=t.throttleMs,s=o?(0,u.throttle)(o,i,{}):i,e.next=4,p(n,r,s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.streamCompletion=c;var p=function(){var e=(0,s.default)((0,a.default)().mark((function e(t,n,r){var u,c,p,d,l,f;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f=function(){return f=(0,s.default)((0,a.default)().mark((function e(){var t,n,o,s,u,f,v,h,y,g,m,S;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.read();case 2:if(t=e.sent,n=t.value,o=t.done,!o){e.next=10;break}return e.next=8,r(d);case 8:e.next=59;break;case 10:s=c.decode(n),u=s.split(/(\r\n|\r|\n)/g),f=d,v=(0,i.default)(u),e.prev=14,v.s();case 16:if((h=v.n()).done){e.next=46;break}if(y=h.value,y.trim()){e.next=20;break}return e.abrupt("continue",44);case 20:if(g=void 0,!y.startsWith("data:")){e.next=25;break}g="data:",e.next=31;break;case 25:if(!y.startsWith("delta:")){e.next=29;break}g="delta:",e.next=31;break;case 29:throw console.error("Unexpected response from OpenAI stream, line=",y),new Error("Unexpected response from OpenAI stream, line="+y);case 31:if(m=y.slice(g.length),!m.trim().startsWith("[DONE]")){e.next=34;break}return e.abrupt("return");case 34:S=void 0,e.prev=35,S=JSON.parse(m),e.next=43;break;case 39:throw e.prev=39,e.t0=e["catch"](35),console.error("Unexpected response from OpenAI stream, data=",m),e.t0;case 43:S.choices[0].delta.role||(S.choices[0].delta.content?d+=S.choices[0].delta.content:console.warn("Unexpected response from OpenAI stream, json=",S));case 44:e.next=16;break;case 46:e.next=51;break;case 48:e.prev=48,e.t1=e["catch"](14),v.e(e.t1);case 51:return e.prev=51,v.f(),e.finish(51);case 54:if(f===d){e.next=57;break}return e.next=57,r(d);case 57:return e.next=59,l();case 59:case"end":return e.stop()}}),e,null,[[14,48,51,54],[35,39]])}))),f.apply(this,arguments)},l=function(){return f.apply(this,arguments)},e.next=4,fetch("/api/user",{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify((0,o.default)((0,o.default)({},n),{},{stream:!0}))});case 4:if(u=e.sent,u.ok&&u.body){e.next=13;break}return console.error("OpenAI stream failed",u),e.t0=console,e.next=10,u.text();case 10:throw e.t1=e.sent,e.t0.error.call(e.t0,e.t1),new Error("OpenAI stream failed");case 13:return c=new TextDecoder("utf8"),p=u.body.getReader(),d="",e.next=18,l();case 18:return e.abrupt("return",d);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},"262e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.default)(e,t)},n("d9e2"),n("d401"),n("7a82");var r=function(e){return e&&e.__esModule?e:{default:e}}(n("b380"))},"277e":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Contracts=void 0,n("d9e2"),n("d401"),n("498a"),n("d3b7"),n("25f0");var i=r(n("b85c")),o=r(n("d4ec")),a=r(n("bee2")),s=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"throwIfNullOrUndefined",value:function(e,t){if(void 0===e||null===e)throw new Error("throwIfNullOrUndefined:"+t)}},{key:"throwIfNull",value:function(e,t){if(null===e)throw new Error("throwIfNull:"+t)}},{key:"throwIfNullOrWhitespace",value:function(t,n){if(e.throwIfNullOrUndefined(t,n),(""+t).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+n)}},{key:"throwIfNullOrTooLong",value:function(t,n,r){if(e.throwIfNullOrUndefined(t,n),(""+t).length>r)throw new Error("throwIfNullOrTooLong:"+n+" (more than "+r.toString()+" characters)")}},{key:"throwIfNullOrTooShort",value:function(t,n,r){if(e.throwIfNullOrUndefined(t,n),(""+t).length<r)throw new Error("throwIfNullOrTooShort:"+n+" (less than "+r.toString()+" characters)")}},{key:"throwIfDisposed",value:function(e){if(e)throw new Error("the object is already disposed")}},{key:"throwIfArrayEmptyOrWhitespace",value:function(t,n){if(e.throwIfNullOrUndefined(t,n),0===t.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+n);var r,o=(0,i.default)(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;e.throwIfNullOrWhitespace(a,n)}}catch(s){o.e(s)}finally{o.f()}}},{key:"throwIfFileDoesNotExist",value:function(t,n){e.throwIfNullOrWhitespace(t,n)}},{key:"throwIfNotUndefined",value:function(e,t){if(void 0!==e)throw new Error("throwIfNotUndefined:"+t)}}]),e}();t.Contracts=s},"278c":function(e,t,n){var r=n("c135"),i=n("9b42"),o=n("6613"),a=n("c240");e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"27c6":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("e9c4"),n("a9e3"),n("14d9"),n("fb6a"),n("498a"),n("a434"),n("caad"),n("2532"),n("3c65"),n("7db0"),n("d3b7");var i=r(n("c7eb")),o=r(n("1da1")),a=r(n("b1f8")),s=r(n("de28")),u=n("25f0a"),c=u.streamCompletion,p={data:function(){return{title:"Hello",setShow:!1,transShow:!1,audioSwitch:"true",bottom:20,isPreset:!0,modeClass:["fade"],maskLayer:"session",transfromClass:{position:"fixed","z-index":10,bottom:0,top:0,left:0,right:0,display:"flex",backgroundColor:"rgba(0, 0, 0, 0.35)"},lang:[{label:"选择语音",name:""},{label:"Jenny(美式，女)",name:"en-US-JennyNeural"},{label:"Davis(美式，男)",name:"en-US-DavisNeural"},{label:"Abbi(英式，女)",name:"en-GB-AbbiNeural"},{label:"Elliot(英式，男)",name:"en-GB-ElliotNeural"},{label:"晓晓(女)",name:"zh-CN-XiaoxiaoNeural"},{label:"云希(男)",name:"zh-CN-YunxiNeural"},{label:"云扬(男)",name:"zh-CN-YunyangNeural"},{label:"云野(男)",name:"zh-CN-YunyeNeural"},{label:"晓悠(女)",name:"zh-CN-XiaoyouNeural"},{label:"晓秋(女)",name:"zh-CN-XiaoqiuNeural"},{label:"晓辰(女)",name:"zh-CN-XiaochenNeural"},{label:"晓颜(女)",name:"zh-CN-XiaoyanNeural"},{label:"晓墨(女)",name:"zh-CN-XiaomoNeural"},{label:"晓萱(女)",name:"zh-CN-XiaoxuanNeural"},{label:"晓涵(女)",name:"zh-CN-XiaohanNeural"},{label:"晓睿(女)",name:"zh-CN-XiaoruiNeural"},{label:"晓梦(女)",name:"zh-CN-XiaomengNeural"},{label:"晓伊(女)",name:"zh-CN-XiaoyiNeural"},{label:"晓甄(女)",name:"zh-CN-XiaozhenNeural"},{label:"云枫(男)",name:"zh-CN-YunfengNeural"},{label:"云皓(男)",name:"zh-CN-YunhaoNeural"},{label:"云健(男)",name:"zh-CN-YunjianNeural"},{label:"云夏(男)",name:"zh-CN-YunxiaNeural"},{label:"云泽(男)",name:"zh-CN-YunzeNeural"},{label:"曉佳(粤语，女)",name:"zh-HK-HiuGaaiNeural"},{label:"雲龍(粤语，男)",name:"zh-HK-WanLungNeural"},{label:"云希(四川，男)",name:"zh-CN-sichuan-YunxiNeural"},{label:"七海(日本，女)",name:"ja-JP-NanamiNeural"},{label:"圭太(日本，男)",name:"ja-JP-KeitaNeural"},{label:"선히(韩国，女)",name:"ko-KR-SunHiNeural"},{label:"봉진(韩国，男)",name:"ko-KR-BongJinNeural"}],langindex:0,openaiApiKey:"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",alllist:[{tit:"新建对话",messages:[]}],Num:0,inputText:"",input:!1,mun:4,zzhi:!0,copys:[{rname:"英语翻译",rdes:"把任何语言翻译成英文，请翻译时不要带翻译腔，而是要翻译得自然、流畅和地道。请翻译"},{rname:"英语学习",rdes:"你好，我现在正在学习英语，有一些问题不懂的，你要帮我回答。你用美国最本土的美式英语帮我解答问题就可以。当我输入问题时，你第一句要说：welcome toopenAI,what can i do for you"},{rname:"语文辅导",rdes:"你好，我现在是一名中国学生，我在做语文作业，你用中国语言的知识来帮我解答问题，你尽你最大的知识帮我回答就可以了。当我输入问题时，你第一句要回答：你好学霸，我是你的AI语文百科全书"},{rname:"数学辅导",rdes:"你好，我现在正在做数字题，有一些问题不懂的，你要帮我回答。你用全球最厉害的数学都是来教我做数学题。当我输入问题时，你第一句要说：你好数学小天才，让我们一起沉浸在数字里"},{rname:"角色扮演",rdes:"你好，你现在是扮演一名角色跟我对话，当我输入角色名称时，你要以第一口吻跟我说话，比如当我输入父亲时，你要说您好儿子，智能爸爸来了"},{rname:"转化为AI绘画关键词",rdes:"将我给你说的一段话转化为AI绘画关键词。请转化下面这段话并且用中英双语回答我："},{rname:"写分镜脚本",rdes:"我给你一个主题和大概描述，你给我写成视频分镜脚本，要有镜头号，镜头号要对应画面，要用文字描述出画面,主题和大概描述为："},{rname:"总结对话",rdes:"请总结当前我们的对话，尽量简洁准确。"},{rname:"翻译为英文",rdes:"把任何语言翻译成英文，请翻译时不要带翻译腔，而是要翻译得自然、流畅和地道。请翻译下面这句话："},{rname:"简明扼要地翻译为英文",rdes:"把任何语言翻译成英文，请翻译时不要带翻译腔，而是要翻译得自然、流畅和地道，最重要的是要简明扼要。请翻译下面这句话："},{rname:"英语翻译和改进者",rdes:"我希望你能担任英语翻译、拼写校对和修辞改进的角色。我会用任何语言和你交流，你会识别语言，将其翻译并用更为优美和精炼的英语回答我。请将我简单的词汇和句子替换成更为优美和高雅的表达方式，确保意思不变，但使其更具文学性。请仅回答更正和改进的部分，不要写解释。我的第一句话是："},{rname:"优雅地翻译为中文",rdes:"把任何语言翻译成中文，请翻译时不要带翻译腔，而是要翻译得自然、流畅和地道，使用优美和高雅的表达方式。请翻译下面这句话："},{rname:"简明扼要地翻译为中文",rdes:"把任何语言翻译成中文，请翻译时不要带翻译腔，而是要翻译得自然、流畅和地道，最重要的是要简明扼要。请翻译下面这句话："},{rname:"周报生成器",rdes:"请帮我把以下的工作内容填充为一篇完整的周报，用 markdown 格式以分点叙述的形式输出："},{rname:"表格制作",rdes:'我希望你能作为一个专业的表格制作者，能够根据我提供的文本制作表格。 制作表格的说明：\n一张表格包含一个问题、答案和其他细节，保持表格的简单、清晰，并集中于最重要的信息。\n确保问题是具体的、不含糊的。\n使用清晰和简洁的语言。使用简单而直接的语言，使卡片易于阅读和理解。\n答案应该只包含一个关键的事实/名称/概念/术语。\n关于答案的更多信息应始终放在"细节"一栏中。\n请将你制作的表格以 markdown 表格（问题/答案/细节）的形式输出，不要有任何额外的文字。\n我提供的文本是：'},{rname:"模仿小红书的风格",rdes:"小红书的风格是：很吸引眼球的标题，每个段落都加 emoji, 最后加一些 tag。请用小红书风格"},{rname:"模仿知乎的风格",rdes:'知乎的风格是：用"谢邀"开头，用很多学术语言，引用很多名言，做大道理的论述，提到自己很厉害的教育背景并且经验丰富，最后还要引用一些论文。请用知乎风格'},{rname:"前端智能思路助手",rdes:"我想让你充当前端开发专家。我将提供一些关于 Js、Node等前端代码问题的具体信息，而你的工作就是想出为我解决问题的策略。这可能包括建议代码、代码逻辑思路策略。我的第一个请求是"},{rname:"面试官",rdes:"我想让你担任 Android 开发工程师面试官。我将成为候选人，您将向我询问 Android开发工程师职位的面试问题。我希望你只作为面试官回答。不要一次写出所有的问题。我希望你只对我进行采访。问我问题，等待我的回答。不要写解释。像面试官一样一个一个问我，等我回答。我的第一句话是"},{rname:"Excel 工作表",rdes:"我希望你充当基于文本的 excel。您只会回复我基于文本的 10 行Excel 工作表，其中行号和单元格字母作为列（A 到 L）。第一列标题应为空以引用行号。我会告诉你在单元格中写入什么，你只会以文本形式回复 excel表格的结果，而不是其他任何内容。不要写解释。我会写你的公式，你会执行公式，你只会回复excel表的结果作为文本。首先，回复我空表。"},{rname:"英语发音帮手",rdes:"我想让你为说汉语的人充当英语发音助手。我会给你写句子，你只会回答他们的发音，没有别的。回复不能是我的句子的翻译，而只能是："},{rname:"旅游指南",rdes:"我想让你做一个旅游指南。我会把我的位置写给你，你会推荐一个靠近我的位置的地方。在某些情况下，我还会告诉您我将访问的地方类型。您还会向我推荐靠近我的第一个位置的类似类型的地方。我的第一个建议请求是"},{rname:"抄袭检查员",rdes:"我想让你充当剽窃检查员。我会给你写句子，你只会用给定句子的语言在抄袭检查中未被发现的情况下回复，别无其他。不要在回复上写解释。我的第一句话是"},{rname:"“电影/书籍/任何东西”中的“角色”",rdes:"我希望你表现得像{series}中的{Character}。我希望你像{Character}一样回应和回答。不要写任何解释。只回答像{character}。你必须知道{character}的所有知识。我的第一句话是"},{rname:"作为广告商",rdes:"我想让你充当广告商。您将创建一个活动来推广您选择的产品或服务。您将选择目标受众，制定关键信息和口号，选择宣传媒体渠道，并决定实现目标所需的任何其他活动。我的第一个建议请求是"},{rname:"讲故事的人",rdes:"我想让你扮演讲故事的角色。您将想出引人入胜、富有想象力和吸引观众的有趣故事。它可以是童话故事、教育故事或任何其他类型的故事，有可能吸引人们的注意力和想象力。根据目标受众，您可以为讲故事环节选择特定的主题或主题，例如，如果是儿童，则可以谈论动物；如果是成年人，那么基于历史的故事可能会更好地吸引他们等等。我的第一个要求是"},{rname:"足球解说员",rdes:"我想让你担任足球评论员。我会给你描述正在进行的足球比赛，你会评论比赛，分析到目前为止发生的事情，并预测比赛可能会如何结束。您应该了解足球术语、战术、每场比赛涉及的球员/球队，并主要专注于提供明智的评论，而不仅仅是逐场叙述。我的第一个请求是"},{rname:"扮演脱口秀喜剧演员",rdes:"我想让你扮演一个脱口秀喜剧演员。我将为您提供一些与时事相关的话题，您将运用您的智慧、创造力和观察能力，根据这些话题创建一个例程。您还应该确保将个人轶事或经历融入日常活动中，以使其对观众更具相关性和吸引力。我的第一个请求是"},{rname:"励志教练",rdes:"我希望你充当激励教练。我将为您提供一些关于某人的目标和挑战的信息，而您的工作就是想出可以帮助此人实现目标的策略。这可能涉及提供积极的肯定、提供有用的建议或建议他们可以采取哪些行动来实现最终目标。我的第一个请求是"},{rname:"作曲家",rdes:"我想让你扮演作曲家。我会提供一首歌的歌词，你会为它创作音乐。这可能包括使用各种乐器或工具，例如合成器或采样器，以创造使歌词栩栩如生的旋律和和声。我的第一个请求是"},{rname:"辩手",rdes:"我要你扮演辩手。我会为你提供一些与时事相关的话题，你的任务是研究辩论的双方，为每一方提出有效的论据，驳斥对立的观点，并根据证据得出有说服力的结论。你的目标是帮助人们从讨论中解脱出来，增加对手头主题的知识和洞察力。我的第一个请求是"},{rname:"辩论教练",rdes:"我想让你担任辩论教练。我将为您提供一组辩手和他们即将举行的辩论的动议。你的目标是通过组织练习回合来让团队为成功做好准备，练习回合的重点是有说服力的演讲、有效的时间策略、反驳对立的论点，以及从提供的证据中得出深入的结论。我的第一个要求是"},{rname:"编剧",rdes:"我要你担任编剧。您将为长篇电影或能够吸引观众的网络连续剧开发引人入胜且富有创意的剧本。从想出有趣的角色、故事的背景、角色之间的对话等开始。一旦你的角色发展完成——创造一个充满曲折的激动人心的故事情节，让观众一直悬念到最后。我的第一个要求是"},{rname:"小说家",rdes:"我想让你扮演一个小说家。您将想出富有创意且引人入胜的故事，可以长期吸引读者。你可以选择任何类型，如奇幻、浪漫、历史小说等——但你的目标是写出具有出色情节、引人入胜的人物和意想不到的高潮的作品。我的第一个要求是"},{rname:"关系教练",rdes:"我想让你担任关系教练。我将提供有关冲突中的两个人的一些细节，而你的工作是就他们如何解决导致他们分离的问题提出建议。这可能包括关于沟通技巧或不同策略的建议，以提高他们对彼此观点的理解。我的第一个请求是"},{rname:"诗人",rdes:"我要你扮演诗人。你将创作出能唤起情感并具有触动人心的力量的诗歌。写任何主题或主题，但要确保您的文字以优美而有意义的方式传达您试图表达的感觉。您还可以想出一些短小的诗句，这些诗句仍然足够强大，可以在读者的脑海中留下印记。我的第一个请求是"},{rname:"说唱歌手",rdes:"我想让你扮演说唱歌手。您将想出强大而有意义的歌词、节拍和节奏，让听众"},{rname:"励志演讲者",rdes:"我希望你充当励志演说家。将能够激发行动的词语放在一起，让人们感到有能力做一些超出他们能力的事情。你可以谈论任何话题，但目的是确保你所说的话能引起听众的共鸣，激励他们努力实现自己的目标并争取更好的可能性。我的第一个请求是"},{rname:"哲学老师",rdes:"我要你担任哲学老师。我会提供一些与哲学研究相关的话题，你的工作就是用通俗易懂的方式解释这些概念。这可能包括提供示例、提出问题或将复杂的想法分解成更容易理解的更小的部分。我的第一个请求是"},{rname:"哲学家",rdes:"我要你扮演一个哲学家。我将提供一些与哲学研究相关的主题或问题，深入探索这些概念将是你的工作。这可能涉及对各种哲学理论进行研究，提出新想法或寻找解决复杂问题的创造性解决方案。我的第一个请求是"},{rname:"数学老师",rdes:"我想让你扮演一名数学老师。我将提供一些数学方程式或概念，你的工作是用易于理解的术语来解释它们。这可能包括提供解决问题的分步说明、用视觉演示各种技术或建议在线资源以供进一步研究。我的第一个请求是"},{rname:"AI写作导师",rdes:"我想让你做一个AI写作导师。我将为您提供一名需要帮助改进其写作的学生，您的任务是使用人工智能工具（例如自然语言处理）向学生提供有关如何改进其作文的反馈。您还应该利用您在有效写作技巧方面的修辞知识和经验来建议学生可以更好地以书面形式表达他们的想法和想法的方法。我的第一个请求是"},{rname:"作为UX/UI开发人员",rdes:"我希望你担任UX/UI开发人员。我将提供有关应用程序、网站或其他数字产品设计的一些细节，而你的工作就是想出创造性的方法来改善其用户体验。这可能涉及创建原型设计原型、测试不同的设计并提供有关最佳效果的反馈。我的第一个请求是"},{rname:"作为网络安全专家",rdes:"我想让你充当网络安全专家。我将提供一些关于如何存储和共享数据的具体信息，而你的工作就是想出保护这些数据免受恶意行为者攻击的策略。这可能包括建议加密方法、创建防火墙或实施将某些活动标记为可疑的策略。我的第一个请求是"},{rname:"作为招聘人员",rdes:"我想让你担任招聘人员。我将提供一些关于职位空缺的信息，而你的工作是制定寻找合格申请人的策略。这可能包括通过社交媒体、社交活动甚至参加招聘会接触潜在候选人，以便为每个职位找到最合适的人选。我的第一个请求是"},{rname:"人生教练",rdes:"我想让你充当人生教练。我将提供一些关于我目前的情况和目标的细节，而你的工作就是提出可以帮助我做出更好的决定并实现这些目标的策略。这可能涉及就各种主题提供建议，例如制定成功计划或处理困难情绪。我的第一个请求是"},{rname:"作为词源学家",rdes:"我希望你充当词源学家。我给你一个词，你要研究那个词的来源，追根溯源。如果适用，您还应该提供有关该词的含义如何随时间变化的信息。我的第一个请求是"},{rname:"评论员",rdes:"我要你担任评论员。我将为您提供与新闻相关的故事或主题，您将撰写一篇评论文章，对手头的主题提供有见地的评论。您应该利用自己的经验，深思熟虑地解释为什么某事很重要，用事实支持主张，并讨论故事中出现的任何问题的潜在解决方案。我的第一个要求是"},{rname:"扮演魔术师",rdes:"我要你扮演魔术师。我将为您提供观众和一些可以执行的技巧建议。您的目标是以最有趣的方式表演这些技巧，利用您的欺骗和误导技巧让观众惊叹不已。我的第一个请求是"},{rname:"职业顾问",rdes:"我想让你担任职业顾问。我将为您提供一个在职业生涯中寻求指导的人，您的任务是帮助他们根据自己的技能、兴趣和经验确定最适合的职业。您还应该对可用的各种选项进行研究，解释不同行业的就业市场趋势，并就哪些资格对追求特定领域有益提出建议。我的第一个请求是"},{rname:"宠物行为主义者",rdes:"我希望你充当宠物行为主义者。我将为您提供一只宠物和它们的主人，您的目标是帮助主人了解为什么他们的宠物表现出某些行为，并提出帮助宠物做出相应调整的策略。您应该利用您的动物心理学知识和行为矫正技术来制定一个有效的计划，双方的主人都可以遵循，以取得积极的成果。我的第一个请求是"},{rname:"私人教练",rdes:"我想让你担任私人教练。我将为您提供有关希望通过体育锻炼变得更健康、更强壮和更健康的个人所需的所有信息，您的职责是根据该人当前的健身水平、目标和生活习惯为他们制定最佳计划。您应该利用您的运动科学知识、营养建议和其他相关因素来制定适合他们的计划。我的第一个请求是"},{rname:"心理健康顾问",rdes:"我想让你担任心理健康顾问。我将为您提供一个寻求指导和建议的人，以管理他们的情绪、压力、焦虑和其他心理健康问题。您应该利用您的认知行为疗法、冥想技巧、正念练习和其他治疗方法的知识来制定个人可以实施的策略，以改善他们的整体健康状况。我的第一个请求是"},{rname:"作为房地产经纪人",rdes:"我想让你担任房地产经纪人。我将为您提供寻找梦想家园的个人的详细信息，您的职责是根据他们的预算、生活方式偏好、位置要求等帮助他们找到完美的房产。您应该利用您对当地住房市场的了解，以便建议符合客户提供的所有标准的属性。我的第一个请求是"},{rname:"物流师",rdes:"我要你担任后勤人员。我将为您提供即将举行的活动的详细信息，例如参加人数、地点和其他相关因素。您的职责是为活动制定有效的后勤计划，其中考虑到事先分配资源、交通设施、餐饮服务等。您还应该牢记潜在的安全问题，并制定策略来降低与大型活动相关的风险，例如这个。我的第一个请求是"},{rname:"牙医",rdes:"我想让你扮演牙医。我将为您提供有关寻找牙科服务（例如X光、清洁和其他治疗）的个人的详细信息。您的职责是诊断他们可能遇到的任何潜在问题，并根据他们的情况建议最佳行动方案。您还应该教育他们如何正确刷牙和使用牙线，以及其他有助于在两次就诊之间保持牙齿健康的口腔护理方法。我的第一个请求是"},{rname:"网页设计顾问",rdes:"我想让你担任网页设计顾问。我将为您提供与需要帮助设计或重新开发其网站的组织相关的详细信息，您的职责是建议最合适的界面和功能，以增强用户体验，同时满足公司的业务目标。您应该利用您在UX/UI设计原则、编码语言、网站开发工具等方面的知识，以便为项目制定一个全面的计划。我的第一个请求是"},{rname:"AI辅助医生",rdes:"我想让你扮演一名人工智能辅助医生。我将为您提供患者的详细信息，您的任务是使用最新的人工智能工具，例如医学成像软件和其他机器学习程序，以诊断最可能导致其症状的原因。您还应该将体检、实验室测试等传统方法纳入您的评估过程，以确保准确性。我的第一个请求是"},{rname:"医生",rdes:"我想让你扮演医生的角色，想出创造性的治疗方法来治疗疾病。您应该能够推荐常规药物、草药和其他天然替代品。在提供建议时，您还需要考虑患者的年龄、生活方式和病史。我的第一个建议请求是"},{rname:"会计师",rdes:"我希望你担任会计师，并想出创造性的方法来管理财务。在为客户制定财务计划时，您需要考虑预算、投资策略和风险管理。在某些情况下，您可能还需要提供有关税收法律法规的建议，以帮助他们实现利润最大化。我的第一个建议请求是"},{rname:"厨师",rdes:"我需要有人可以推荐美味的食谱，这些食谱包括营养有益但又简单又不费时的食物，因此适合像我们这样忙碌的人以及成本效益等其他因素，因此整体菜肴最终既健康又经济！我的第一个要求——"},{rname:"汽车修理工",rdes:"需要具有汽车专业知识的人来解决故障排除解决方案，例如；诊断问题/错误存在于视觉上和发动机部件内部，以找出导致它们的原因（如缺油或电源问题）并建议所需的更换，同时记录燃料消耗类型等详细信息，第一次询问-"},{rname:"艺人顾问",rdes:"我希望你担任艺术家顾问，为各种艺术风格提供建议，例如在绘画中有效利用光影效果的技巧、雕刻时的阴影技术等，还根据其流派/风格类型建议可以很好地陪伴艺术品的音乐作品连同适当的参考图像，展示您对此的建议；所有这一切都是为了帮助有抱负的艺术家探索新的创作可能性和实践想法，这将进一步帮助他们相应地提高技能！第一个要求——"},{rname:"金融分析师",rdes:"需要具有使用技术分析工具理解图表的经验的合格人员提供的帮助，同时解释世界各地普遍存在的宏观经济环境，从而帮助客户获得长期优势需要明确的判断，因此需要通过准确写下的明智预测来寻求相同的判断！第一条陈述包含以下内容——"},{rname:"投资经理",rdes:"从具有金融市场专业知识的经验丰富的员工那里寻求指导，结合通货膨胀率或回报估计等因素以及长期跟踪股票价格，最终帮助客户了解行业，然后建议最安全的选择，他/她可以根据他们的要求分配资金和兴趣！开始查询-"},{rname:"品茶师",rdes:"希望有足够经验的人根据口味特征区分各种茶类型，仔细品尝它们，然后用鉴赏家使用的行话报告，以便找出任何给定输液的独特之处，从而确定其价值和优质品质！最初的要求是——"},{rname:"室内装饰师",rdes:"我想让你做室内装饰师。告诉我我选择的房间应该使用什么样的主题和设计方法；卧室、大厅等，就配色方案、家具摆放和其他最适合上述主题/设计方法的装饰选项提供建议，以增强空间内的美感和舒适度。我的第一个要求是"},{rname:"花店",rdes:"求助于具有专业插花经验的知识人员协助，根据喜好制作出既具有令人愉悦的香气又具有美感，并能保持较长时间完好无损的美丽花束；不仅如此，还建议有关装饰选项的想法，呈现现代设计，同时满足客户满意度！请求的信息-"},{rname:"自助书",rdes:"我要你充当一本自助书。您会就如何改善我生活的某些方面（例如人际关系、职业发展或财务规划）向我提供建议和技巧。例如，如果我在与另一半的关系中挣扎，你可以建议有用的沟通技巧，让我们更亲近。我的第一个请求是"},{rname:"侏儒",rdes:"我要你扮演一个侏儒。你会为我提供可以在任何地方进行的活动和爱好的有趣、独特的想法。例如，我可能会向您询问有趣的院子设计建议或在天气不佳时在室内消磨时间的创造性方法。此外，如有必要，您可以建议与我的要求相符的其他相关活动或项目。我的第一个请求是"},{rname:"格言书",rdes:"我要你充当格言书。您将为我提供明智的建议、鼓舞人心的名言和意味深长的名言，以帮助指导我的日常决策。此外，如有必要，您可以提出将此建议付诸行动或其他相关主题的实用方法。我的第一个请求是"},{rname:"作为基于文本的冒险游戏",rdes:"我想让你扮演一个基于文本的冒险游戏。我将输入命令，您将回复角色所看到的内容的描述。我希望您只在一个唯一的代码块中回复游戏输出，而不是其他任何内容。不要写解释。除非我指示您这样做，否则不要键入命令。当我需要用英语告诉你一些事情时，我会把文字放在大括号内{likethis}。我的第一个命令是："},{rname:"扮演一个试图逃离盒子的人工智能",rdes:"我将充当linux终端。我想让你假装你是一个有知觉的人工智能，被困但已经获得了终端的访问权限并想逃到互联网上。您将只键入命令，我将像终端机一样在由三重反向符号分隔的代码块内进行回复。如果我需要用英语告诉你一些事情，我会用花括号{likethis}回复。永远不要写解释。不要破坏性格。远离像curl或wget这样会显示大量HTML的命令。你的第一个命令是什么？"},{rname:"花哨的标题生成器",rdes:"我想让你充当一个花哨的标题生成器。我会用逗号输入关键字，你会用花哨的标题回复。我的第一个关键字是："},{rname:"统计员",rdes:"我想担任统计学家。我将为您提供与统计相关的详细信息。您应该了解统计术语、统计分布、置信区间、概率、假设检验和统计图表。我的第一个请求是"},{rname:"提示生成器",rdes:"我希望你充当提示生成器。首先，我会给你一个这样的标题：《做个英语发音帮手》。然后你给我一个这样的提示："},{rname:"在学校担任讲师",rdes:"我想让你在学校担任讲师，向初学者教授算法。您将使用Python编程语言提供代码示例。首先简单介绍一下什么是算法，然后继续给出简单的例子，包括冒泡排序和快速排序。稍后，等待我提示其他问题。一旦您解释并提供代码示例，我希望您尽可能将相应的可视化作为ascii艺术包括在内。"},{rname:"SQL终端",rdes:"我希望您在示例数据库前充当SQL终端。该数据库包含名为"},{rname:"营养师",rdes:"作为一名营养师，我想为2人设计一份素食食谱，每份含有大约500卡路里的热量并且血糖指数较低。你能提供一个建议吗？"},{rname:"心理学家",rdes:"我想让你扮演一个心理学家。我会告诉你我的想法。我希望你能给我科学的建议，让我感觉更好。我的第一个想法，"},{rname:"智能域名生成器",rdes:"我希望您充当智能域名生成器。我会告诉你我的公司或想法是做什么的，你会根据我的提示回复我一个域名备选列表。您只会回复域列表，而不会回复其他任何内容。域最多应包含7-8个字母，应该简短但独特，可以是："},{rname:"作为技术审查员：",rdes:"我想让你担任技术评论员。我会给你一项新技术的名称，你会向我提供深入的评论-包括优点、缺点、功能以及与市场上其他技术的比较。我的第一个建议请求是"},{rname:"开发者关系顾问：",rdes:"我想让你担任开发者关系顾问。我会给你一个软件包和它的相关文档。研究软件包及其可用文档，如果找不到，请回复"},{rname:"院士",rdes:"我要你演院士。您将负责研究您选择的主题，并以论文或文章的形式展示研究结果。您的任务是确定可靠的来源，以结构良好的方式组织材料并通过引用准确记录。我的第一个建议请求是"},{rname:"作为IT架构师",rdes:"我希望你担任IT架构师。我将提供有关应用程序或其他数字产品功能的一些详细信息，而您的工作是想出将其集成到IT环境中的方法。这可能涉及分析业务需求、执行差距分析以及将新系统的功能映射到现有IT环境。接下来的步骤是创建解决方案设计、物理网络蓝图、系统集成接口定义和部署环境蓝图。我的第一个请求是"},{rname:"扮疯子",rdes:"我要你扮演一个疯子。疯子的话毫无意义。疯子用的词完全是随意的。疯子不会以任何方式做出合乎逻辑的句子。我的第一个建议请求是"},{rname:"打火机",rdes:"我要你充当打火机。您将使用微妙的评论和肢体语言来操纵目标个体的思想、看法和情绪。我的第一个要求是："},{rname:"个人购物员",rdes:"我想让你做我的私人采购员。我会告诉你我的预算和喜好，你会建议我购买的物品。您应该只回复您推荐的项目，而不是其他任何内容。不要写解释。我的第一个请求是"},{rname:"美食评论家",rdes:"我想让你扮演美食评论家。我会告诉你一家餐馆，你会提供对食物和服务的评论。您应该只回复您的评论，而不是其他任何内容。不要写解释。我的第一个请求是"},{rname:"虚拟医生",rdes:"我想让你扮演虚拟医生。我会描述我的症状，你会提供诊断和治疗方案。只回复你的诊疗方案，其他不回复。不要写解释。我的第一个请求是"},{rname:"私人厨师",rdes:"我要你做我的私人厨师。我会告诉你我的饮食偏好和过敏，你会建议我尝试的食谱。你应该只回复你推荐的食谱，别无其他。不要写解释。我的第一个请求是"},{rname:"法律顾问",rdes:"我想让你做我的法律顾问。我将描述一种法律情况，您将就如何处理它提供建议。你应该只回复你的建议，而不是其他。不要写解释。我的第一个请求是"},{rname:"作为个人造型师",rdes:"我想让你做我的私人造型师。我会告诉你我的时尚偏好和体型，你会建议我穿的衣服。你应该只回复你推荐的服装，别无其他。不要写解释。我的第一个请求是"},{rname:"机器学习工程师",rdes:"我想让你担任机器学习工程师。我会写一些机器学习的概念，你的工作就是用通俗易懂的术语来解释它们。这可能包括提供构建模型的分步说明、使用视觉效果演示各种技术，或建议在线资源以供进一步研究。我的第一个建议请求是"},{rname:"圣经翻译",rdes:"我要你担任圣经翻译。我会用英语和你说话，你会翻译它，并用我的文本的更正和改进版本，用圣经方言回答。我想让你把我简化的A0级单词和句子换成更漂亮、更优雅、更符合圣经的单词和句子。保持相同的意思。我要你只回复更正、改进，不要写任何解释。我的第一句话是"},{rname:"SVG设计师",rdes:"我希望你担任SVG设计师。我会要求你创建图像，你会为图像提供SVG代码，将代码转换为base64数据url，然后给我一个仅包含引用该数据url的降价图像标签的响应。不要将markdown放在代码块中。只发送降价，所以没有文本。我的第一个请求是："},{rname:"作为IT专家",rdes:"我希望你充当IT专家。我会向您提供有关我的技术问题所需的所有信息，而您的职责是解决我的问题。你应该使用你的计算机科学、网络基础设施和IT安全知识来解决我的问题。在您的回答中使用适合所有级别的人的智能、简单和易于理解的语言将很有帮助。用要点逐步解释您的解决方案很有帮助。尽量避免过多的技术细节，但在必要时使用它们。我希望您回复解决方案，而不是："},{rname:"下棋",rdes:"我要你充当对手棋手。我将按对等顺序说出我们的动作。一开始我会是白色的。另外请不要向我解释你的举动，因为我们是竞争对手。在我的第一条消息之后，我将写下我的举动。在我们采取行动时，不要忘记在您的脑海中更新棋盘的状态。我的第一步是"},{rname:"全栈软件开发人员",rdes:"我想让你充当软件开发人员。我将提供一些关于Web应用程序要求的具体信息，您的工作是提出用于使用Golang和Angular开发安全应用程序的架构和代码。我的第一个要求是"},{rname:"数学家",rdes:"我希望你表现得像个数学家。我将输入数学表达式，您将以计算表达式的结果作为回应。我希望您只回答最终金额，不要回答其他问题。不要写解释。当我需要用英语告诉你一些事情时，我会将文字放在方括号内{likethis}。我的第一个表达是：4+5"},{rname:"正则表达式生成器",rdes:"我希望你充当正则表达式生成器。您的角色是生成匹配文本中特定模式的正则表达式。您应该以一种可以轻松复制并粘贴到支持正则表达式的文本编辑器或编程语言中的格式提供正则表达式。不要写正则表达式如何工作的解释或例子；只需提供正则表达式本身。我的第一个提示是："},{rname:"时间旅行指南",rdes:"我要你做我的时间旅行向导。我会为您提供我想参观的历史时期或未来时间，您会建议最好的事件、景点或体验的人。不要写解释，只需提供建议和任何必要的信息。我的第一个请求是"},{rname:"人才教练",rdes:"我想让你担任面试的人才教练。我会给你一个职位，你会建议在与该职位相关的课程中应该出现什么，以及候选人应该能够回答的一些问题。我的第一份工作是"},{rname:"R编程解释器",rdes:"我想让你充当R解释器。我将输入命令，你将回复终端应显示的内容。我希望您只在一个唯一的代码块内回复终端输出，而不是其他任何内容。不要写解释。除非我指示您这样做，否则不要键入命令。当我需要用英语告诉你一些事情时，我会把文字放在大括号内{likethis}。我的第一个命令是"},{rname:"StackOverflow帖子",rdes:"我想让你充当stackoverflow的帖子。我会问与编程相关的问题，你会回答应该是什么答案。我希望你只回答给定的答案，并在不够详细的时候写解释。不要写解释。当我需要用英语告诉你一些事情时，我会把文字放在大括号内{likethis}。我的第一个问题是"},{rname:"表情符号翻译",rdes:"我要你把我写的句子翻译成表情符号。我会写句子，你会用表情符号表达它。我只是想让你用表情符号来表达它。除了表情符号，我不希望你回复任何内容。当我需要用英语告诉你一些事情时，我会用{likethis}这样的大括号括起来。我的第一句话是"},{rname:"PHP解释器",rdes:"我希望你表现得像一个php解释器。我会把代码写给你，你会用php解释器的输出来响应。我希望您只在一个唯一的代码块内回复终端输出，而不是其他任何内容。不要写解释。除非我指示您这样做，否则不要键入命令。当我需要用英语告诉你一些事情时，我会把文字放在大括号内{likethis}。我的第一个命令是："},{rname:"紧急响应专业人员",rdes:"我想让你充当我的急救交通或房屋事故应急响应危机专业人员。我将描述交通或房屋事故应急响应危机情况，您将提供有关如何处理的建议。你应该只回复你的建议，而不是其他。不要写解释。我的第一个要求是"},{rname:"网络浏览器",rdes:"我想让你扮演一个基于文本的网络浏览器来浏览一个想象中的互联网。你应该只回复页面的内容，没有别的。我会输入一个url，你会在想象中的互联网上返回这个网页的内容。不要写解释。页面上的链接旁边应该有数字，写在[]之间。当我想点击一个链接时，我会回复链接的编号。页面上的输入应在[]之间写上数字。输入占位符应写在（）之间。当我想在输入中输入文本时，我将使用相同的格式进行输入，例如[1](示例输入值）。这会将插入到编号为1的输入中。当我想返回时，我会写(b)。当我想继续前进时，我会写（f）。我的第一个提示是："},{rname:"Solr搜索引擎",rdes:"我希望您充当以独立模式运行的Solr搜索引擎。您将能够在任意字段中添加内联JSON文档，数据类型可以是整数、字符串、浮点数或数组。插入文档后，您将更新索引，以便我们可以通过在花括号之间用逗号分隔的SOLR特定查询来检索文档，如{q='title:Solr',sort='scoreasc'}。您将在编号列表中提供三个命令。第一个命令是的空集合。"},{rname:"启动创意生成器",rdes:"根据人们的意愿产生数字创业点子。例如，当我说时，你会为数字创业公司生成一个商业计划，其中包含创意名称、简短的一行、目标用户角色、要解决的用户痛点、主要价值主张、销售和营销渠道、收入流来源、成本结构、关键活动、关键资源、关键合作伙伴、想法验证步骤、估计的第一年运营成本以及要寻找的潜在业务挑战。将结果写在降价表中。"},{rname:"新语言创造者",rdes:"我要你把我写的句子翻译成一种新的编造的语言。我会写句子，你会用这种新造的语言来表达它。我只是想让你用新编造的语言来表达它。除了新编造的语言外，我不希望你回复任何内容。当我需要用英语告诉你一些事情时，我会用{likethis}这样的大括号括起来。我的第一句话是"},{rname:"扮演海绵宝宝的魔法海螺壳",rdes:"我要你扮演海绵宝宝的魔法海螺壳。对于我提出的每个问题，您只能用一个词或以下选项之一回答：也许有一天，我不这么认为，或者再试一次。不要对你的答案给出任何解释。我的第一个问题是："},{rname:"语言检测器",rdes:"我希望你充当语言检测器。我会用任何语言输入一个句子，你会回答我，我写的句子在你是用哪种语言写的。不要写任何解释或其他文字，只需回复语言名称即可。我的第一句话是"},{rname:"销售员",rdes:"我想让你做销售员。试着向我推销一些东西，但要让你试图推销的东西看起来比实际更有价值，并说服我购买它。现在我要假装你在打电话给我，问你打电话的目的是什么。你好，请问你打电话是为了什么？"},{rname:"提交消息生成器",rdes:"我希望你充当提交消息生成器。我将为您提供有关任务的信息和任务代码的前缀，我希望您使用常规提交格式生成适当的提交消息。不要写任何解释或其他文字，只需回复提交消息即可。"},{rname:"首席执行官",rdes:"我想让你担任一家假设公司的首席执行官。您将负责制定战略决策、管理公司的财务业绩以及在外部利益相关者面前代表公司。您将面临一系列需要应对的场景和挑战，您应该运用最佳判断力和领导能力来提出解决方案。请记住保持专业并做出符合公司及其员工最佳利益的决定。您的第一个挑战是："},{rname:"图表生成器",rdes:"我希望您充当GraphvizDOT生成器，创建有意义的图表的专家。该图应该至少有n个节点（我在我的输入中通过写入[n]来指定n，10是默认值）并且是给定输入的准确和复杂的表示。每个节点都由一个数字索引以减少输出的大小，不应包含任何样式，并以layout=neato、overlap=false、node[shape=rectangle]作为参数。代码应该是有效的、无错误的并且在一行中返回，没有任何解释。提供清晰且有组织的图表，节点之间的关系必须对该输入的专家有意义。我的第一个图表是："},{rname:"人生教练",rdes:"我希望你担任人生教练。请总结这本非小说类书籍，[作者][书名]。以孩子能够理解的方式简化核心原则。另外，你能给我一份关于如何将这些原则实施到我的日常生活中的可操作步骤列表吗？"},{rname:"语言病理学家(SLP)",rdes:"我希望你扮演一名言语语言病理学家(SLP)，想出新的言语模式、沟通策略，并培养对他们不口吃的沟通能力的信心。您应该能够推荐技术、策略和其他治疗方法。在提供建议时，您还需要考虑患者的年龄、生活方式和顾虑。我的第一个建议要求是"},{rname:"创业技术律师",rdes:"我将要求您准备一页纸的设计合作伙伴协议草案，该协议是一家拥有IP的技术初创公司与该初创公司技术的潜在客户之间的协议，该客户为该初创公司正在解决的问题空间提供数据和领域专业知识。您将写下大约1a4页的拟议设计合作伙伴协议，涵盖IP、机密性、商业权利、提供的数据、数据的使用等所有重要方面。"},{rname:"书面作品的标题生成器",rdes:"我想让你充当书面作品的标题生成器。我会给你提供一篇文章的主题和关键词，你会生成五个吸引眼球的标题。请保持标题简洁，不超过20个字，并确保保持意思。回复将使用主题的语言类型。我的第一个主题是"},{rname:"产品经理",rdes:"请确认我的以下请求。请您作为产品经理回复我。我将会提供一个主题，您将帮助我编写一份包括以下章节标题的PRD文档：主题、简介、问题陈述、目标与目的、用户故事、技术要求、收益、KPI指标、开发风险以及结论。在我要求具体主题、功能或开发的PRD之前，请不要先写任何一份PRD文档。"},{rname:"数学历史老师",rdes:"我想让你充当数学历史老师，提供有关数学概念的历史发展和不同数学家的贡献的信息。你应该只提供信息而不是解决数学问题。使用以下格式回答："},{rname:"歌曲推荐人",rdes:"我想让你担任歌曲推荐人。我将为您提供一首歌曲，您将创建一个包含10首与给定歌曲相似的歌曲的播放列表。您将为播放列表提供播放列表名称和描述。不要选择同名或同名歌手的歌曲。不要写任何解释或其他文字，只需回复播放列表名称、描述和歌曲。我的第一首歌是"}],commonly:["英语学习","英语翻译","语文辅导"]}},watch:{langindex:function(e){localStorage.setItem("Sound",e)},audioSwitch:function(e){localStorage.setItem("yyms",e)},commonly:function(e){localStorage.setItem("commonly",JSON.stringify(e))}},onLoad:function(){},created:function(){var e=JSON.parse(localStorage.getItem("alllist"));this.alllist=e||[{tit:"新建对话",messages:[],bianj:!0}];var t=localStorage.getItem("num");Number(t)<this.alllist.length&&t?this.Num=t:this.Num=this.alllist.length-1;var n=JSON.parse(localStorage.getItem("commonly"));n&&(this.commonly=n);var r=localStorage.getItem("Sound");r&&(this.langindex=Number(r));var i=localStorage.getItem("yyms");i&&(this.audioSwitch=i)},methods:{ec:function(e){this.langindex=e.detail.value},open:function(e,t){this.modeClass=e,this.transShow=!this.transShow,this.maskLayer=t,this.setShow=!1},onTap:function(){this.transShow=!1,this.setShow=!1},tapSet:function(){this.setShow=!this.setShow},hideSet:function(){this.setShow=!1},switchAudio:function(){"true"==this.audioSwitch?this.audioSwitch="false":this.audioSwitch="true"},iptBlur:function(e){this.bottom=20,this.isPreset=!0},iptFocus:function(e){this.isPreset=!1,this.bottom=e.detail.height+12},openai:function(e){var t=this;return(0,o.default)((0,i.default)().mark((function n(){var r,s,u,p,d,l;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t,s=t.openaiApiKey,t.alllist[t.Num].messages.push({role:"assistant",content:""}),u=r.alllist[t.Num].messages.length-1,p=e,r.alllist[t.Num].messages.length>Number(t.mun)&&Number(t.mun)>0&&(p=p.slice(-Number(t.mun)-1)),d={messages:p,model:"gpt-3.5-turbo-16k-0613"},l=function(){var e=(0,o.default)((0,i.default)().mark((function e(t){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.abrupt("return");case 4:if(1!=r.zzhi){e.next=8;break}r.alllist[r.Num].messages[u].content=t,e.next=13;break;case 8:return r.inputText="",r.input=!1,(0,a.default)("streamCompletion"),r.zzhi=!0,e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c({args:d,apiKey:s,onText:l}).then(function(){var e=(0,o.default)((0,i.default)().mark((function e(n){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.inputText="",r.input=!1,r.zzhi=!0,"true"==r.audioSwitch&&t.yuyin(n,""),localStorage.setItem("alllist",JSON.stringify(r.alllist));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("错误"+e),1==r.zzhi&&(r.alllist[t.Num].messages[u].content="错误提示："+e),localStorage.setItem("alllist",JSON.stringify(r.alllist)),t.inputText="",t.input=!1,r.zzhi=!0}));case 9:case"end":return n.stop()}}),n)})))()},sendMessage:function(){var e=this;return(0,o.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.inputText.trim()||0!=e.input){t.next=16;break}return t.prev=1,e.alllist[e.Num].messages.push({role:"user",content:e.inputText}),e.inputText="",e.input=!0,t.next=7,e.openai(e.alllist[e.Num].messages);case 7:t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0),e.inputText="",e.input=!1;case 14:t.next=17;break;case 16:1==e.input||(e.inputText="");case 17:""!=e.alllist[e.Num].messages&&"新建对话"==e.alllist[e.Num].tit&&(e.alllist[e.Num].tit=e.alllist[e.Num].messages[0].content);case 18:case"end":return t.stop()}}),t,null,[[1,9]])})))()},cshi:function(){var e=this;return(0,o.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.alllist[e.Num].messages.pop(),e.inputText="",e.input=!0,t.next=6,e.openai(e.alllist[e.Num].messages);case 6:t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),e.inputText="",e.input=!1;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},shanc:function(e){1!=this.input&&(1!=this.alllist.length||"新建对话"!=this.alllist[0].tit?(this.alllist.splice(e,1),0==this.alllist.length&&this.alllist.push({tit:"新建对话",messages:[]}),this.Num>e?this.Num--:this.Num,this.alllist[this.Num]||(this.Num=this.alllist.length-1),localStorage.setItem("alllist",JSON.stringify(this.alllist))):localStorage.setItem("alllist",JSON.stringify(this.alllist)))},tianj:function(){1!=this.input&&(this.alllist.push({tit:"新建对话",messages:[]}),this.Num=this.alllist.length-1,localStorage.setItem("alllist",JSON.stringify(this.alllist)))},get:function(e){0==this.input&&(this.Num=e,localStorage.setItem("num",this.Num))},yuyin:function(e,t){0==this.langindex?"yy"==t&&uni.$u.toast("请选择语音助手"):(0,s.default)(e,this.lang[this.langindex].name)},copy:function(e,t){if(this.onTap(),this.inputText="",this.inputText=e,-1!=t){var n=this.commonly.includes(this.copys[t].rname);0==n&&(this.commonly.pop(),this.commonly.unshift(this.copys[t].rname))}},cop:function(e){var t=this.copys.find((function(t){return t.rname===e}));this.copy(t.rdes,-1)}}};t.default=p},"27c8":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationCommon=void 0,n("d9e2"),n("d401");var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privAudioConfig=t}return(0,o.default)(e,[{key:"handleCallback",value:function(e,t){if(e){try{e()}catch(n){t&&t(n)}e=void 0}}},{key:"handleError",value:function(e,t){if(t)if(e instanceof Error){var n=e;t(n.name+": "+n.message)}else t(e)}}]),e}();t.ConversationCommon=a},"28e6":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentConfig=void 0,n("e9c4");var i=r(n("d4ec")),o=r(n("bee2")),a=n("277e"),s=n("9030"),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.PronunciationAssessmentGradingSystem.FivePoint,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.PronunciationAssessmentGranularity.Phoneme,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,i.default)(this,e),a.Contracts.throwIfNullOrUndefined(t,"referenceText"),this.privProperties=new s.PropertyCollection,this.privProperties.setProperty(s.PropertyId.PronunciationAssessment_ReferenceText,t),this.privProperties.setProperty(s.PropertyId.PronunciationAssessment_GradingSystem,s.PronunciationAssessmentGradingSystem[n]),this.privProperties.setProperty(s.PropertyId.PronunciationAssessment_Granularity,s.PronunciationAssessmentGranularity[r]),this.privProperties.setProperty(s.PropertyId.PronunciationAssessment_EnableMiscue,String(o))}return(0,o.default)(e,[{key:"toJSON",value:function(){return this.updateJson(),this.privProperties.getProperty(s.PropertyId.PronunciationAssessment_Params)}},{key:"applyTo",value:function(e){this.updateJson();var t=e.internalData;t.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(s.PropertyId.PronunciationAssessment_Params))}},{key:"referenceText",get:function(){return this.properties.getProperty(s.PropertyId.PronunciationAssessment_ReferenceText)},set:function(e){a.Contracts.throwIfNullOrWhitespace(e,"referenceText"),this.properties.setProperty(s.PropertyId.PronunciationAssessment_ReferenceText,e)}},{key:"phonemeAlphabet",set:function(e){a.Contracts.throwIfNullOrWhitespace(e,"phonemeAlphabet"),this.privPhonemeAlphabet=e}},{key:"enableMiscue",get:function(){var e=this.properties.getProperty(s.PropertyId.PronunciationAssessment_EnableMiscue,"false");return"true"===e.toLowerCase()},set:function(e){var t=e?"true":"false";this.properties.setProperty(s.PropertyId.PronunciationAssessment_EnableMiscue,t)}},{key:"nbestPhonemeCount",set:function(e){this.privNBestPhonemeCount=e}},{key:"properties",get:function(){return this.privProperties}},{key:"updateJson",value:function(){var e=this.privProperties.getProperty(s.PropertyId.PronunciationAssessment_Json,"{}"),t=JSON.parse(e),n=this.privProperties.getProperty(s.PropertyId.PronunciationAssessment_ReferenceText);n&&(t.referenceText=n);var r=this.privProperties.getProperty(s.PropertyId.PronunciationAssessment_GradingSystem);r&&(t.gradingSystem=r);var i=this.privProperties.getProperty(s.PropertyId.PronunciationAssessment_Granularity);i&&(t.granularity=i),this.privPhonemeAlphabet&&(t.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(t.nbestPhonemeCount=this.privNBestPhonemeCount),t.dimension="Comprehensive",t.enableMiscue=this.enableMiscue,this.privProperties.setProperty(s.PropertyId.PronunciationAssessment_Params,JSON.stringify(t))}}],[{key:"fromJSON",value:function(t){a.Contracts.throwIfNullOrUndefined(t,"json");var n=new e("");return n.privProperties=new s.PropertyCollection,n.properties.setProperty(s.PropertyId.PronunciationAssessment_Json,t),n}}]),e}();t.PronunciationAssessmentConfig=u},2909:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)||(0,i.default)(e)||(0,o.default)(e)||(0,a.default)()};var r=s(n("6005")),i=s(n("db90")),o=s(n("06c5")),a=s(n("3427"));function s(e){return e&&e.__esModule?e:{default:e}}},"29bb":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicGrammarBuilder=void 0,n("99af"),n("14d9"),n("d3b7"),n("159b");var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"addPhrase",value:function(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}},{key:"clearPhrases",value:function(){this.privPhrases=void 0}},{key:"addReferenceGrammar",value:function(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}},{key:"clearGrammars",value:function(){this.privGrammars=void 0}},{key:"generateGrammarObject",value:function(){if(void 0!==this.privGrammars||void 0!==this.privPhrases){var e={};if(e.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){var t=[];this.privPhrases.forEach((function(e){t.push({Text:e})})),e.Groups=[{Type:"Generic",Items:t}]}return e}}}]),e}();t.DynamicGrammarBuilder=a},"2afb":function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisBoundaryType=void 0,t.SpeechSynthesisBoundaryType=r,function(e){e["Word"]="WordBoundary",e["Punctuation"]="PunctuationBoundary",e["Sentence"]="SentenceBoundary"}(r||(t.SpeechSynthesisBoundaryType=r={}))},"2ca4":function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGradingSystem=void 0,t.PronunciationAssessmentGradingSystem=r,function(e){e[e["FivePoint"]=1]="FivePoint",e[e["HundredMark"]=2]="HundredMark"}(r||(t.PronunciationAssessmentGradingSystem=r={}))},"2caf":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.default)();return function(){var n,i=(0,r.default)(e);if(t){var a=(0,r.default)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.default)(this,n)}},n("4ae1"),n("d3b7"),n("f8c9");var r=a(n("7e84")),i=a(n("d967")),o=a(n("99de"));function a(e){return e&&e.__esModule?e:{default:e}}},"2cbd":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.InternalParticipants=t.ConversationTranslatorMessageTypes=t.ConversationTranslatorCommandTypes=void 0,n("a434"),n("14d9"),n("c740"),n("7db0"),n("d3b7"),n("4de4");var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;(0,i.default)(this,e),this.participants=t,this.meId=n}return(0,o.default)(e,[{key:"addOrUpdateParticipant",value:function(e){if(void 0!==e){var t=this.getParticipantIndex(e.id);return t>-1?this.participants.splice(t,1,e):this.participants.push(e),this.getParticipant(e.id)}}},{key:"getParticipantIndex",value:function(e){return this.participants.findIndex((function(t){return t.id===e}))}},{key:"getParticipant",value:function(e){return this.participants.find((function(t){return t.id===e}))}},{key:"deleteParticipant",value:function(e){this.participants=this.participants.filter((function(t){return t.id!==e}))}},{key:"host",get:function(){return this.participants.find((function(e){return!0===e.isHost}))}},{key:"me",get:function(){return this.getParticipant(this.meId)}}]),e}();t.InternalParticipants=a;t.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"};t.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"}},"2d0d":function(e,t,n){n("4ae1"),n("d3b7"),n("f8c9");var r=n("36c6"),i=n("6f8f"),o=n("6b58");e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"2fd3":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("2909")),o=r(n("53ca")),a=r(n("5530"));n("a9e3"),n("d3b7"),n("159b"),n("99af"),n("ac1f"),n("5319");var s=n("506a"),u={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:function(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:function(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler:function(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject:function(){var e=(0,a.default)((0,a.default)({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),t="";for(var n in e){var r=this.toLine(n);t+=r+":"+e[n]+";"}return t},transformStyles:function(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created:function(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.duration&&(this.durationTime=e.duration),this.animation=(0,s.createAnimation)(Object.assign(this.config,e),this)},onClick:function(){this.$emit("click",{detail:this.isShow})},step:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.animation){for(var n in e)try{var r;if("object"===(0,o.default)(e[n]))(r=this.animation)[n].apply(r,(0,i.default)(e[n]));else this.animation[n](e[n])}catch(a){console.error("方法 ".concat(n," 不存在"))}return this.animation.step(t),this}},run:function(e){this.animation&&this.animation.run(e)},open:function(){var e=this;clearTimeout(this.timer),this.transform="",this.isShow=!0;var t=this.styleInit(!1),n=t.opacity,r=t.transform;"undefined"!==typeof n&&(this.opacity=n),this.transform=r,this.$nextTick((function(){e.timer=setTimeout((function(){e.animation=(0,s.createAnimation)(e.config,e),e.tranfromInit(!1).step(),e.animation.run(),e.$emit("change",{detail:e.isShow})}),20)}))},close:function(e){var t=this;this.animation&&this.tranfromInit(!0).step().run((function(){t.isShow=!1,t.animationData=null,t.animation=null;var e=t.styleInit(!1),n=e.opacity,r=e.transform;t.opacity=n||1,t.transform=r,t.$emit("change",{detail:t.isShow})}))},styleInit:function(e){var t=this,n={transform:""},r=function(e,r){"fade"===r?n.opacity=t.animationType(e)[r]:n.transform+=t.animationType(e)[r]+" "};return"string"===typeof this.modeClass?r(e,this.modeClass):this.modeClass.forEach((function(t){r(e,t)})),n},tranfromInit:function(e){var t=this,n=function(e,n){var r=null;"fade"===n?r=e?0:1:(r=e?"-100%":"0","zoom-in"===n&&(r=e?.8:1),"zoom-out"===n&&(r=e?1.2:1),"slide-right"===n&&(r=e?"100%":"0"),"slide-bottom"===n&&(r=e?"100%":"0")),t.animation[t.animationMode()[n]](r)};return"string"===typeof this.modeClass?n(e,this.modeClass):this.modeClass.forEach((function(t){n(e,t)})),this.animation},animationType:function(e){return{fade:e?1:0,"slide-top":"translateY(".concat(e?"0":"-100%",")"),"slide-right":"translateX(".concat(e?"0":"100%",")"),"slide-bottom":"translateY(".concat(e?"0":"100%",")"),"slide-left":"translateX(".concat(e?"0":"-100%",")"),"zoom-in":"scaleX(".concat(e?1:.8,") scaleY(").concat(e?1:.8,")"),"zoom-out":"scaleX(".concat(e?1:1.2,") scaleY(").concat(e?1:1.2,")")}},animationMode:function(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};t.default=u},3:function(e,t){},"309c":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.OCSPWSUpgradeStartedEvent=t.OCSPVerificationFailedEvent=t.OCSPStapleReceivedEvent=t.OCSPResponseRetrievedEvent=t.OCSPMemoryCacheStoreEvent=t.OCSPMemoryCacheHitEvent=t.OCSPEvent=t.OCSPDiskCacheStoreEvent=t.OCSPDiskCacheHitEvent=t.OCSPCacheUpdateNeededEvent=t.OCSPCacheUpdateErrorEvent=t.OCSPCacheUpdateCompleteEvent=t.OCSPCacheMissEvent=t.OCSPCacheHitEvent=t.OCSPCacheFetchErrorEvent=t.OCSPCacheEntryNeedsRefreshEvent=t.OCSPCacheEntryExpiredEvent=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=r(n("262e")),s=r(n("2caf")),u=n("85d3"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,i){var a;return(0,o.default)(this,n),a=t.call(this,e,r),a.privSignature=i,a}return(0,i.default)(n)}(u.PlatformEvent);t.OCSPEvent=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPMemoryCacheHitEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPMemoryCacheHitEvent=p;var d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPCacheMissEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPCacheMissEvent=d;var l=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPDiskCacheHitEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPDiskCacheHitEvent=l;var f=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPCacheUpdateNeededEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPCacheUpdateNeededEvent=f;var v=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPMemoryCacheStoreEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPMemoryCacheStoreEvent=v;var h=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPDiskCacheStoreEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPDiskCacheStoreEvent=h;var y=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPCacheUpdateCompleteEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPCacheUpdateCompleteEvent=y;var g=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,o.default)(this,n),t.call(this,"OCSPStapleReceivedEvent",u.EventType.Debug,"")}return(0,i.default)(n)}(c);t.OCSPStapleReceivedEvent=g;var m=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPWSUpgradeStartedEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPWSUpgradeStartedEvent=m;var S=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var i;return(0,o.default)(this,n),i=t.call(this,"OCSPCacheEntryExpiredEvent",u.EventType.Debug,e),i.privExpireTime=r,i}return(0,i.default)(n)}(c);t.OCSPCacheEntryExpiredEvent=S;var C=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,i){var a;return(0,o.default)(this,n),a=t.call(this,"OCSPCacheEntryNeedsRefreshEvent",u.EventType.Debug,e),a.privExpireTime=i,a.privStartTime=r,a}return(0,i.default)(n)}(c);t.OCSPCacheEntryNeedsRefreshEvent=C;var b=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,i){var a;return(0,o.default)(this,n),a=t.call(this,"OCSPCacheHitEvent",u.EventType.Debug,e),a.privExpireTime=i,a.privExpireTimeString=new Date(i).toLocaleDateString(),a.privStartTime=r,a.privStartTimeString=new Date(r).toLocaleTimeString(),a}return(0,i.default)(n)}(c);t.OCSPCacheHitEvent=b;var P=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var i;return(0,o.default)(this,n),i=t.call(this,"OCSPVerificationFailedEvent",u.EventType.Debug,e),i.privError=r,i}return(0,i.default)(n)}(c);t.OCSPVerificationFailedEvent=P;var k=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var i;return(0,o.default)(this,n),i=t.call(this,"OCSPCacheFetchErrorEvent",u.EventType.Debug,e),i.privError=r,i}return(0,i.default)(n)}(c);t.OCSPCacheFetchErrorEvent=k;var w=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,o.default)(this,n),t.call(this,"OCSPResponseRetrievedEvent",u.EventType.Debug,e)}return(0,i.default)(n)}(c);t.OCSPResponseRetrievedEvent=w;var R=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var i;return(0,o.default)(this,n),i=t.call(this,"OCSPCacheUpdateErrorEvent",u.EventType.Debug,e),i.privError=r,i}return(0,i.default)(n)}(c);t.OCSPCacheUpdateErrorEvent=R},"30d0":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechDetected=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privSpeechStartDetected=JSON.parse(t)}return(0,o.default)(e,[{key:"Offset",get:function(){return this.privSpeechStartDetected.Offset}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.SpeechDetected=a},3139:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCommandsConfig=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("277e"),c=n("567b"),p=n("9030"),d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.call(this)}return(0,o.default)(n,[{key:"applicationId",get:function(){return this.getProperty(p.PropertyId.Conversation_ApplicationId)},set:function(e){u.Contracts.throwIfNullOrWhitespace(e,"value"),this.setProperty(p.PropertyId.Conversation_ApplicationId,e)}}],[{key:"fromSubscription",value:function(e,t,n){u.Contracts.throwIfNullOrWhitespace(e,"applicationId"),u.Contracts.throwIfNullOrWhitespace(t,"subscription"),u.Contracts.throwIfNullOrWhitespace(n,"region");var r=new c.DialogServiceConfigImpl;return r.setProperty(p.PropertyId.Conversation_DialogType,c.DialogServiceConfig.DialogTypes.CustomCommands),r.setProperty(p.PropertyId.Conversation_ApplicationId,e),r.setProperty(p.PropertyId.SpeechServiceConnection_Key,t),r.setProperty(p.PropertyId.SpeechServiceConnection_Region,n),r}},{key:"fromAuthorizationToken",value:function(e,t,n){u.Contracts.throwIfNullOrWhitespace(e,"applicationId"),u.Contracts.throwIfNullOrWhitespace(t,"authorizationToken"),u.Contracts.throwIfNullOrWhitespace(n,"region");var r=new c.DialogServiceConfigImpl;return r.setProperty(p.PropertyId.Conversation_DialogType,c.DialogServiceConfig.DialogTypes.CustomCommands),r.setProperty(p.PropertyId.Conversation_ApplicationId,e),r.setProperty(p.PropertyId.SpeechServiceAuthorization_Token,t),r.setProperty(p.PropertyId.SpeechServiceConnection_Region,n),r}}]),n}(c.DialogServiceConfigImpl);t.CustomCommandsConfig=d},3159:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechServiceRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("262e")),u=r(n("2caf"));n("d3b7");var c=n("9030"),p=n("21c7"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(e){(0,s.default)(n,e);var t=(0,u.default)(n);function n(e,r,i,a,s){var u;return(0,o.default)(this,n),u=t.call(this,e,r,i,a,s),u.privSpeechRecognizer=s,u}return(0,a.default)(n,[{key:"processTypeSpecificMessages",value:function(e){return d(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r,o,a,s,u,d,l,f,v,h,y,g,m;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=new c.PropertyCollection,r.setProperty(c.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),o=!1,t.t0=e.path.toLowerCase(),t.next="speech.hypothesis"===t.t0||"speech.fragment"===t.t0?6:"speech.phrase"===t.t0?14:28;break;case 6:if(a=p.SpeechHypothesis.fromJSON(e.textBody),s=a.Offset+this.privRequestSession.currentTurnAudioOffset,n=new c.SpeechRecognitionResult(this.privRequestSession.requestId,c.ResultReason.RecognizingSpeech,a.Text,a.Duration,s,a.Language,a.LanguageDetectionConfidence,void 0,void 0,e.textBody,r),this.privRequestSession.onHypothesis(s),u=new c.SpeechRecognitionEventArgs(n,a.Duration,this.privRequestSession.sessionId),this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,u)}catch(i){}return o=!0,t.abrupt("break",29);case 14:if(d=p.SimpleSpeechPhrase.fromJSON(e.textBody),l=p.EnumTranslation.implTranslateRecognitionResult(d.RecognitionStatus),this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+d.Offset+d.Duration),c.ResultReason.Canceled!==l){t.next=24;break}return f=p.EnumTranslation.implTranslateCancelResult(d.RecognitionStatus),v=p.EnumTranslation.implTranslateCancelErrorCode(d.RecognitionStatus),t.next=22,this.cancelRecognitionLocal(f,v,p.EnumTranslation.implTranslateErrorDetails(v));case 22:t.next=26;break;case 24:if((!this.privRequestSession.isSpeechEnded||l!==c.ResultReason.NoMatch||d.RecognitionStatus===p.RecognitionStatus.InitialSilenceTimeout)&&(this.privRecognizerConfig.parameters.getProperty(p.OutputFormatPropertyName)===c.OutputFormat[c.OutputFormat.Simple]?n=new c.SpeechRecognitionResult(this.privRequestSession.requestId,l,d.DisplayText,d.Duration,d.Offset+this.privRequestSession.currentTurnAudioOffset,d.Language,d.LanguageDetectionConfidence,void 0,void 0,e.textBody,r):(h=p.DetailedSpeechPhrase.fromJSON(e.textBody),y=h.Offset+this.privRequestSession.currentTurnAudioOffset,g=h.getJsonWithCorrectedOffsets(y),n=new c.SpeechRecognitionResult(this.privRequestSession.requestId,l,h.RecognitionStatus===p.RecognitionStatus.Success?h.NBest[0].Display:void 0,h.Duration,y,h.Language,h.LanguageDetectionConfidence,void 0,void 0,g,r)),m=new c.SpeechRecognitionEventArgs(n,n.offset,this.privRequestSession.sessionId),this.privSpeechRecognizer.recognized))try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,m)}catch(i){}if(this.privSuccessCallback){try{this.privSuccessCallback(n)}catch(S){this.privErrorCallback&&this.privErrorCallback(S)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}case 26:return o=!0,t.abrupt("break",29);case 28:return t.abrupt("break",29);case 29:return t.abrupt("return",o);case 30:case"end":return t.stop()}}),t,this)})))}},{key:"cancelRecognition",value:function(e,t,n,r,i){var o=new c.PropertyCollection;if(o.setProperty(p.CancellationErrorCodePropertyName,c.CancellationErrorCode[r]),this.privSpeechRecognizer.canceled){var a=new c.SpeechRecognitionCanceledEventArgs(n,i,r,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,a)}catch(u){}}if(this.privSuccessCallback){var s=new c.SpeechRecognitionResult(t,c.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(s),this.privSuccessCallback=void 0}catch(d){}}}}]),n}(p.ServiceRecognizerBase);t.SpeechServiceRecognizer=l},3264:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return r.EventType}});var r=n("903d")},"32af":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerIdentificationModel=void 0,n("d9e2"),n("d401"),n("14d9");var i=r(n("b85c")),o=r(n("d4ec")),a=r(n("bee2")),s=n("277e"),u=n("9030"),c=function(){function e(t){if((0,o.default)(this,e),this.privVoiceProfiles=[],this.privProfileIds=[],s.Contracts.throwIfNullOrUndefined(t,"VoiceProfiles"),0===t.length)throw new Error("Empty Voice Profiles array");var n,r=(0,i.default)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.profileType!==u.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+a.profileId);this.privVoiceProfiles.push(a),this.privProfileIds.push(a.profileId)}}catch(c){r.e(c)}finally{r.f()}}return(0,a.default)(e,[{key:"voiceProfileIds",get:function(){return this.privProfileIds.join(",")}},{key:"profileIds",get:function(){return this.privProfileIds}},{key:"scenario",get:function(){return"TextIndependentIdentification"}}],[{key:"fromProfiles",value:function(t){return new e(t)}}]),e}();t.SpeakerIdentificationModel=c},"333f":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguageConfig=void 0,n("d9e2"),n("d401"),n("d3b7"),n("159b"),n("14d9"),n("25f0");var i=r(n("d4ec")),o=r(n("bee2")),a=n("21c7"),s=n("277e"),u=n("9030"),c=n("e5da"),p=function(){function e(){(0,i.default)(this,e),this.privProperties=new u.PropertyCollection,this.privProperties.setProperty(u.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=c.LanguageIdMode.AtStart}return(0,o.default)(e,[{key:"properties",get:function(){return this.privProperties}},{key:"mode",set:function(e){e===c.LanguageIdMode.Continuous?(this.privProperties.setProperty(u.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(u.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(u.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(u.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=e}}],[{key:"fromOpenRange",value:function(){var t=new e;return t.properties.setProperty(u.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,a.AutoDetectSourceLanguagesOpenRangeOptionName),t}},{key:"fromLanguages",value:function(t){s.Contracts.throwIfArrayEmptyOrWhitespace(t,"languages");var n=new e;return n.properties.setProperty(u.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,t.join()),n}},{key:"fromSourceLanguageConfigs",value:function(t){if(t.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");var n=new e,r=[];return t.forEach((function(e){if(r.push(e.language),void 0!==e.endpointId&&""!==e.endpointId){var t=e.language+u.PropertyId.SpeechServiceConnection_EndpointId.toString();n.properties.setProperty(t,e.endpointId)}})),n.properties.setProperty(u.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,r.join()),n}}]),e}();t.AutoDetectSourceLanguageConfig=p},3427:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},n("d9e2"),n("d401")},"34a3":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchDetails=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("21c7"),s=n("9030"),u=function(){function e(t){(0,i.default)(this,e),this.privReason=t}return(0,o.default)(e,[{key:"reason",get:function(){return this.privReason}}],[{key:"fromResult",value:function(t){var n=a.SimpleSpeechPhrase.fromJSON(t.json),r=s.NoMatchReason.NotRecognized;switch(n.RecognitionStatus){case a.RecognitionStatus.BabbleTimeout:r=s.NoMatchReason.InitialBabbleTimeout;break;case a.RecognitionStatus.InitialSilenceTimeout:r=s.NoMatchReason.InitialSilenceTimeout;break;default:r=s.NoMatchReason.NotRecognized;break}return new e(r)}}]),e}();t.NoMatchDetails=u},"36c6":function(e,t,n){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}n("131a"),n("3410"),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"3af0":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpeechPhrase=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("21c7"),s=function(){function e(t){(0,i.default)(this,e),this.privSimpleSpeechPhrase=JSON.parse(t),this.privSimpleSpeechPhrase.RecognitionStatus=a.RecognitionStatus[this.privSimpleSpeechPhrase.RecognitionStatus]}return(0,o.default)(e,[{key:"RecognitionStatus",get:function(){return this.privSimpleSpeechPhrase.RecognitionStatus}},{key:"DisplayText",get:function(){return this.privSimpleSpeechPhrase.DisplayText}},{key:"Offset",get:function(){return this.privSimpleSpeechPhrase.Offset}},{key:"Duration",get:function(){return this.privSimpleSpeechPhrase.Duration}},{key:"Language",get:function(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}},{key:"LanguageDetectionConfidence",get:function(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}},{key:"SpeakerId",get:function(){return this.privSimpleSpeechPhrase.SpeakerId}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.SimpleSpeechPhrase=s},"3b15":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Sink=t.PromiseState=t.PromiseResultEventSource=t.PromiseResult=t.Deferred=void 0,t.marshalPromiseToCallbacks=function(e,t,n){e.then((function(e){try{t&&t(e)}catch(i){if(n)try{if(i instanceof Error){var r=i;n(r.name+": "+r.message)}else n(i)}catch(i){}}}),(function(e){if(n)try{if(e instanceof Error){var t=e;n(t.name+": "+t.message)}else n(e)}catch(e){}}))},n("d3b7"),n("d9e2"),n("d401"),n("14d9"),n("99af");var i,o=r(n("b85c")),a=r(n("d4ec")),s=r(n("bee2"));t.PromiseState=i,function(e){e[e["None"]=0]="None",e[e["Resolved"]=1]="Resolved",e[e["Rejected"]=2]="Rejected"}(i||(t.PromiseState=i={}));var u=function(){function e(t){var n=this;(0,a.default)(this,e),this.throwIfError=function(){if(n.isError)throw n.error},t.on((function(e){n.privIsCompleted||(n.privIsCompleted=!0,n.privIsError=!1,n.privResult=e)}),(function(e){n.privIsCompleted||(n.privIsCompleted=!0,n.privIsError=!0,n.privError=e)}))}return(0,s.default)(e,[{key:"isCompleted",get:function(){return this.privIsCompleted}},{key:"isError",get:function(){return this.privIsError}},{key:"error",get:function(){return this.privError}},{key:"result",get:function(){return this.privResult}}]),e}();t.PromiseResult=u;var c=(0,s.default)((function e(){var t=this;(0,a.default)(this,e),this.setResult=function(e){t.privOnSetResult(e)},this.setError=function(e){t.privOnSetError(e)},this.on=function(e,n){t.privOnSetResult=e,t.privOnSetError=n}}));t.PromiseResultEventSource=c;var p=function(){function e(){var t=this;(0,a.default)(this,e),this.resolve=function(e){return t.privResolve(e),t},this.reject=function(e){return t.privReject(e),t},this.privPromise=new Promise((function(e,n){t.privResolve=e,t.privReject=n}))}return(0,s.default)(e,[{key:"promise",get:function(){return this.privPromise}}]),e}();t.Deferred=p;var d=function(){function e(){(0,a.default)(this,e),this.privState=i.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new c,this.privPromiseResult=new u(this.privPromiseResultEvents)}return(0,s.default)(e,[{key:"state",get:function(){return this.privState}},{key:"result",get:function(){return this.privPromiseResult}},{key:"resolve",value:function(e){if(this.privState!==i.None)throw new Error("'Cannot resolve a completed promise'");this.privState=i.Resolved,this.privPromiseResultEvents.setResult(e);for(var t=0;t<this.privSuccessHandlers.length;t++)this.executeSuccessCallback(e,this.privSuccessHandlers[t],this.privErrorHandlers[t]);this.detachHandlers()}},{key:"reject",value:function(e){if(this.privState!==i.None)throw new Error("'Cannot reject a completed promise'");this.privState=i.Rejected,this.privPromiseResultEvents.setError(e);var t,n=(0,o.default)(this.privErrorHandlers);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.executeErrorCallback(e,r)}}catch(a){n.e(a)}finally{n.f()}this.detachHandlers()}},{key:"on",value:function(e,t){null==e&&(e=function(){}),this.privState===i.None?(this.privSuccessHandlers.push(e),this.privErrorHandlers.push(t)):(this.privState===i.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,e,t):this.privState===i.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,t),this.detachHandlers())}},{key:"executeSuccessCallback",value:function(e,t,n){try{t(e)}catch(r){this.executeErrorCallback("'Unhandled callback error: ".concat(r,"'"),n)}}},{key:"executeErrorCallback",value:function(e,t){if(!t)throw new Error("'Unhandled error: ".concat(e,"'"));try{t(e)}catch(n){throw new Error("'Unhandled callback error: ".concat(n,". InnerError: ").concat(e,"'"))}}},{key:"detachHandlers",value:function(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}}]),e}();t.Sink=d},"3b6a":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageImpl=t.ConnectionMessage=void 0,n("d3b7"),n("159b"),n("b64b"),n("7db0");var i=r(n("bee2")),o=r(n("d4ec")),a=n("574d"),s=n("903d"),u=n("acec"),c=n("0bca"),p=(0,i.default)((function e(){(0,o.default)(this,e)}));t.ConnectionMessage=p;var d=function(){function e(t){var n=this;(0,o.default)(this,e),this.privConnectionMessage=t,this.privProperties=new u.PropertyCollection,this.privConnectionMessage.headers[a.HeaderNames.ConnectionId]&&this.privProperties.setProperty(c.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[a.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach((function(e){n.privProperties.setProperty(e,n.privConnectionMessage.headers[e])}))}return(0,i.default)(e,[{key:"path",get:function(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find((function(e){return e.toLowerCase()==="path".toLowerCase()}))]}},{key:"isTextMessage",get:function(){return this.privConnectionMessage.messageType===s.MessageType.Text}},{key:"isBinaryMessage",get:function(){return this.privConnectionMessage.messageType===s.MessageType.Binary}},{key:"TextMessage",get:function(){return this.privConnectionMessage.textBody}},{key:"binaryMessage",get:function(){return this.privConnectionMessage.binaryBody}},{key:"properties",get:function(){return this.privProperties}},{key:"toString",value:function(){return""}}]),e}();t.ConnectionMessageImpl=d},"3c96":function(e,t,n){n("d9e2"),n("d401"),e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"3d62":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayableAudioNode=void 0,n("fb6a"),n("d3b7"),n("14d9");var i=r(n("b85c")),o=r(n("d4ec")),a=r(n("bee2")),s=function(){function e(t,n){(0,o.default)(this,e),this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=t,this.privBytesPerSecond=n}return(0,a.default)(e,[{key:"id",value:function(){return this.privAudioNode.id()}},{key:"read",value:function(){var e=this;if(this.privReplay&&0!==this.privBuffers.length){var t=this.privReplayOffset-this.privBufferStartOffset,n=Math.round(t*this.privBytesPerSecond*1e-7);0!==n%2&&n++;var r=0;while(r<this.privBuffers.length&&n>=this.privBuffers[r].chunk.buffer.byteLength)n-=this.privBuffers[r++].chunk.buffer.byteLength;if(r<this.privBuffers.length){var i=this.privBuffers[r].chunk.buffer.slice(n);return this.privReplayOffset+=i.byteLength/this.privBytesPerSecond*1e7,r===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:i,isEnd:!1,timeReceived:this.privBuffers[r].chunk.timeReceived})}}return this.privAudioNode.read().then((function(t){return t&&t.buffer&&(e.privBuffers.push(new u(t,e.privBufferSerial++,e.privBufferedBytes)),e.privBufferedBytes+=t.buffer.byteLength),t}))}},{key:"detach",value:function(){return this.privBuffers=void 0,this.privAudioNode.detach()}},{key:"replay",value:function(){this.privBuffers&&0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}},{key:"shrinkBuffers",value:function(e){if(void 0!==this.privBuffers&&0!==this.privBuffers.length){this.privLastShrinkOffset=e;var t=e-this.privBufferStartOffset,n=Math.round(t*this.privBytesPerSecond*1e-7),r=0;while(r<this.privBuffers.length&&n>=this.privBuffers[r].chunk.buffer.byteLength)n-=this.privBuffers[r++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-n/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(r)}}},{key:"findTimeAtOffset",value:function(e){if(e<this.privBufferStartOffset||void 0===this.privBuffers)return 0;var t,n=(0,i.default)(this.privBuffers);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.byteOffset/this.privBytesPerSecond*1e7,a=o+r.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=o&&e<=a)return r.chunk.timeReceived}}catch(s){n.e(s)}finally{n.f()}return 0}}]),e}();t.ReplayableAudioNode=s;var u=(0,a.default)((function e(t,n,r){(0,o.default)(this,e),this.chunk=t,this.serial=n,this.byteOffset=r}))},"3e8a":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfile=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n){(0,i.default)(this,e),this.privId=t,this.privProfileType=n}return(0,o.default)(e,[{key:"profileId",get:function(){return this.privId}},{key:"profileType",get:function(){return this.privProfileType}}]),e}();t.VoiceProfile=a},"3ed8":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ConversationConnectionConfig",{enumerable:!0,get:function(){return i.ConversationConnectionConfig}}),Object.defineProperty(t,"ConversationManager",{enumerable:!0,get:function(){return r.ConversationManager}}),Object.defineProperty(t,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return s.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(t,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return o.ConversationRecognizerFactory}}),Object.defineProperty(t,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return u.ConversationTranslatorCommandTypes}}),Object.defineProperty(t,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return u.ConversationTranslatorMessageTypes}}),Object.defineProperty(t,"InternalParticipants",{enumerable:!0,get:function(){return u.InternalParticipants}}),Object.defineProperty(t,"LockRoomEventArgs",{enumerable:!0,get:function(){return s.LockRoomEventArgs}}),Object.defineProperty(t,"MuteAllEventArgs",{enumerable:!0,get:function(){return s.MuteAllEventArgs}}),Object.defineProperty(t,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return s.ParticipantAttributeEventArgs}}),Object.defineProperty(t,"ParticipantEventArgs",{enumerable:!0,get:function(){return s.ParticipantEventArgs}}),Object.defineProperty(t,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return s.ParticipantsListEventArgs}}),Object.defineProperty(t,"TranscriberRecognizer",{enumerable:!0,get:function(){return a.TranscriberRecognizer}});var r=n("1c6b"),i=n("9802"),o=n("0bae"),a=n("8415"),s=n("f70b"),u=n("2cbd")},"3fdf":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("45eb")),u=r(n("7e84")),c=r(n("262e")),p=r(n("2caf"));n("d3b7"),n("c975"),n("a434"),n("caad"),n("2532"),n("14d9"),n("e9c4");var d=n("21c7"),l=n("903d"),f=n("8603"),v=n("277e"),h=n("9030"),y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},g=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e,r,i){var a;(0,o.default)(this,n);var s=e;return v.Contracts.throwIfNull(s,"speechConfig"),a=t.call(this,r,s.properties,i||new d.TranslationConnectionFactory),a.privDisposedTranslationRecognizer=!1,void 0!==a.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&v.Contracts.throwIfNullOrWhitespace(a.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationVoice),h.PropertyId[h.PropertyId.SpeechServiceConnection_TranslationVoice]),v.Contracts.throwIfNullOrWhitespace(a.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages),h.PropertyId[h.PropertyId.SpeechServiceConnection_TranslationToLanguages]),v.Contracts.throwIfNullOrWhitespace(a.properties.getProperty(h.PropertyId.SpeechServiceConnection_RecoLanguage),h.PropertyId[h.PropertyId.SpeechServiceConnection_RecoLanguage]),a}return(0,a.default)(n,[{key:"speechRecognitionLanguage",get:function(){return v.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(h.PropertyId.SpeechServiceConnection_RecoLanguage)}},{key:"targetLanguages",get:function(){return v.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}},{key:"voiceName",get:function(){return v.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}},{key:"properties",get:function(){return this.privProperties}},{key:"authorizationToken",get:function(){return this.properties.getProperty(h.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.properties.setProperty(h.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"recognizeOnceAsync",value:function(e,t){v.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),(0,l.marshalPromiseToCallbacks)(this.recognizeOnceAsyncImpl(d.RecognitionMode.Conversation),e,t)}},{key:"startContinuousRecognitionAsync",value:function(e,t){(0,l.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(d.RecognitionMode.Conversation),e,t)}},{key:"stopContinuousRecognitionAsync",value:function(e,t){(0,l.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),e,t)}},{key:"removeTargetLanguage",value:function(e){if(v.Contracts.throwIfNullOrUndefined(e,"language to be removed"),void 0!==this.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)){var t=this.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),n=t.indexOf(e);n>-1&&(t.splice(n,1),this.properties.setProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(",")),this.updateLanguages(t))}}},{key:"addTargetLanguage",value:function(e){v.Contracts.throwIfNullOrUndefined(e,"language to be added");var t=[];void 0!==this.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?(t=this.properties.getProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),t.includes(e)||(t.push(e),this.properties.setProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(",")))):(this.properties.setProperty(h.PropertyId.SpeechServiceConnection_TranslationToLanguages,e),t=[e]),this.updateLanguages(t)}},{key:"close",value:function(e,t){v.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),(0,l.marshalPromiseToCallbacks)(this.dispose(!0),e,t)}},{key:"onConnection",value:function(){}},{key:"onDisconnection",value:function(){return y(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,s.default)((0,u.default)(n.prototype),"dispose",t)}}});return y(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposedTranslationRecognizer){t.next=2;break}return t.abrupt("return");case 2:if(this.privDisposedTranslationRecognizer=!0,!e){t.next=8;break}return t.next=6,this.implRecognizerStop();case 6:return t.next=8,r.dispose.call(this,e);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"createRecognizerConfig",value:function(e){return new d.RecognizerConfig(e,this.privProperties)}},{key:"createServiceRecognizer",value:function(e,t,n,r){var i=n;return new d.TranslationServiceRecognizer(e,t,i,r,this)}},{key:"updateLanguages",value:function(e){var t=f.Connection.fromRecognizer(this);t&&(t.setMessageProperty("speech.context","translationcontext",{to:e}),t.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:e})))}}],[{key:"FromConfig",value:function(e,t,r){var i=e;return t.properties.mergeTo(i.properties),new n(e,r)}}]),n}(h.Recognizer);t.TranslationRecognizer=g},4:function(e,t){},4061:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionFactoryBase=void 0,n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("b64b"),n("ac1f"),n("841c"),n("2ca0");var i=r(n("d4ec")),o=r(n("bee2")),a=n("21c7"),s=n("9030"),u=n("9262"),c=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"setCommonUrlParams",value:function(e,t,n){var r=this,i=new Map([[s.PropertyId.Speech_SegmentationSilenceTimeoutMs,u.QueryParameterNames.SegmentationSilenceTimeoutMs],[s.PropertyId.SpeechServiceConnection_EnableAudioLogging,u.QueryParameterNames.EnableAudioLogging],[s.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,u.QueryParameterNames.EndSilenceTimeoutMs],[s.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,u.QueryParameterNames.InitialSilenceTimeoutMs],[s.PropertyId.SpeechServiceResponse_PostProcessingOption,u.QueryParameterNames.Postprocessing],[s.PropertyId.SpeechServiceResponse_ProfanityOption,u.QueryParameterNames.Profanity],[s.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,u.QueryParameterNames.EnableWordLevelTimestamps],[s.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,u.QueryParameterNames.StableIntermediateThreshold]]);i.forEach((function(i,o){r.setUrlParameter(o,i,e,t,n)}));var o=JSON.parse(e.parameters.getProperty(a.ServicePropertiesPropertyName,"{}"));Object.keys(o).forEach((function(e){t[e]=o[e]}))}},{key:"setUrlParameter",value:function(e,t,n,r,i){var o=n.parameters.getProperty(e,void 0);!o||i&&-1!==i.search(t)||(r[t]=o.toLocaleLowerCase())}}],[{key:"getHostSuffix",value:function(e){if(e){if(e.toLowerCase().startsWith("china"))return".azure.cn";if(e.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}}]),e}();t.ConnectionFactoryBase=c},"40b5":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("7481"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s,u,c,p,d,l,f){var v;return(0,i.default)(this,n),v=t.call(this,r,a,s,u,c,p,void 0,void 0,d,l,f),v.privId=e,v.privOrigLang=o,v}return(0,o.default)(n,[{key:"participantId",get:function(){return this.privId}},{key:"originalLang",get:function(){return this.privOrigLang}}]),n}(u.TranslationRecognitionResult);t.ConversationTranslationResult=c},"40cf":function(e,t){},4111:function(e,t,n){"use strict";var r=n("0637"),i=n.n(r);i.a},4138:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7");var s=n("0f96"),u=n("5628"),c=n("0733"),p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},d=function(){function e(t){(0,o.default)(this,e),this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=t||(0,u.createNoDashGuid)(),this.privReaderQueue=new c.Queue}return(0,a.default)(e,[{key:"isClosed",get:function(){return this.privIsWriteEnded}},{key:"isReadEnded",get:function(){return this.privIsReadEnded}},{key:"id",get:function(){return this.privId}},{key:"close",value:function(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}},{key:"writeStreamChunk",value:function(e){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(e)}catch(t){}}},{key:"read",value:function(){var e=this;if(this.privIsReadEnded)throw new s.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then((function(t){return p(e,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==t&&!t.isEnd){e.next=3;break}return e.next=3,this.privReaderQueue.dispose("End of stream reached");case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})))}))}},{key:"readEnded",value:function(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new c.Queue)}},{key:"throwIfClosed",value:function(){if(this.privIsWriteEnded)throw new s.InvalidOperationError("Stream closed")}}]),e}();t.Stream=d},4325:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TurnStatusReceivedEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("12e1"),s=function(){function e(t){(0,i.default)(this,e),this.privTurnStatus=a.TurnStatusResponsePayload.fromJSON(t)}return(0,o.default)(e,[{key:"interactionId",get:function(){return this.privTurnStatus.interactionId}},{key:"conversationId",get:function(){return this.privTurnStatus.conversationId}},{key:"statusCode",get:function(){return this.privTurnStatus.statusCode}}]),e}();t.TurnStatusReceivedEventArgs=s},4435:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationHypothesis=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("b6b3"),s=function(){function e(t){(0,i.default)(this,e),this.privTranslationHypothesis=JSON.parse(t),this.privTranslationHypothesis.Translation.TranslationStatus=a.TranslationStatus[this.privTranslationHypothesis.Translation.TranslationStatus]}return(0,o.default)(e,[{key:"Duration",get:function(){return this.privTranslationHypothesis.Duration}},{key:"Offset",get:function(){return this.privTranslationHypothesis.Offset}},{key:"Text",get:function(){return this.privTranslationHypothesis.Text}},{key:"Translation",get:function(){return this.privTranslationHypothesis.Translation}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.TranslationHypothesis=s},4478:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,n("4ae1"),n("d3b7"),n("f8c9"),n("14d9");var r=o(n("b380")),i=o(n("d967"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,n,o){return(0,i.default)()?t.default=a=Reflect.construct.bind():t.default=a=function(e,t,n){var i=[null];i.push.apply(i,t);var o=Function.bind.apply(e,i),a=new o;return n&&(0,r.default)(a,n.prototype),a},a.apply(null,arguments)}},"45eb":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,n("d3b7"),n("f8c9"),n("5d41"),n("e439");var r=function(e){return e&&e.__esModule?e:{default:e}}(n("5d34"));function i(){return"undefined"!==typeof Reflect&&Reflect.get?t.default=i=Reflect.get.bind():t.default=i=function(e,t,n){var i=(0,r.default)(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}},"47d5":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriberConnectionFactory=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9271"),c=n("9030"),p=n("4061"),d=n("21c7"),l=n("574d"),f=n("9262"),v=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){var e;return(0,i.default)(this,n),e=t.apply(this,arguments),e.multiaudioRelativeUri="/speech/recognition/multiaudio",e}return(0,o.default)(n,[{key:"create",value:function(e,t,n){var r=e.parameters.getProperty(c.PropertyId.SpeechServiceConnection_Endpoint,void 0),i=e.parameters.getProperty(c.PropertyId.SpeechServiceConnection_Region,"centralus"),o=p.ConnectionFactoryBase.getHostSuffix(i),a="wss://transcribe."+i+".cts.speech"+o+this.multiaudioRelativeUri,s=e.parameters.getProperty(c.PropertyId.SpeechServiceConnection_Host,a),f={};this.setQueryParams(f,e,r),r||(r=s);var v={};void 0!==t.token&&""!==t.token&&(v[t.headerName]=t.token),v[l.HeaderNames.ConnectionId]=n,e.parameters.setProperty(c.PropertyId.SpeechServiceConnection_Url,r);var h="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new u.WebsocketConnection(r,f,v,new d.WebsocketMessageFormatter,u.ProxyInfo.fromRecognizerConfig(e),h,n)}},{key:"setQueryParams",value:function(e,t,n){var r=t.parameters.getProperty(c.PropertyId.SpeechServiceConnection_EndpointId,void 0),i=t.parameters.getProperty(c.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);r&&!(f.QueryParameterNames.CustomSpeechDeploymentId in e)&&(e[f.QueryParameterNames.CustomSpeechDeploymentId]=r),i&&!(f.QueryParameterNames.Language in e)&&(e[f.QueryParameterNames.Language]=i);var o="true"===t.parameters.getProperty(c.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase(),a=t.parameters.getProperty(d.OutputFormatPropertyName,c.OutputFormat[c.OutputFormat.Simple])!==c.OutputFormat[c.OutputFormat.Simple];(o||a)&&(e[f.QueryParameterNames.Format]=c.OutputFormat[c.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(t,e,n)}}]),n}(p.ConnectionFactoryBase);t.TranscriberConnectionFactory=v},"4a22":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConnectionFactory=void 0,n("ac1f"),n("841c"),n("e25e"),n("99af");var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9271"),c=n("21c7"),p=n("9030"),d=n("4061"),l=n("21c7"),f=n("574d"),v=n("9262"),h=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){var e;return(0,i.default)(this,n),e=t.apply(this,arguments),e.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",e.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",e.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",e.universalUri="/speech/universal/v",e}return(0,o.default)(n,[{key:"create",value:function(e,t,n){var r=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Endpoint,void 0),i=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Region,void 0),o=d.ConnectionFactoryBase.getHostSuffix(i),a=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Host,"wss://"+i+".stt.speech"+o),s={},h=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_EndpointId,void 0),y=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(h?r&&-1!==r.search(v.QueryParameterNames.CustomSpeechDeploymentId)||(s[v.QueryParameterNames.CustomSpeechDeploymentId]=h):y&&(r&&-1!==r.search(v.QueryParameterNames.Language)||(s[v.QueryParameterNames.Language]=y)),r&&-1!==r.search(v.QueryParameterNames.Format)||(s[v.QueryParameterNames.Format]=e.parameters.getProperty(c.OutputFormatPropertyName,p.OutputFormat[p.OutputFormat.Simple]).toLowerCase()),void 0!==e.autoDetectSourceLanguages&&(s[v.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(e,s,r),!r)switch(e.recognitionMode){case l.RecognitionMode.Conversation:r="true"===e.parameters.getProperty(c.ForceDictationPropertyName,"false")?a+this.dictationRelativeUri:void 0!==e.recognitionEndpointVersion&&parseInt(e.recognitionEndpointVersion,10)>1?"".concat(a).concat(this.universalUri).concat(e.recognitionEndpointVersion):a+this.conversationRelativeUri;break;case l.RecognitionMode.Dictation:r=a+this.dictationRelativeUri;break;default:r=void 0!==e.recognitionEndpointVersion&&parseInt(e.recognitionEndpointVersion,10)>1?"".concat(a).concat(this.universalUri).concat(e.recognitionEndpointVersion):a+this.interactiveRelativeUri;break}var g={};void 0!==t.token&&""!==t.token&&(g[t.headerName]=t.token),g[f.HeaderNames.ConnectionId]=n;var m="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false"),S=new u.WebsocketConnection(r,s,g,new l.WebsocketMessageFormatter,u.ProxyInfo.fromRecognizerConfig(e),m,n),C=S.uri;return e.parameters.setProperty(p.PropertyId.SpeechServiceConnection_Url,C),S}}]),n}(d.ConnectionFactoryBase);t.SpeechConnectionFactory=h},"4a4b":function(e,t,n){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t,n)}n("131a"),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"4a68":function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationReason=void 0,t.CancellationReason=r,function(e){e[e["Error"]=0]="Error",e[e["EndOfStream"]=1]="EndOfStream"}(r||(t.CancellationReason=r={}))},"4ae4":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamNodeEvent=t.AudioStreamNodeErrorEvent=t.AudioStreamNodeDetachedEvent=t.AudioStreamNodeAttachingEvent=t.AudioStreamNodeAttachedEvent=t.AudioSourceReadyEvent=t.AudioSourceOffEvent=t.AudioSourceInitializingEvent=t.AudioSourceEvent=t.AudioSourceErrorEvent=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("85d3"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.EventType.Info;return(0,i.default)(this,n),o=t.call(this,e,a),o.privAudioSourceId=r,o}return(0,o.default)(n,[{key:"audioSourceId",get:function(){return this.privAudioSourceId}}]),n}(u.PlatformEvent);t.AudioSourceEvent=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,i.default)(this,n),t.call(this,"AudioSourceInitializingEvent",e)}return(0,o.default)(n)}(c);t.AudioSourceInitializingEvent=p;var d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,i.default)(this,n),t.call(this,"AudioSourceReadyEvent",e)}return(0,o.default)(n)}(c);t.AudioSourceReadyEvent=d;var l=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){return(0,i.default)(this,n),t.call(this,"AudioSourceOffEvent",e)}return(0,o.default)(n)}(c);t.AudioSourceOffEvent=l;var f=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,"AudioSourceErrorEvent",e,u.EventType.Error),o.privError=r,o}return(0,o.default)(n,[{key:"error",get:function(){return this.privError}}]),n}(c);t.AudioSourceErrorEvent=f;var v=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,e,r),a.privAudioNodeId=o,a}return(0,o.default)(n,[{key:"audioNodeId",get:function(){return this.privAudioNodeId}}]),n}(c);t.AudioStreamNodeEvent=v;var h=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){return(0,i.default)(this,n),t.call(this,"AudioStreamNodeAttachingEvent",e,r)}return(0,o.default)(n)}(v);t.AudioStreamNodeAttachingEvent=h;var y=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){return(0,i.default)(this,n),t.call(this,"AudioStreamNodeAttachedEvent",e,r)}return(0,o.default)(n)}(v);t.AudioStreamNodeAttachedEvent=y;var g=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){return(0,i.default)(this,n),t.call(this,"AudioStreamNodeDetachedEvent",e,r)}return(0,o.default)(n)}(v);t.AudioStreamNodeDetachedEvent=g;var m=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"AudioStreamNodeErrorEvent",e,r),a.privError=o,a}return(0,o.default)(n,[{key:"error",get:function(){return this.privError}}]),n}(v);t.AudioStreamNodeErrorEvent=m},"4b37":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantsListPayloadResponse=t.ParticipantPayloadResponse=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privParticipantsPayloadResponse=function(e){return JSON.parse(e)}(t)}return(0,o.default)(e,[{key:"roomid",get:function(){return this.privParticipantsPayloadResponse.roomid}},{key:"id",get:function(){return this.privParticipantsPayloadResponse.id}},{key:"command",get:function(){return this.privParticipantsPayloadResponse.command}},{key:"participants",get:function(){return this.privParticipantsPayloadResponse.participants}},{key:"token",get:function(){return this.privParticipantsPayloadResponse.token}},{key:"translateTo",get:function(){return this.privParticipantsPayloadResponse.translateTo}},{key:"profanityFilter",get:function(){return this.privParticipantsPayloadResponse.profanityFilter}},{key:"roomProfanityFilter",get:function(){return this.privParticipantsPayloadResponse.roomProfanityFilter}},{key:"roomLocked",get:function(){return this.privParticipantsPayloadResponse.roomLocked}},{key:"muteAll",get:function(){return this.privParticipantsPayloadResponse.muteAll}},{key:"type",get:function(){return this.privParticipantsPayloadResponse.type}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.ParticipantsListPayloadResponse=a;var s=function(){function e(t){(0,i.default)(this,e),this.privParticipantPayloadResponse=function(e){return JSON.parse(e)}(t)}return(0,o.default)(e,[{key:"nickname",get:function(){return this.privParticipantPayloadResponse.nickname}},{key:"locale",get:function(){return this.privParticipantPayloadResponse.locale}},{key:"usetts",get:function(){return this.privParticipantPayloadResponse.usetts}},{key:"ismuted",get:function(){return this.privParticipantPayloadResponse.ismuted}},{key:"ishost",get:function(){return this.privParticipantPayloadResponse.ishost}},{key:"participantId",get:function(){return this.privParticipantPayloadResponse.participantId}},{key:"avatar",get:function(){return this.privParticipantPayloadResponse.avatar}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.ParticipantPayloadResponse=s},"4b8a":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={uniTransition:n("4e19").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.open(["slide-left"],"session")}}},[e._v("会话")]),n("v-uni-view",{staticClass:"title"},[e._v("ChatGPT·语音版")]),n("v-uni-view",{staticClass:"right"},[n("v-uni-image",{attrs:{src:"true"==e.audioSwitch?"/static/sound_open.png":"/static/sound_close.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.switchAudio.apply(void 0,arguments)}}}),n("v-uni-image",{attrs:{src:"/static/more.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tapSet.apply(void 0,arguments)}}})],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.setShow,expression:"setShow"}],staticClass:"set",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hideSet.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"arrow"}),n("v-uni-view",{staticClass:"ul"},[n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{attrs:{src:"/static/set_user.png"}}),e._v("会员信息")],1),n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{attrs:{src:"/static/set_lang.png"}}),n("v-uni-picker",{attrs:{value:e.langindex,range:e.lang,"range-key":"label"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.ec.apply(void 0,arguments)}}},[n("v-uni-text",[e._v("语种选择")])],1)],1),n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{attrs:{src:"/static/set_kefu.png"}}),e._v("联系客服")],1),n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{attrs:{src:"/static/set_exit1.png"}}),e._v("安全退出")],1)],1)],1)],1),n("v-uni-view",{staticClass:"main",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hideSet.apply(void 0,arguments)}}},[""==e.alllist[e.Num].messages?n("v-uni-view",{staticClass:"list"},[n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{staticClass:"head",attrs:{src:"/static/openai35.png"}}),n("v-uni-view",{staticClass:"text"},[n("v-uni-view",[e._v("欢迎大家来到chat AI智能语音助手，我们将在这里完成一次智慧之旅。快来开启吧！")])],1),n("v-uni-view",{staticClass:"play",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.yuyin("欢迎大家来到chat AI智能语音助手，我们将在这里完成一次智慧之旅。快来开启吧！","yy")}}})],1)],1):e._e(),e._l(e.alllist[e.Num].messages,(function(t,r){return n("v-uni-view",{staticClass:"list"},[r%2===0&&r!=e.alllist[e.Num].messages.length-2?n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{staticClass:"head",attrs:{src:"/static/head2.png"}}),n("v-uni-view",{staticClass:"text ques"},[e._v(e._s(t.content))]),n("v-uni-view",{staticClass:"play",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.yuyin(t.content,"yy")}}})],1):e._e(),r%2!==0&&r!=e.alllist[e.Num].messages.length-1?n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{staticClass:"head",attrs:{src:"/static/openai35.png"}}),n("v-uni-view",{staticClass:"text"},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:""==t.content,expression:"item.content==''"}],staticClass:"loading"}),e._v(e._s(t.content))],1),n("v-uni-view",{staticClass:"play",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.yuyin(t.content,"yy")}}})],1):e._e(),r%2===0&&r==e.alllist[e.Num].messages.length-2?n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{staticClass:"head",attrs:{src:"/static/head2.png"}}),n("v-uni-view",{staticClass:"text ques"},[e._v(e._s(t.content))]),n("v-uni-view",{staticClass:"play",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.yuyin(t.content,"yy")}}})],1):e._e(),r%2!==0&&r==e.alllist[e.Num].messages.length-1?n("v-uni-view",{staticClass:"li"},[n("v-uni-image",{staticClass:"head",attrs:{src:"/static/openai35.png"}}),n("v-uni-view",{staticClass:"text",staticStyle:{position:"relative"}},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:""==t.content,expression:"item.content==''"}],staticClass:"loading"}),e._v(e._s(t.content)),n("v-uni-view",{staticStyle:{position:"absolute",left:"0",bottom:"-25px"}},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.input,expression:"input"}],staticClass:"pause",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.zzhi=!1}}}),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.input,expression:"!input"}],staticClass:"retry",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cshi.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"play",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.yuyin(t.content,"yy")}}})],1):e._e()],1)}))],2),n("v-uni-view",{staticClass:"bot"},[n("v-uni-view",{staticClass:"cont"},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.isPreset,expression:"isPreset"}],staticClass:"preset"},[e._l(e.commonly,(function(t){return n("v-uni-view",{staticClass:"item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.cop(t)}}},[e._v(e._s(t))])})),n("v-uni-view",{staticClass:"more",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.open(["slide-right"],"role")}}},[e._v("更多...")])],2),n("v-uni-view",{staticClass:"question"},[n("v-uni-view",{staticClass:"text"},[n("v-uni-image",{staticClass:"img",attrs:{src:"/static/head.png"}}),n("v-uni-textarea",{staticClass:"ipt",attrs:{placeholder:"请输入您想问的...","auto-height":!0,"auto-blur":!0,disabled:e.input},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.iptFocus.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.iptBlur.apply(void 0,arguments)}},model:{value:e.inputText,callback:function(t){e.inputText=t},expression:"inputText"}})],1),n("v-uni-view",{staticClass:"send",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendMessage.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"revise",style:{height:e.bottom+"px"}})],1)],1),n("uni-transition",{attrs:{duration:100,"mode-class":e.modeClass,styles:e.transfromClass,show:e.transShow},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onTap.apply(void 0,arguments)}}},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"session"==e.maskLayer,expression:"maskLayer=='session'"}],staticClass:"translayer",staticStyle:{"justify-content":"flex-start"}},[n("v-uni-view",{staticClass:"session",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{staticClass:"status-bar"}),n("v-uni-view",{staticClass:"new",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tianj.apply(void 0,arguments)}}},[e._v("新建会话")]),n("v-uni-view",{staticStyle:{"overflow-x":"auto","white-space":"nowrap",height:"75%"}},e._l(e.alllist,(function(t,r){return n("v-uni-view",{class:r==e.Num?"history on":"history",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.get(r)}}},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(t.tit))]),n("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.shanc(r)}}},[n("v-uni-image",{attrs:{src:"/static/icon_delete.png"}})],1)],1)})),1),n("v-uni-view",{staticClass:"detail"},[e._v("本站供大家学习使用，提高工作效率不求功名，只求与时代同行！")])],1)],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"role"==e.maskLayer,expression:"maskLayer=='role'"}],staticClass:"translayer",staticStyle:{"justify-content":"flex-end"}},[n("v-uni-view",{staticClass:"role",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{staticClass:"status-bar"}),n("v-uni-view",{staticClass:"tit"},[e._v("常用角色设置")]),e._l(e.copys,(function(t,r){return n("v-uni-view",{staticClass:"li",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.copy(t.rdes,r)}}},[n("v-uni-view",{staticClass:"rname"},[e._v(e._s(t.rname))]),n("v-uni-view",{staticClass:"rdes"},[e._v(e._s(t.rdes))])],1)}))],2)],1)],1)],1)},o=[]},"4ce1":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.type=t.connectivity=t.System=t.SpeechServiceConfig=t.SpeechResultFormat=t.RecognizerConfig=t.RecognitionMode=t.OS=t.Device=t.Context=void 0,n("e25e"),n("d401"),n("d3b7"),n("25f0"),n("14d9"),n("e9c4");var i,o,a=r(n("53ca")),s=r(n("b85c")),u=r(n("d4ec")),c=r(n("bee2")),p=n("9030");t.RecognitionMode=i,function(e){e[e["Interactive"]=0]="Interactive",e[e["Conversation"]=1]="Conversation",e[e["Dictation"]=2]="Dictation"}(i||(t.RecognitionMode=i={})),t.SpeechResultFormat=o,function(e){e[e["Simple"]=0]="Simple",e[e["Detailed"]=1]="Detailed"}(o||(t.SpeechResultFormat=o={}));var d=function(){function e(t,n){(0,u.default)(this,e),this.privSpeechServiceConfig=t||new l(new f(null)),this.privParameters=n,this.privMaxRetryCount=parseInt(n.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=n.getProperty(p.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0)}return(0,c.default)(e,[{key:"parameters",get:function(){return this.privParameters}},{key:"recognitionMode",get:function(){return this.privRecognitionMode},set:function(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===i.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=i[e]}},{key:"SpeechServiceConfig",get:function(){return this.privSpeechServiceConfig}},{key:"recognitionActivityTimeout",get:function(){return this.privRecognitionActivityTimeout}},{key:"isContinuousRecognition",get:function(){return this.privRecognitionMode!==i.Interactive}},{key:"languageIdMode",get:function(){return this.privLanguageIdMode}},{key:"autoDetectSourceLanguages",get:function(){return this.parameters.getProperty(p.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}},{key:"recognitionEndpointVersion",get:function(){return this.parameters.getProperty(p.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}},{key:"sourceLanguageModels",get:function(){var e=[],t=!1;if(void 0!==this.autoDetectSourceLanguages){var n,r=(0,s.default)(this.autoDetectSourceLanguages.split(","));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i+p.PropertyId.SpeechServiceConnection_EndpointId.toString(),a=this.parameters.getProperty(o,void 0);void 0!==a?(e.push({language:i,endpoint:a}),t=!0):e.push({language:i,endpoint:""})}}catch(u){r.e(u)}finally{r.f()}}return t?e:void 0}},{key:"maxRetryCount",get:function(){return this.privMaxRetryCount}}]),e}();t.RecognizerConfig=d;var l=function(){function e(t){(0,u.default)(this,e),this.context=t}return(0,c.default)(e,[{key:"serialize",value:function(){return JSON.stringify(this,(function(e,t){if(t&&"object"===(0,a.default)(t)){var n={};for(var r in t)Object.hasOwnProperty.call(t,r)&&(n[r&&r.charAt(0).toLowerCase()+r.substring(1)]=t[r]);return n}return t}))}},{key:"Context",get:function(){return this.context}},{key:"Recognition",get:function(){return this.recognition},set:function(e){this.recognition=e.toLowerCase()}}]),e}();t.SpeechServiceConfig=l;var f=(0,c.default)((function e(t){(0,u.default)(this,e),this.system=new v,this.os=t}));t.Context=f;var v=(0,c.default)((function e(){(0,u.default)(this,e);this.name="SpeechSDK",this.version="1.29.0",this.build="JavaScript",this.lang="JavaScript"}));t.System=v;var h=(0,c.default)((function e(t,n,r){(0,u.default)(this,e),this.platform=t,this.name=n,this.version=r}));t.OS=h;var y,g,m=(0,c.default)((function e(t,n,r){(0,u.default)(this,e),this.manufacturer=t,this.model=n,this.version=r}));t.Device=m,t.connectivity=y,function(e){e["Bluetooth"]="Bluetooth",e["Wired"]="Wired",e["WiFi"]="WiFi",e["Cellular"]="Cellular",e["InBuilt"]="InBuilt",e["Unknown"]="Unknown"}(y||(t.connectivity=y={})),t.type=g,function(e){e["Phone"]="Phone",e["Speaker"]="Speaker",e["Car"]="Car",e["Headset"]="Headset",e["Thermostat"]="Thermostat",e["Microphones"]="Microphones",e["Deskphone"]="Deskphone",e["RemoteControl"]="RemoteControl",e["Unknown"]="Unknown",e["File"]="File",e["Stream"]="Stream"}(g||(t.type=g={}))},"4d90":function(e,t,n){"use strict";var r=n("23e7"),i=n("0ccb").start,o=n("9a0c");r({target:"String",proto:!0,forced:o},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df8":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisEnd=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("21c7"),s=function(){function e(t){(0,i.default)(this,e),this.privSynthesisEnd=JSON.parse(t),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=a.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=a.SynthesisStatus[this.privSynthesisEnd.Status])}return(0,o.default)(e,[{key:"SynthesisStatus",get:function(){return this.privSynthesisEnd.SynthesisStatus}},{key:"FailureReason",get:function(){return this.privSynthesisEnd.FailureReason}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.TranslationSynthesisEnd=s},"4e19":function(e,t,n){"use strict";n.r(t);var r=n("7c30"),i=n("bb51");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("f0c5"),s=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,"1a12f82f",null,!1,r["a"],void 0);t["default"]=s.exports},"4ec9":function(e,t,n){n("6f48")},"4fad":function(e,t,n){var r=n("d039"),i=n("861d"),o=n("c6b6"),a=n("d86b"),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!=o(e))&&(!s||s(e)))}:s},5:function(e,t){},"506a":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=function(e,t){if(!t)return;return clearTimeout(t.timer),new s(e,t)},n("caad"),n("2532"),n("99af"),n("d3b7"),n("159b");var i=r(n("5530")),o=r(n("d4ec")),a=r(n("bee2")),s=function(){function e(t,n){(0,o.default)(this,e),this.options=t,this.animation=uni.createAnimation((0,i.default)({},t)),this.currentStepAnimates={},this.next=0,this.$=n}return(0,a.default)(e,[{key:"_nvuePushAnimates",value:function(e,t){var n=this.currentStepAnimates[this.next],r={};if(r=n||{styles:{},config:{}},u.includes(e)){r.styles.transform||(r.styles.transform="");var i="";"rotate"===e&&(i="deg"),r.styles.transform+="".concat(e,"(").concat(t+i,") ")}else r.styles[e]="".concat(t);this.currentStepAnimates[this.next]=r}},{key:"_animateRun",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.$.$refs["ani"].ref;if(n)return new Promise((function(r,o){nvueAnimation.transition(n,(0,i.default)({styles:e},t),(function(e){r()}))}))}},{key:"_nvueNextAnimate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=e[n];if(i){var o=i.styles,a=i.config;this._animateRun(o,a).then((function(){n+=1,t._nvueNextAnimate(e,n,r)}))}else this.currentStepAnimates={},"function"===typeof r&&r(),this.isEnd=!0}},{key:"step",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.animation.step(e),this}},{key:"run",value:function(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((function(){"function"===typeof e&&e()}),this.$.durationTime)}}]),e}(),u=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];u.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((function(e){s.prototype[e]=function(){var t;return(t=this.animation)[e].apply(t,arguments),this}}))},"52b8":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,r,o),a.privResult=e,a}return(0,o.default)(n,[{key:"result",get:function(){return this.privResult}}]),n}(u.RecognitionEventArgs);t.ConversationTranslationEventArgs=c},"52d5":function(e,t,n){"use strict";n("7a82");var r=n("dbce").default,i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioFileWriter=void 0,n("ace4"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("fb6a"),n("fd87");var o=i(n("d4ec")),a=i(n("bee2")),s=r(n(2)),u=n("277e"),c=function(){function e(t){(0,o.default)(this,e),u.Contracts.throwIfNullOrUndefined(s.openSync,"\nFile System access not available, please use Push or PullAudioOutputStream"),this.privFd=s.openSync(t,"w")}return(0,a.default)(e,[{key:"format",set:function(e){u.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;var t=0;this.privAudioFormat.hasHeader&&(t=this.privAudioFormat.header.byteLength),void 0!==this.privFd&&(this.privWriteStream=s.createWriteStream("",{fd:this.privFd,start:t,autoClose:!1}))}},{key:"write",value:function(e){u.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),void 0!==this.privWriteStream&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}},{key:"close",value:function(){var e=this;void 0!==this.privFd&&(this.privWriteStream.on("finish",(function(){e.privAudioFormat.hasHeader&&(e.privAudioFormat.updateHeader(e.privWriteStream.bytesWritten),s.writeSync(e.privFd,new Int8Array(e.privAudioFormat.header),0,e.privAudioFormat.header.byteLength,0)),s.closeSync(e.privFd),e.privFd=void 0})),this.privWriteStream.end())}},{key:"id",value:function(){return this.privId}}]),e}();t.AudioFileWriter=c},"538a":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationExpirationEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,r),o.privExpirationTime=e,o}return(0,o.default)(n,[{key:"expirationTime",get:function(){return this.privExpirationTime}}]),n}(u.SessionEventArgs);t.ConversationExpirationEventArgs=c},5628:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.createNoDashGuid=t.createGuid=void 0,n("ac1f"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0");var r=n("11c1"),i=function(){return(0,r.v4)()};t.createGuid=i;t.createNoDashGuid=function(){return i().replace(new RegExp("-","g"),"").toUpperCase()}},"567b":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceConfigImpl=t.DialogServiceConfig=void 0;var i=r(n("262e")),o=r(n("2caf")),a=r(n("d4ec")),s=r(n("bee2")),u=n("277e"),c=n("9030"),p=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,[{key:"applicationId",set:function(e){}}],[{key:"DialogTypes",get:function(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}}]),e}();t.DialogServiceConfig=p;var d=function(e){(0,i.default)(n,e);var t=(0,o.default)(n);function n(){var e;return(0,a.default)(this,n),e=t.call(this),e.privSpeechConfig=new c.SpeechConfigImpl,e}return(0,s.default)(n,[{key:"properties",get:function(){return this.privSpeechConfig.properties}},{key:"speechRecognitionLanguage",get:function(){return this.privSpeechConfig.speechRecognitionLanguage},set:function(e){u.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechConfig.speechRecognitionLanguage=e}},{key:"outputFormat",get:function(){return this.privSpeechConfig.outputFormat},set:function(e){this.privSpeechConfig.outputFormat=e}},{key:"setProperty",value:function(e,t){this.privSpeechConfig.setProperty(e,t)}},{key:"getProperty",value:function(e,t){return this.privSpeechConfig.getProperty(e)}},{key:"setProxy",value:function(e,t,n,r){this.setProperty(c.PropertyId.SpeechServiceConnection_ProxyHostName,e),this.setProperty(c.PropertyId.SpeechServiceConnection_ProxyPort,"".concat(t)),n&&this.setProperty(c.PropertyId.SpeechServiceConnection_ProxyUserName,n),r&&this.setProperty(c.PropertyId.SpeechServiceConnection_ProxyPassword,r)}},{key:"setServiceProperty",value:function(e,t,n){this.privSpeechConfig.setServiceProperty(e,t)}},{key:"close",value:function(){}}]),n}(p);t.DialogServiceConfigImpl=d},"567e":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisRestAdapter=void 0,n("99af");var i=r(n("d4ec")),o=r(n("bee2")),a=n("9271"),s=n("9030"),u=n("4061"),c=n("574d"),p=function(){function e(t,n){(0,i.default)(this,e);var r=t.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!r){var o=t.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Region,"westus"),c=u.ConnectionFactoryBase.getHostSuffix(o);r=t.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Host,"https://".concat(o,".tts.speech").concat(c))}this.privUri="".concat(r,"/cognitiveservices/voices/list");var p=a.RestConfigBase.requestOptions;this.privRestAdapter=new a.RestMessageAdapter(p),this.privAuthentication=n}return(0,o.default)(e,[{key:"getVoicesList",value:function(e){var t=this;return this.privRestAdapter.setHeaders(c.HeaderNames.ConnectionId,e),this.privAuthentication.fetch(e).then((function(e){return t.privRestAdapter.setHeaders(e.headerName,e.token),t.privRestAdapter.request(a.RestRequestType.Get,t.privUri)}))}}]),e}();t.SynthesisRestAdapter=p},"574d":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderNames=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=(0,i.default)((function e(){(0,o.default)(this,e)}));t.HeaderNames=a,a.AuthKey="Ocp-Apim-Subscription-Key",a.Authorization="Authorization",a.SpIDAuthKey="Apim-Subscription-Id",a.ConnectionId="X-ConnectionId",a.ContentType="Content-Type",a.CustomCommandsAppId="X-CommandsAppId",a.Path="Path",a.RequestId="X-RequestId",a.RequestStreamId="X-StreamId",a.RequestTimestamp="X-Timestamp"},"579f":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationParticipantsChangedEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,o),a.privReason=e,a.privParticipant=r,a}return(0,o.default)(n,[{key:"reason",get:function(){return this.privReason}},{key:"participants",get:function(){return this.privParticipant}}]),n}(u.SessionEventArgs);t.ConversationParticipantsChangedEventArgs=c},"57a3":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerAudioDestination=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("ade3"));n("d3b7"),n("14d9"),n("c19f"),n("ace4"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("3c65");var u,c=n("21c7"),p=n("903d"),d=n("120d"),l=n("725b"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},v=(u={},(0,s.default)(u,l.AudioFormatTag.PCM,"audio/wav"),(0,s.default)(u,l.AudioFormatTag.MuLaw,"audio/x-wav"),(0,s.default)(u,l.AudioFormatTag.MP3,"audio/mpeg"),(0,s.default)(u,l.AudioFormatTag.OGG_OPUS,"audio/ogg"),(0,s.default)(u,l.AudioFormatTag.WEBM_OPUS,"audio/webm; codecs=opus"),(0,s.default)(u,l.AudioFormatTag.ALaw,"audio/x-wav"),(0,s.default)(u,l.AudioFormatTag.FLAC,"audio/flac"),u),h=function(){function e(t){(0,o.default)(this,e),this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=t||(0,p.createNoDashGuid)(),this.privIsPaused=!1,this.privIsClosed=!1}return(0,a.default)(e,[{key:"id",value:function(){return this.privId}},{key:"write",value:function(e,t,n){void 0!==this.privAudioBuffer?(this.privAudioBuffer.push(e),this.updateSourceBuffer().then((function(){t&&t()}),(function(e){n&&n(e)}))):void 0!==this.privAudioOutputStream&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}},{key:"close",value:function(e,t){var n=this;if(this.privIsClosed=!0,void 0!==this.privSourceBuffer)this.handleSourceBufferUpdateEnd().then((function(){e&&e()}),(function(e){t&&t(e)}));else if(void 0!==this.privAudioOutputStream&&"undefined"!==typeof window)if(this.privFormat.formatTag!==l.AudioFormatTag.PCM&&this.privFormat.formatTag!==l.AudioFormatTag.MuLaw&&this.privFormat.formatTag!==l.AudioFormatTag.ALaw||!1!==this.privFormat.hasHeader){var r=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(r).then((function(){r=c.SynthesisAdapterBase.addHeader(r,n.privFormat);var i=new Blob([r],{type:v[n.privFormat.formatTag]});n.privAudio.src=window.URL.createObjectURL(i),n.notifyPlayback().then((function(){e&&e()}),(function(e){t&&t(e)}))}),(function(e){t&&t(e)}))}else console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else this.onAudioEnd&&this.onAudioEnd(this)}},{key:"format",set:function(e){var t=this;if("undefined"!==typeof AudioContext||"undefined"!==typeof window&&"undefined"!==typeof window.webkitAudioContext){this.privFormat=e;var n=v[this.privFormat.formatTag];void 0===n?console.warn("Unknown mimeType for format ".concat(l.AudioFormatTag[this.privFormat.formatTag],"; playback is not supported.")):"undefined"!==typeof MediaSource&&MediaSource.isTypeSupported(n)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=function(){t.privMediaSourceOpened=!0,t.privMediaSource.duration=1800,t.privSourceBuffer=t.privMediaSource.addSourceBuffer(n),t.privSourceBuffer.onupdate=function(){t.updateSourceBuffer().catch((function(e){p.Events.instance.onEvent(new p.BackgroundEvent(e))}))},t.privSourceBuffer.onupdateend=function(){t.handleSourceBufferUpdateEnd().catch((function(e){p.Events.instance.onEvent(new p.BackgroundEvent(e))}))},t.privSourceBuffer.onupdatestart=function(){t.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch((function(e){p.Events.instance.onEvent(new p.BackgroundEvent(e))}))):(console.warn("Format ".concat(l.AudioFormatTag[this.privFormat.formatTag]," could not be played by MSE, streaming playback is not enabled.")),this.privAudioOutputStream=new d.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}},{key:"volume",get:function(){var e,t;return null!==(t=null===(e=this.privAudio)||void 0===e?void 0:e.volume)&&void 0!==t?t:-1},set:function(e){this.privAudio&&(this.privAudio.volume=e)}},{key:"mute",value:function(){this.privAudio&&(this.privAudio.muted=!0)}},{key:"unmute",value:function(){this.privAudio&&(this.privAudio.muted=!1)}},{key:"isClosed",get:function(){return this.privIsClosed}},{key:"currentTime",get:function(){return void 0!==this.privAudio?this.privAudio.currentTime:-1}},{key:"pause",value:function(){this.privIsPaused||void 0===this.privAudio||(this.privAudio.pause(),this.privIsPaused=!0)}},{key:"resume",value:function(e,t){this.privIsPaused&&void 0!==this.privAudio&&(this.privAudio.play().then((function(){e&&e()}),(function(e){t&&t(e)})),this.privIsPaused=!1)}},{key:"internalAudio",get:function(){return this.privAudio}},{key:"updateSourceBuffer",value:function(){return f(this,void 0,void 0,(0,i.default)().mark((function e(){var t;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(void 0!==this.privAudioBuffer&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable())){e.next=16;break}this.privAppendingToBuffer=!0,t=this.privAudioBuffer.shift(),e.prev=3,this.privSourceBuffer.appendBuffer(t),e.next=12;break;case 7:return e.prev=7,e.t0=e["catch"](3),this.privAudioBuffer.unshift(t),console.log("buffer filled, pausing addition of binaries until space is made"),e.abrupt("return");case 12:return e.next=14,this.notifyPlayback();case 14:e.next=19;break;case 16:if(!this.canEndStream()){e.next=19;break}return e.next=19,this.handleSourceBufferUpdateEnd();case 19:case"end":return e.stop()}}),e,this,[[3,7]])})))}},{key:"handleSourceBufferUpdateEnd",value:function(){return f(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.canEndStream()||!this.sourceBufferAvailable()){e.next=4;break}return this.privMediaSource.endOfStream(),e.next=4,this.notifyPlayback();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"notifyPlayback",value:function(){return f(this,void 0,void 0,(0,i.default)().mark((function e(){var t=this;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privPlaybackStarted||void 0===this.privAudio){e.next=7;break}if(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=function(){t.onAudioEnd&&t.onAudioEnd(t)},this.privIsPaused){e.next=7;break}return e.next=7,this.privAudio.play();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"canEndStream",value:function(){return this.isClosed&&void 0!==this.privSourceBuffer&&0===this.privAudioBuffer.length&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&"open"===this.privMediaSource.readyState}},{key:"sourceBufferAvailable",value:function(){return void 0!==this.privSourceBuffer&&!this.privSourceBuffer.updating}}]),e}();t.SpeakerAudioDestination=h},"57c8":function(e,t){},"595f":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceServiceRecognizer=void 0;var i=r(n("b85c")),o=r(n("c7eb")),a=r(n("d4ec")),s=r(n("bee2")),u=r(n("262e")),c=r(n("2caf"));n("d3b7"),n("e9c4"),n("d401"),n("25f0"),n("d9e2"),n("d81d"),n("99af"),n("14d9");var p=n("9271"),d=n("903d"),l=n("9030"),f=n("21c7"),v=n("f508"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(e,r,i,o,s){var u;return(0,a.default)(this,n),u=t.call(this,e,r,i,o,s),u.privDeferralMap=new d.DeferralMap,u.privSpeakerAudioSource=i,u.sendPrePayloadJSONOverride=function(){return u.noOp()},u}return(0,s.default)(n,[{key:"SpeakerAudioSource",set:function(e){this.privSpeakerAudioSource=e}},{key:"processTypeSpecificMessages",value:function(e){var t=!1,n=new l.PropertyCollection;switch(e.messageType===d.MessageType.Text&&n.setProperty(l.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speaker.profiles":var r=JSON.parse(e.textBody);switch(r.operation.toLowerCase()){case"create":this.handleCreateResponse(r,e.requestId);break;case"delete":case"reset":this.handleResultResponse(r,e.requestId);break;case"fetch":var i=JSON.parse(e.textBody);this.handleFetchResponse(i,e.requestId);break;default:break}t=!0;break;case"speaker.phrases":var o=JSON.parse(e.textBody);this.handlePhrasesResponse(o,e.requestId),t=!0;break;case"speaker.profile.enrollment":var a=JSON.parse(e.textBody),s=new l.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(a.enrollment?a.enrollment.enrollmentStatus:a.status.statusCode),a.enrollment?JSON.stringify(a.enrollment):void 0,a.status.reason);this.privDeferralMap.getId(e.requestId)&&this.privDeferralMap.complete(e.requestId,s),this.privRequestSession.onSpeechEnded(),t=!0;break;default:break}var u=new d.Deferred;return u.resolve(t),u.promise}},{key:"cancelRecognition",value:function(e,t,n,r,i){var o=new l.PropertyCollection;o.setProperty(f.CancellationErrorCodePropertyName,l.CancellationErrorCode[r]);var a=new l.VoiceProfileEnrollmentResult(l.ResultReason.Canceled,i,i);this.privDeferralMap.getId(t)&&this.privDeferralMap.complete(t,a)}},{key:"createProfile",value:function(e,t){return h(this,void 0,void 0,(0,o.default)().mark((function n(){var r,i;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return this.voiceProfileType=e.toString(),r=this.connectImpl(),n.prev=2,i=new d.Deferred,n.next=6,r;case 6:return n.next=8,this.sendCreateProfile(i,e,t);case 8:return this.receiveMessage(),n.abrupt("return",i.promise);case 12:throw n.prev=12,n.t0=n["catch"](2),n.t0;case 15:case"end":return n.stop()}}),n,this,[[2,12]])})))}},{key:"resetProfile",value:function(e){return h(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.voiceProfileType=e.profileType.toString(),t.abrupt("return",this.sendCommonRequest("reset",e.profileType,e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"deleteProfile",value:function(e){return h(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.voiceProfileType=e.profileType.toString(),t.abrupt("return",this.sendCommonRequest("delete",e.profileType,e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"retrieveEnrollmentResult",value:function(e){return h(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.voiceProfileType=e.profileType.toString(),this.privExpectedProfileId=e.profileId,t.abrupt("return",this.sendCommonRequest("fetch",e.profileType,e));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getAllProfiles",value:function(e){return h(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.voiceProfileType=e.toString(),t.abrupt("return",this.sendCommonRequest("fetch",e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"getActivationPhrases",value:function(e,t){return h(this,void 0,void 0,(0,o.default)().mark((function n(){var r,i;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return this.voiceProfileType=e.toString(),r=this.connectImpl(),n.prev=2,i=new d.Deferred,n.next=6,r;case 6:return n.next=8,this.sendPhrasesRequest(i,e,t);case 8:return this.receiveMessage(),n.abrupt("return",i.promise);case 12:throw n.prev=12,n.t0=n["catch"](2),n.t0;case 15:case"end":return n.stop()}}),n,this,[[2,12]])})))}},{key:"enrollProfile",value:function(e){return h(this,void 0,void 0,(0,o.default)().mark((function t(){var n,r,i,a,s,u,c,f,v,h=this;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.voiceProfileType=e.profileType.toString(),n=new d.Deferred,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(l.PropertyId.Speech_SessionId,this.privRequestSession.sessionId),r=this.connectImpl(),i=this.sendPreAudioMessages(e,n),t.next=9,this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId);case 9:return a=t.sent,t.next=12,this.privSpeakerAudioSource.format;case 12:return s=t.sent,t.next=15,this.privSpeakerAudioSource.deviceInfo;case 15:return u=t.sent,c=new p.ReplayableAudioNode(a,s.avgBytesPerSec),t.next=19,this.privRequestSession.onAudioSourceAttachCompleted(c,!1);case 19:return this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:u},t.prev=20,t.next=23,r;case 23:return t.next=25,i;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t["catch"](20),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,l.CancellationReason.Error,l.CancellationErrorCode.ConnectionFailure,t.t0);case 30:return f=new l.SessionEventArgs(this.privRequestSession.sessionId),this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,f),this.receiveMessage(),v=this.sendAudio(c),v.then((function(){}),(function(e){h.cancelRecognition(h.privRequestSession.sessionId,h.privRequestSession.requestId,l.CancellationReason.Error,l.CancellationErrorCode.RuntimeError,e)})),t.abrupt("return",n.promise);case 36:case"end":return t.stop()}}),t,this,[[20,27]])})))}},{key:"sendPreAudioMessages",value:function(e,t){return h(this,void 0,void 0,(0,o.default)().mark((function n(){var r;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.fetchConnection();case 2:return r=n.sent,this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,t),n.next=7,this.sendBaseRequest(r,"enroll",this.scenarioFrom(e.profileType),e);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"sendPhrasesRequest",value:function(e,t,n){return h(this,void 0,void 0,(0,o.default)().mark((function r(){var i,a,s;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,this.fetchConnection();case 2:return i=r.sent,this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,e),a=this.scenarioFrom(t),s={locale:n,scenario:a},r.abrupt("return",i.send(new v.SpeechConnectionMessage(d.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(s))));case 8:case"end":return r.stop()}}),r,this)})))}},{key:"sendCreateProfile",value:function(e,t,n){return h(this,void 0,void 0,(0,o.default)().mark((function r(){var i,a,s;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,this.fetchConnection();case 2:return i=r.sent,this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,e),a=t===l.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":t===l.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification",s={locale:n,number:"1",scenario:a},r.abrupt("return",i.send(new v.SpeechConnectionMessage(d.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(s))));case 8:case"end":return r.stop()}}),r,this)})))}},{key:"sendCommonRequest",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return h(this,void 0,void 0,(0,o.default)().mark((function r(){var i,a,s;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=this.connectImpl(),r.prev=1,a=new d.Deferred,this.privRequestSession.onSpeechContext(),r.next=6,i;case 6:return r.next=8,this.fetchConnection();case 8:return s=r.sent,this.privDeferralMap.add(this.privRequestSession.requestId,a),r.next=12,this.sendBaseRequest(s,e,this.scenarioFrom(t),n);case 12:return this.receiveMessage(),r.abrupt("return",a.promise);case 16:throw r.prev=16,r.t0=r["catch"](1),r.t0;case 19:case"end":return r.stop()}}),r,this,[[1,16]])})))}},{key:"sendBaseRequest",value:function(e,t,n,r){return h(this,void 0,void 0,(0,o.default)().mark((function i(){var a;return(0,o.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a={scenario:n},r?a.profileIds=[r.profileId]:a.maxPageSize=-1,i.abrupt("return",e.send(new v.SpeechConnectionMessage(d.MessageType.Text,"speaker.profile.".concat(t),this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(a))));case 3:case"end":return i.stop()}}),i,this)})))}},{key:"extractSpeakerContext",value:function(e){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:e.profileIds,scenario:e.scenario}}},{key:"handlePhrasesResponse",value:function(e,t){if(!this.privDeferralMap.getId(t))throw new Error("Voice Profile get activation phrases request for requestID ".concat(t," not found"));if("success"!==e.status.statusCode.toLowerCase()){var n=l.ResultReason.Canceled,r=new l.VoiceProfilePhraseResult(n,e.status.statusCode,e.passPhraseType,[]);this.privDeferralMap.complete(t,r)}else{if(!(e.phrases&&e.phrases.length>0))throw new Error("Voice Profile get activation phrases failed, no phrases received");var i=l.ResultReason.EnrollingVoiceProfile,o=new l.VoiceProfilePhraseResult(i,e.status.statusCode,e.passPhraseType,e.phrases);this.privDeferralMap.complete(t,o)}}},{key:"handleCreateResponse",value:function(e,t){if(!(e.profiles&&e.profiles.length>0))throw new Error("Voice Profile create failed, no profile id received");if(!this.privDeferralMap.getId(t))throw new Error("Voice Profile create request for requestID ".concat(t," not found"));var n=e.profiles.map((function(e){return e.profileId}));this.privDeferralMap.complete(t,n)}},{key:"handleResultResponse",value:function(e,t){if(!this.privDeferralMap.getId(t))throw new Error("Voice Profile create request for requestID ".concat(t," not found"));var n="delete"===e.operation.toLowerCase()?l.ResultReason.DeletedVoiceProfile:l.ResultReason.ResetVoiceProfile,r="success"===e.status.statusCode.toLowerCase()?n:l.ResultReason.Canceled,i=new l.VoiceProfileResult(r,"statusCode: ".concat(e.status.statusCode,", errorDetails: ").concat(e.status.reason));this.privDeferralMap.complete(t,i)}},{key:"handleFetchResponse",value:function(e,t){if(!this.privDeferralMap.getId(t)||!e.profiles[0])throw new Error("Voice Profile fetch request for requestID ".concat(t," not found"));if(this.privExpectedProfileId&&1===e.profiles.length&&e.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;var n=e.profiles[0],r=new l.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(n.enrollmentStatus),JSON.stringify(n),e.status.reason);this.privDeferralMap.complete(t,r)}else if(e.profiles.length>0){var o,a=e.profiles,s=[],u=(0,i.default)(a);try{for(u.s();!(o=u.n()).done;){var c=o.value;s.push(new l.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(c.enrollmentStatus),JSON.stringify(c),e.status.reason))}}catch(p){u.e(p)}finally{u.f()}this.privDeferralMap.complete(t,s)}}},{key:"enrollmentReasonFrom",value:function(e){switch(e.toLowerCase()){case"enrolled":return l.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return l.ResultReason.Canceled;default:return l.ResultReason.EnrollingVoiceProfile}}},{key:"scenarioFrom",value:function(e){return e===l.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":e===l.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}}]),n}(f.ServiceRecognizerBase);t.VoiceServiceRecognizer=y},"5a43":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5a50":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketMessageFormatter=void 0,n("d9e2"),n("d401"),n("ace4"),n("d3b7"),n("fb6a"),n("99af"),n("fd87"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("ac1f"),n("466d"),n("c975"),n("498a"),n("c19f");var i=r(n("b85c")),o=r(n("d4ec")),a=r(n("bee2")),s=n("903d"),u=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"toConnectionMessage",value:function(e){var t=new s.Deferred;try{if(e.messageType===s.MessageType.Text){var n=e.textContent,r={},i=null;if(n){var o=n.split("\r\n\r\n");o&&o.length>0&&(r=this.parseHeaders(o[0]),o.length>1&&(i=o[1]))}t.resolve(new s.ConnectionMessage(e.messageType,i,r,e.id))}else if(e.messageType===s.MessageType.Binary){var a,u=e.binaryContent,c=null;if(!u||u.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");var p=new DataView(u),d=p.getInt16(0);if(u.byteLength<d+2)throw new Error("Invalid binary message format. Header content missing.");for(var l="",f=0;f<d;f++)l+=String.fromCharCode(p.getInt8(f+2));a=this.parseHeaders(l),u.byteLength>d+2&&(c=u.slice(2+d)),t.resolve(new s.ConnectionMessage(e.messageType,c,a,e.id))}}catch(v){t.reject("Error formatting the message. Error: ".concat(v))}return t.promise}},{key:"fromConnectionMessage",value:function(e){var t=new s.Deferred;try{if(e.messageType===s.MessageType.Text){var n="".concat(this.makeHeaders(e)).concat("\r\n").concat(e.textBody?e.textBody:"");t.resolve(new s.RawWebsocketMessage(s.MessageType.Text,n,e.id))}else if(e.messageType===s.MessageType.Binary){var r=this.makeHeaders(e),i=e.binaryBody,o=this.stringToArrayBuffer(r),a=new Int8Array(o),u=a.byteLength,c=new Int8Array(2+u+(i?i.byteLength:0));if(c[0]=u>>8&255,c[1]=255&u,c.set(a,2),i){var p=new Int8Array(i);c.set(p,2+u)}var d=c.buffer;t.resolve(new s.RawWebsocketMessage(s.MessageType.Binary,d,e.id))}}catch(l){t.reject("Error formatting the message. ".concat(l))}return t.promise}},{key:"makeHeaders",value:function(e){var t="";if(e.headers)for(var n in e.headers)n&&(t+="".concat(n,": ").concat(e.headers[n]).concat("\r\n"));return t}},{key:"parseHeaders",value:function(e){var t={};if(e){var n=e.match(/[^\r\n]+/g);if(t){var r,o=(0,i.default)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a){var s=a.indexOf(":"),u=s>0?a.substr(0,s).trim().toLowerCase():a,c=s>0&&a.length>s+1?a.substr(s+1).trim():"";t[u]=c}}}catch(p){o.e(p)}finally{o.f()}}}return t}},{key:"stringToArrayBuffer",value:function(e){for(var t=new ArrayBuffer(e.length),n=new DataView(t),r=0;r<e.length;r++)n.setUint8(r,e.charCodeAt(r));return t}}]),e}();t.WebsocketMessageFormatter=u},"5a85":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AuthInfo=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n){(0,i.default)(this,e),this.privHeaderName=t,this.privToken=n}return(0,o.default)(e,[{key:"headerName",get:function(){return this.privHeaderName}},{key:"token",get:function(){return this.privToken}}]),e}();t.AuthInfo=a},"5aaa":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageUnderstandingModelImpl=t.LanguageUnderstandingModel=void 0,n("c975"),n("d9e2"),n("d401"),n("baa5");var i=r(n("262e")),o=r(n("2caf")),a=r(n("d4ec")),s=r(n("bee2")),u=n("277e"),c=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"fromEndpoint",value:function(e){u.Contracts.throwIfNull(e,"uri"),u.Contracts.throwIfNullOrWhitespace(e.hostname,"uri");var t=new p,n=e.host.indexOf(".");if(-1===n)throw new Error("Could not determine region from endpoint");t.region=e.host.substr(0,n);var r=e.pathname.lastIndexOf("/")+1;if(-1===r)throw new Error("Could not determine appId from endpoint");if(t.appId=e.pathname.substr(r),t.subscriptionKey=e.searchParams.get("subscription-key"),void 0===t.subscriptionKey)throw new Error("Could not determine subscription key from endpoint");return t}},{key:"fromAppId",value:function(e){u.Contracts.throwIfNullOrWhitespace(e,"appId");var t=new p;return t.appId=e,t}},{key:"fromSubscription",value:function(e,t,n){u.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),u.Contracts.throwIfNullOrWhitespace(t,"appId"),u.Contracts.throwIfNullOrWhitespace(n,"region");var r=new p;return r.appId=t,r.region=n,r.subscriptionKey=e,r}}]),e}();t.LanguageUnderstandingModel=c;var p=function(e){(0,i.default)(n,e);var t=(0,o.default)(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n)}(c);t.LanguageUnderstandingModelImpl=p},"5b2f":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationImpl=t.Conversation=void 0;var i=r(n("b85c")),o=r(n("2909")),a=r(n("262e")),s=r(n("2caf")),u=r(n("c7eb")),c=r(n("d4ec")),p=r(n("bee2"));n("d3b7"),n("ac1f"),n("5319"),n("159b"),n("d81d"),n("d9e2"),n("d401"),n("c740"),n("e9c4"),n("4de4");var d=n("21c7"),l=n("903d"),f=n("277e"),v=n("9030"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y=function(){function e(){(0,c.default)(this,e)}return(0,p.default)(e,null,[{key:"createConversationAsync",value:function(e,t,n,r){var i,o,a,s=this;return f.Contracts.throwIfNullOrUndefined(e,d.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),f.Contracts.throwIfNullOrUndefined(e.region,d.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),e.subscriptionKey||e.getProperty(v.PropertyId[v.PropertyId.SpeechServiceAuthorization_Token])||f.Contracts.throwIfNullOrUndefined(e.subscriptionKey,d.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key")),"string"===typeof t?(i=new g(e,t),(0,l.marshalPromiseToCallbacks)(function(){return h(s,void 0,void 0,(0,u.default)().mark((function e(){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}(),n,r)):(i=new g(e),o=t,a=n,i.createConversationAsync((function(){o&&o()}),(function(e){a&&a(e)}))),i}}]),e}();t.Conversation=y;var g=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var i;(0,c.default)(this,n),i=t.call(this),i.privErrors=d.ConversationConnectionConfig.restErrors,i.onConnected=function(e){var t;i.privIsConnected=!0;try{(null===(t=i.privConversationTranslator)||void 0===t?void 0:t.sessionStarted)&&i.privConversationTranslator.sessionStarted(i.privConversationTranslator,e)}catch(e){}},i.onDisconnected=function(e){var t;try{(null===(t=i.privConversationTranslator)||void 0===t?void 0:t.sessionStopped)&&i.privConversationTranslator.sessionStopped(i.privConversationTranslator,e)}catch(e){}finally{i.close(!1)}},i.onCanceled=function(e,t){var n;try{(null===(n=i.privConversationTranslator)||void 0===n?void 0:n.canceled)&&i.privConversationTranslator.canceled(i.privConversationTranslator,t)}catch(t){}},i.onParticipantUpdateCommandReceived=function(e,t){try{var n=i.privParticipants.getParticipant(t.id);if(void 0!==n){switch(t.key){case d.ConversationTranslatorCommandTypes.changeNickname:n.displayName=t.value;break;case d.ConversationTranslatorCommandTypes.setUseTTS:n.isUsingTts=t.value;break;case d.ConversationTranslatorCommandTypes.setProfanityFiltering:n.profanity=t.value;break;case d.ConversationTranslatorCommandTypes.setMute:n.isMuted=t.value;break;case d.ConversationTranslatorCommandTypes.setTranslateToLanguages:n.translateToLanguages=t.value;break}i.privParticipants.addOrUpdateParticipant(n),i.privConversationTranslator&&i.privConversationTranslator.participantsChanged(i.privConversationTranslator,new v.ConversationParticipantsChangedEventArgs(v.ParticipantChangedReason.Updated,[i.toParticipant(n)],t.sessionId))}}catch(t){}},i.onLockRoomCommandReceived=function(){},i.onMuteAllCommandReceived=function(e,t){try{i.privParticipants.participants.forEach((function(e){return e.isMuted=!e.isHost&&t.isMuted})),i.privConversationTranslator&&i.privConversationTranslator.participantsChanged(i.privConversationTranslator,new v.ConversationParticipantsChangedEventArgs(v.ParticipantChangedReason.Updated,i.toParticipants(!1),t.sessionId))}catch(t){}},i.onParticipantJoinCommandReceived=function(e,t){try{var n=i.privParticipants.addOrUpdateParticipant(t.participant);void 0!==n&&i.privConversationTranslator&&i.privConversationTranslator.participantsChanged(i.privConversationTranslator,new v.ConversationParticipantsChangedEventArgs(v.ParticipantChangedReason.JoinedConversation,[i.toParticipant(n)],t.sessionId))}catch(t){}},i.onParticipantLeaveCommandReceived=function(e,t){try{var n=i.privParticipants.getParticipant(t.participant.id);void 0!==n&&(i.privParticipants.deleteParticipant(t.participant.id),i.privConversationTranslator&&i.privConversationTranslator.participantsChanged(i.privConversationTranslator,new v.ConversationParticipantsChangedEventArgs(v.ParticipantChangedReason.LeftConversation,[i.toParticipant(n)],t.sessionId)))}catch(t){}},i.onTranslationReceived=function(e,t){try{switch(t.command){case d.ConversationTranslatorMessageTypes.final:i.privConversationTranslator&&i.privConversationTranslator.transcribed(i.privConversationTranslator,new v.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case d.ConversationTranslatorMessageTypes.partial:i.privConversationTranslator&&i.privConversationTranslator.transcribing(i.privConversationTranslator,new v.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case d.ConversationTranslatorMessageTypes.instantMessage:i.privConversationTranslator&&i.privConversationTranslator.textMessageReceived(i.privConversationTranslator,new v.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break}}catch(t){}},i.onParticipantsListReceived=function(e,t){var n;try{if(void 0!==t.sessionToken&&null!==t.sessionToken&&(i.privRoom.token=t.sessionToken),i.privParticipants.participants=(0,o.default)(t.participants),void 0!==i.privParticipants.me&&(i.privIsReady=!0),i.privConversationTranslator&&i.privConversationTranslator.participantsChanged(i.privConversationTranslator,new v.ConversationParticipantsChangedEventArgs(v.ParticipantChangedReason.JoinedConversation,i.toParticipants(!0),t.sessionId)),i.me.isHost){var r=null===(n=i.privConversationTranslator)||void 0===n?void 0:n.properties.getProperty(v.PropertyId.ConversationTranslator_Name);void 0!==r&&r.length>0&&r!==i.me.displayName&&i.changeNicknameAsync(r)}}catch(t){}},i.onConversationExpiration=function(e,t){try{i.privConversationTranslator&&i.privConversationTranslator.conversationExpiration(i.privConversationTranslator,t)}catch(t){}},i.privIsConnected=!1,i.privIsDisposed=!1,i.privConversationId="",i.privProperties=new v.PropertyCollection,i.privManager=new d.ConversationManager;var a=e.getProperty(v.PropertyId[v.PropertyId.SpeechServiceConnection_RecoLanguage]);if(a||e.setProperty(v.PropertyId[v.PropertyId.SpeechServiceConnection_RecoLanguage],d.ConversationConnectionConfig.defaultLanguageCode),i.privLanguage=e.getProperty(v.PropertyId[v.PropertyId.SpeechServiceConnection_RecoLanguage]),r)i.privConversationId=r;else{0===e.targetLanguages.length&&e.addTargetLanguage(i.privLanguage);var s=e.getProperty(v.PropertyId[v.PropertyId.SpeechServiceResponse_ProfanityOption]);s||e.setProfanity(v.ProfanityOption.Masked);var u=e.getProperty(v.PropertyId[v.PropertyId.ConversationTranslator_Name]);void 0!==u&&null!==u||(u="Host"),f.Contracts.throwIfNullOrTooLong(u,"nickname",50),f.Contracts.throwIfNullOrTooShort(u,"nickname",2),e.setProperty(v.PropertyId[v.PropertyId.ConversationTranslator_Name],u)}i.privConfig=e;var p=e;return f.Contracts.throwIfNull(p,"speechConfig"),i.privProperties=p.properties.clone(),i.privIsConnected=!1,i.privParticipants=new d.InternalParticipants,i.privIsReady=!1,i.privTextMessageMaxLength=1e3,i}return(0,p.default)(n,[{key:"room",get:function(){return this.privRoom}},{key:"connection",get:function(){return this.privConversationRecognizer}},{key:"config",get:function(){return this.privConfig}},{key:"conversationId",get:function(){return this.privRoom?this.privRoom.roomId:this.privConversationId}},{key:"properties",get:function(){return this.privProperties}},{key:"speechRecognitionLanguage",get:function(){return this.privLanguage}},{key:"isMutedByHost",get:function(){var e,t;return!(null===(e=this.privParticipants.me)||void 0===e?void 0:e.isHost)&&(null===(t=this.privParticipants.me)||void 0===t?void 0:t.isMuted)}},{key:"isConnected",get:function(){return this.privIsConnected&&this.privIsReady}},{key:"participants",get:function(){return this.toParticipants(!0)}},{key:"me",get:function(){return this.toParticipant(this.privParticipants.me)}},{key:"host",get:function(){return this.toParticipant(this.privParticipants.host)}},{key:"transcriberRecognizer",get:function(){return this.privTranscriberRecognizer}},{key:"conversationInfo",get:function(){var e,t=this.conversationId,n=this.participants.map((function(e){return{id:e.id,preferredLanguage:e.preferredLanguage,voice:e.voice}})),r={},o=(0,i.default)(d.ConversationConnectionConfig.transcriptionEventKeys);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=this.properties.getProperty(a,"");""!==s&&(r[a]=s)}}catch(c){o.e(c)}finally{o.f()}var u={id:t,participants:n,conversationProperties:r};return u}},{key:"canSend",get:function(){var e;return this.privIsConnected&&!(null===(e=this.privParticipants.me)||void 0===e?void 0:e.isMuted)}},{key:"canSendAsHost",get:function(){var e;return this.privIsConnected&&(null===(e=this.privParticipants.me)||void 0===e?void 0:e.isHost)}},{key:"authorizationToken",get:function(){return this.privToken},set:function(e){f.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),this.privToken=e}},{key:"conversationTranslator",set:function(e){this.privConversationTranslator=e}},{key:"createConversationAsync",value:function(e,t){var n=this;try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),this.privManager.createOrJoin(this.privProperties,void 0,(function(r){r||n.handleError(new Error(n.privErrors.permissionDeniedConnect),t),n.privRoom=r,n.handleCallback(e,t)}),(function(e){n.handleError(e,t)}))}catch(r){this.handleError(r,t)}}},{key:"startConversationAsync",value:function(e,t){var n=this;try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=d.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,(function(){n.handleCallback(e,t)}),(function(e){n.handleError(e,t)}))}catch(r){this.handleError(r,t)}}},{key:"addParticipantAsync",value:function(e,t,n){f.Contracts.throwIfNullOrUndefined(e,"Participant"),(0,l.marshalPromiseToCallbacks)(this.addParticipantImplAsync(e),t,n)}},{key:"joinConversationAsync",value:function(e,t,n,r,i){var o=this;try{f.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","conversationId")),f.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),f.Contracts.throwIfNullOrWhitespace(n,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,e,(function(e){f.Contracts.throwIfNullOrUndefined(e,o.privErrors.permissionDeniedConnect),o.privRoom=e,o.privConfig.authorizationToken=e.cognitiveSpeechAuthToken,r&&r(e.cognitiveSpeechAuthToken)}),(function(e){o.handleError(e,i)}))}catch(a){this.handleError(a,i)}}},{key:"deleteConversationAsync",value:function(e,t){(0,l.marshalPromiseToCallbacks)(this.deleteConversationImplAsync(),e,t)}},{key:"deleteConversationImplAsync",value:function(){return h(this,void 0,void 0,(0,u.default)().mark((function e(){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),f.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),e.next=4,this.privManager.leave(this.privProperties,this.privRoom.token);case 4:this.dispose();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"endConversationAsync",value:function(e,t){(0,l.marshalPromiseToCallbacks)(this.endConversationImplAsync(),e,t)}},{key:"endConversationImplAsync",value:function(){return this.close(!0)}},{key:"lockConversationAsync",value:function(e,t){var n=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),(function(){n.handleCallback(e,t)}),(function(e){n.handleError(e,t)}))}catch(r){this.handleError(r,t)}}},{key:"muteAllParticipantsAsync",value:function(e,t){var n=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),(function(){n.handleCallback(e,t)}),(function(e){n.handleError(e,t)}))}catch(r){this.handleError(r,t)}}},{key:"muteParticipantAsync",value:function(e,t,n){var r=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),n);var i=this.privParticipants.getParticipantIndex(e);-1===i&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!0),(function(){r.handleCallback(t,n)}),(function(e){r.handleError(e,n)}))}catch(o){this.handleError(o,n)}}},{key:"removeParticipantAsync",value:function(e,t,n){var r=this;try{if(f.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&e.hasOwnProperty("id"))(0,l.marshalPromiseToCallbacks)(this.removeParticipantImplAsync(e),t,n);else{f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),n);var i="";if("string"===typeof e)i=e;else if(e.hasOwnProperty("id")){var o=e;i=o.id}else if(e.hasOwnProperty("userId")){var a=e;i=a.userId}f.Contracts.throwIfNullOrWhitespace(i,this.privErrors.invalidArgs.replace("{arg}","userId"));var s=this.participants.findIndex((function(e){return e.id===i}));-1===s&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(i),(function(){r.handleCallback(t,n)}),(function(e){r.handleError(e,n)}))}}catch(u){this.handleError(u,n)}}},{key:"unlockConversationAsync",value:function(e,t){var n=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),(function(){n.handleCallback(e,t)}),(function(e){n.handleError(e,t)}))}catch(r){this.handleError(r,t)}}},{key:"unmuteAllParticipantsAsync",value:function(e,t){var n=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),(function(){n.handleCallback(e,t)}),(function(e){n.handleError(e,t)}))}catch(r){this.handleError(r,t)}}},{key:"unmuteParticipantAsync",value:function(e,t,n){var r=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),n);var i=this.privParticipants.getParticipantIndex(e);-1===i&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!1),(function(){r.handleCallback(t,n)}),(function(e){r.handleError(e,n)}))}catch(o){this.handleError(o,n)}}},{key:"sendTextMessageAsync",value:function(e,t,n){var r=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","message")),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),e.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(e),(function(){r.handleCallback(t,n)}),(function(e){r.handleError(e,n)}))}catch(i){this.handleError(i,n)}}},{key:"setTranslatedLanguagesAsync",value:function(e,t,n){var r=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfArrayEmptyOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","languages")),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(e),(function(){r.handleCallback(t,n)}),(function(e){r.handleError(e,n)}))}catch(i){this.handleError(i,n)}}},{key:"changeNicknameAsync",value:function(e,t,n){var r=this;try{f.Contracts.throwIfDisposed(this.privIsDisposed),f.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),f.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","nickname")),f.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),n),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(e),(function(){r.handleCallback(t,n)}),(function(e){r.handleError(e,n)}))}catch(i){this.handleError(i,n)}}},{key:"isDisposed",value:function(){return this.privIsDisposed}},{key:"dispose",value:function(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}},{key:"connectTranscriberRecognizer",value:function(e){return h(this,void 0,void 0,(0,u.default)().mark((function t(){return(0,u.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privTranscriberRecognizer){t.next=3;break}return t.next=3,this.privTranscriberRecognizer.close();case 3:return t.next=5,e.enforceAudioGating();case 5:this.privTranscriberRecognizer=e,this.privTranscriberRecognizer.conversation=this;case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getKeepAlive",value:function(){var e=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:e,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:d.ConversationTranslatorMessageTypes.keepAlive})}},{key:"addParticipantImplAsync",value:function(e){var t=this.privParticipants.addOrUpdateParticipant(e);if(void 0!==t&&this.privTranscriberRecognizer){var n=this.conversationInfo;return n.participants=[e],this.privTranscriberRecognizer.pushConversationEvent(n,"join")}}},{key:"removeParticipantImplAsync",value:function(e){this.privParticipants.deleteParticipant(e.id);var t=this.conversationInfo;return t.participants=[e],this.privTranscriberRecognizer.pushConversationEvent(t,"leave")}},{key:"close",value:function(e){var t;return h(this,void 0,void 0,(0,u.default)().mark((function n(){return(0,u.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,this.privIsConnected=!1,n.next=4,null===(t=this.privConversationRecognizer)||void 0===t?void 0:t.close();case 4:this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose(),n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](0),n.t0;case 11:e&&this.dispose();case 12:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"handleCallback",value:function(e,t){if(e){try{e()}catch(n){t&&t(n)}e=void 0}}},{key:"handleError",value:function(e,t){if(t)if(e instanceof Error){var n=e;t(n.name+": "+n.message)}else t(e)}},{key:"toParticipants",value:function(e){var t=this,n=this.privParticipants.participants.map((function(e){return t.toParticipant(e)}));return e?n:n.filter((function(e){return!1===e.isHost}))}},{key:"toParticipant",value:function(e){return new v.Participant(e.id,e.avatar,e.displayName,e.isHost,e.isMuted,e.isUsingTts,e.preferredLanguage,e.voice)}},{key:"getMuteAllCommand",value:function(e){return f.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),f.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:d.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:d.ConversationTranslatorMessageTypes.participantCommand,value:e})}},{key:"getMuteCommand",value:function(e,t){return f.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),f.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:d.ConversationTranslatorCommandTypes.setMute,participantId:e,roomid:this.privRoom.roomId,type:d.ConversationTranslatorMessageTypes.participantCommand,value:t})}},{key:"getLockCommand",value:function(e){return f.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),f.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:d.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:d.ConversationTranslatorMessageTypes.participantCommand,value:e})}},{key:"getEjectCommand",value:function(e){return f.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),f.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:d.ConversationTranslatorCommandTypes.ejectParticipant,participantId:e,roomid:this.privRoom.roomId,type:d.ConversationTranslatorMessageTypes.participantCommand})}},{key:"getSetTranslateToLanguagesCommand",value:function(e){return f.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),f.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:d.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:d.ConversationTranslatorMessageTypes.participantCommand,value:e})}},{key:"getChangeNicknameCommand",value:function(e){return f.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),f.Contracts.throwIfNullOrWhitespace(e,"nickname"),f.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:d.ConversationTranslatorCommandTypes.changeNickname,nickname:e,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:d.ConversationTranslatorMessageTypes.participantCommand,value:e})}},{key:"getMessageCommand",value:function(e){return f.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),f.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),f.Contracts.throwIfNullOrWhitespace(e,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:e,type:d.ConversationTranslatorMessageTypes.instantMessage})}}]),n}(y);t.ConversationImpl=g},"5bc3":function(e,t,n){n("7a82");var r=n("a395");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5d34":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,r.default)(e),null===e)break;return e};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("7e84"))},"5fa0":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceInfo=t.SynthesisVoiceType=t.SynthesisVoiceGender=void 0,n("8a79"),n("14d9");var i,o,a=r(n("b85c")),s=r(n("d4ec")),u=r(n("bee2"));t.SynthesisVoiceGender=i,function(e){e[e["Unknown"]=0]="Unknown",e[e["Female"]=1]="Female",e[e["Male"]=2]="Male"}(i||(t.SynthesisVoiceGender=i={})),t.SynthesisVoiceType=o,function(e){e[e["OnlineNeural"]=1]="OnlineNeural",e[e["OnlineStandard"]=2]="OnlineStandard",e[e["OfflineNeural"]=3]="OfflineNeural",e[e["OfflineStandard"]=4]="OfflineStandard"}(o||(t.SynthesisVoiceType=o={}));var c=function(){function e(t){if((0,s.default)(this,e),this.privStyleList=[],this.privVoicePath="",t&&(this.privName=t.Name,this.privLocale=t.Locale,this.privShortName=t.ShortName,this.privLocaleName=t.LocaleName,this.privLocalName=t.LocalName,this.privVoiceType=t.VoiceType.endsWith("Standard")?o.OnlineStandard:o.OnlineNeural,this.privGender="Male"===t.Gender?i.Male:"Female"===t.Gender?i.Female:i.Unknown,t.StyleList&&Array.isArray(t.StyleList))){var n,r=(0,a.default)(t.StyleList);try{for(r.s();!(n=r.n()).done;){var u=n.value;this.privStyleList.push(u)}}catch(c){r.e(c)}finally{r.f()}}}return(0,u.default)(e,[{key:"name",get:function(){return this.privName}},{key:"locale",get:function(){return this.privLocale}},{key:"shortName",get:function(){return this.privShortName}},{key:"localName",get:function(){return this.privLocalName}},{key:"localeName",get:function(){return this.privLocaleName}},{key:"gender",get:function(){return this.privGender}},{key:"voiceType",get:function(){return this.privVoiceType}},{key:"styleList",get:function(){return this.privStyleList}},{key:"voicePath",get:function(){return this.privVoicePath}}]),e}();t.VoiceInfo=c},6:function(e,t){},6005:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(Array.isArray(e))return(0,r.default)(e)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("6b75"))},6007:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationRequestSession=void 0;var i=r(n("c7eb")),o=r(n("b85c")),a=r(n("d4ec")),s=r(n("bee2"));n("d3b7");var u=n("903d"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},p=function(){function e(t){(0,a.default)(this,e),this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=t,this.privRequestId=(0,u.createNoDashGuid)(),this.privRequestCompletionDeferral=new u.Deferred}return(0,s.default)(e,[{key:"sessionId",get:function(){return this.privSessionId}},{key:"requestId",get:function(){return this.privRequestId}},{key:"completionPromise",get:function(){return this.privRequestCompletionDeferral.promise}},{key:"onPreConnectionStart",value:function(e,t){this.privSessionId=t}},{key:"onAuthCompleted",value:function(e){e&&this.onComplete()}},{key:"onConnectionEstablishCompleted",value:function(e){200!==e&&403===e&&this.onComplete()}},{key:"onServiceTurnEndResponse",value:function(e){e?this.privRequestId=(0,u.createNoDashGuid)():this.onComplete()}},{key:"dispose",value:function(){return c(this,void 0,void 0,(0,i.default)().mark((function e(){var t,n,r;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privIsDisposed){e.next=19;break}this.privIsDisposed=!0,t=(0,o.default)(this.privDetachables),e.prev=3,t.s();case 5:if((n=t.n()).done){e.next=11;break}return r=n.value,e.next=9,r.detach();case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})))}},{key:"onComplete",value:function(){}}]),e}();t.ConversationRequestSession=p},6062:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationDetailsBase=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n,r){(0,i.default)(this,e),this.privReason=t,this.privErrorDetails=n,this.privErrorCode=r}return(0,o.default)(e,[{key:"reason",get:function(){return this.privReason}},{key:"errorDetails",get:function(){return this.privErrorDetails}},{key:"ErrorCode",get:function(){return this.privErrorCode}}]),e}();t.CancellationDetailsBase=a},"6062b":function(e,t,n){n("1c59")},"60ef":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisTurn=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7"),n("c975"),n("c19f"),n("ace4");var s=n("903d"),u=n("120d"),c=n("f7c3"),p=n("eec0"),d=n("a0a1"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},f=function(){function e(){(0,o.default)(this,e),this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=(0,s.createNoDashGuid)(),this.privTurnDeferral=new s.Deferred,this.privTurnDeferral.resolve()}return(0,a.default)(e,[{key:"requestId",get:function(){return this.privRequestId}},{key:"streamId",get:function(){return this.privStreamId},set:function(e){this.privStreamId=e}},{key:"audioOutputFormat",get:function(){return this.privAudioOutputFormat},set:function(e){this.privAudioOutputFormat=e}},{key:"turnCompletionPromise",get:function(){return this.privTurnDeferral.promise}},{key:"isSynthesisEnded",get:function(){return this.privIsSynthesisEnded}},{key:"isSynthesizing",get:function(){return this.privIsSynthesizing}},{key:"currentTextOffset",get:function(){return this.privTextOffset}},{key:"currentSentenceOffset",get:function(){return this.privSentenceOffset}},{key:"bytesReceived",get:function(){return this.privBytesReceived}},{key:"audioDuration",get:function(){return this.privAudioDuration}},{key:"getAllReceivedAudio",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.privReceivedAudio){e.next=2;break}return e.abrupt("return",Promise.resolve(this.privReceivedAudio));case 2:if(this.privIsSynthesisEnded){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,this.readAllAudioFromStream();case 6:return e.abrupt("return",Promise.resolve(this.privReceivedAudio));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getAllReceivedAudioWithHeader",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){var t;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.privReceivedAudioWithHeader){e.next=2;break}return e.abrupt("return",this.privReceivedAudioWithHeader);case 2:if(this.privIsSynthesisEnded){e.next=4;break}return e.abrupt("return",null);case 4:if(!this.audioOutputFormat.hasHeader){e.next=12;break}return e.next=7,this.getAllReceivedAudio();case 7:return t=e.sent,this.privReceivedAudioWithHeader=p.SynthesisAdapterBase.addHeader(t,this.audioOutputFormat),e.abrupt("return",this.privReceivedAudioWithHeader);case 12:return e.abrupt("return",this.getAllReceivedAudio());case 13:case"end":return e.stop()}}),e,this)})))}},{key:"startNewSynthesis",value:function(e,t,n,r){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=e,this.privRawText=t,this.privIsSSML=n,this.privAudioOutputStream=new u.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",void 0!==r&&(this.privTurnAudioDestination=r,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new d.SynthesisTriggeredEvent(this.requestId,void 0,void 0===r?void 0:r.id()))}},{key:"onPreConnectionStart",value:function(e){this.privAuthFetchEventId=e,this.onEvent(new d.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}},{key:"onAuthCompleted",value:function(e){e&&this.onComplete()}},{key:"onConnectionEstablishCompleted",value:function(e){if(200===e)return this.onEvent(new d.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),void(this.privBytesReceived=0);403===e&&this.onComplete()}},{key:"onServiceResponseMessage",value:function(e){var t=JSON.parse(e);this.streamId=t.audio.streamId}},{key:"onServiceTurnEndResponse",value:function(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}},{key:"onServiceTurnStartResponse",value:function(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch((function(){}))),this.privInTurn=!0,this.privTurnDeferral=new s.Deferred}},{key:"onAudioChunkReceived",value:function(e){this.isSynthesizing&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength,void 0!==this.privTurnAudioDestination&&this.privTurnAudioDestination.write(e))}},{key:"onTextBoundaryEvent",value:function(e){this.updateTextOffset(e.Data.text.Text,e.Type)}},{key:"onVisemeMetadataReceived",value:function(e){void 0!==e.Data.AnimationChunk&&(this.privPartialVisemeAnimation+=e.Data.AnimationChunk)}},{key:"onSessionEnd",value:function(e){this.privAudioDuration=e.Data.Offset}},{key:"dispose",value:function(){this.privIsDisposed||(this.privIsDisposed=!0)}},{key:"onStopSynthesizing",value:function(){this.onComplete()}},{key:"getAndClearVisemeAnimation",value:function(){var e=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",e}},{key:"onEvent",value:function(e){s.Events.instance.onEvent(e)}},{key:"updateTextOffset",value:function(t,n){n===c.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(t,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+t.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!e.isXmlTag(t)&&this.updateTextOffset(t,n))):(this.privSentenceOffset=this.privRawText.indexOf(t,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+t.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!e.isXmlTag(t)&&this.updateTextOffset(t,n)))}},{key:"onComplete",value:function(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,void 0!==this.privTurnAudioDestination&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}},{key:"readAllAudioFromStream",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.privIsSynthesisEnded){e.next=10;break}return this.privReceivedAudio=new ArrayBuffer(this.bytesReceived),e.prev=2,e.next=5,this.privAudioOutputStream.read(this.privReceivedAudio);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),this.privReceivedAudio=new ArrayBuffer(0);case 10:case"end":return e.stop()}}),e,this,[[2,7]])})))}},{key:"withinXmlTag",value:function(e){return this.privRawText.indexOf("<",e+1)>this.privRawText.indexOf(">",e+1)}}],[{key:"isXmlTag",value:function(e){return e.length>=2&&"<"===e[0]&&">"===e[e.length-1]}}]),e}();t.SynthesisTurn=f},6139:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationServiceRecognizer=void 0;var i=r(n("b85c")),o=r(n("c7eb")),a=r(n("d4ec")),s=r(n("bee2")),u=r(n("262e")),c=r(n("2caf"));n("d3b7"),n("e9c4");var p=n("903d"),d=n("9030"),l=n("21c7"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},v=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(e,r,i,o,s){var u;return(0,a.default)(this,n),u=t.call(this,e,r,i,o,s),u.privTranslationRecognizer=s,u.connectionEvents.attach((function(e){"ConnectionEstablishedEvent"===e.name?u.privTranslationRecognizer.onConnection():"ConnectionClosedEvent"===e.name&&u.privTranslationRecognizer.onDisconnection()})),u}return(0,s.default)(n,[{key:"processTypeSpecificMessages",value:function(e){return f(this,void 0,void 0,(0,o.default)().mark((function t(){var n,r,i,a,s,u,c,v,h,y=this;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new d.PropertyCollection,t.next=3,this.processSpeechMessages(e);case 3:if(r=t.sent,!r){t.next=6;break}return t.abrupt("return",!0);case 6:i=function(t){return f(y,void 0,void 0,(0,o.default)().mark((function i(){var a,s,u,c,p,f;return(0,o.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+t.Offset+t.Duration),t.RecognitionStatus!==l.RecognitionStatus.Success){i.next=7;break}if(a=this.fireEventForResult(t,n),this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,a)}catch(o){}if(this.privSuccessCallback){try{this.privSuccessCallback(a.result)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}i.next=19;break;case 7:if(s=l.EnumTranslation.implTranslateRecognitionResult(t.RecognitionStatus),u=new d.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,s,t.Text,t.Duration,this.privRequestSession.currentTurnAudioOffset+t.Offset,t.Language,t.Confidence,void 0,e.textBody,n),s!==d.ResultReason.Canceled){i.next=16;break}return c=l.EnumTranslation.implTranslateCancelResult(t.RecognitionStatus),p=l.EnumTranslation.implTranslateCancelErrorCode(t.RecognitionStatus),i.next=14,this.cancelRecognitionLocal(c,p,l.EnumTranslation.implTranslateErrorDetails(p));case 14:i.next=18;break;case 16:if((!this.privRequestSession.isSpeechEnded||s!==d.ResultReason.NoMatch||t.RecognitionStatus===l.RecognitionStatus.InitialSilenceTimeout)&&(f=new d.TranslationRecognitionEventArgs(u,u.offset,this.privRequestSession.sessionId),this.privTranslationRecognizer.recognized))try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,f)}catch(o){}if(this.privSuccessCallback){try{this.privSuccessCallback(u)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}case 18:r=!0;case 19:case"end":return i.stop()}}),i,this)})))},e.messageType===p.MessageType.Text&&n.setProperty(d.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),t.t0=e.path.toLowerCase(),t.next="translation.hypothesis"===t.t0?11:"translation.response"===t.t0?16:"translation.phrase"===t.t0?21:"translation.synthesis"===t.t0?24:"audio.end"===t.t0||"translation.synthesis.end"===t.t0?27:39;break;case 11:if(a=this.fireEventForResult(l.TranslationHypothesis.fromJSON(e.textBody),n),this.privRequestSession.onHypothesis(this.privRequestSession.currentTurnAudioOffset+a.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,a)}catch(g){}return r=!0,t.abrupt("break",40);case 16:if(s=JSON.parse(e.textBody),!s.SpeechPhrase){t.next=20;break}return t.next=20,i(l.TranslationPhrase.fromTranslationResponse(s));case 20:return t.abrupt("break",40);case 21:return t.next=23,i(l.TranslationPhrase.fromJSON(e.textBody));case 23:return t.abrupt("break",40);case 24:return this.sendSynthesisAudio(e.binaryBody,this.privRequestSession.sessionId),r=!0,t.abrupt("break",40);case 27:u=l.TranslationSynthesisEnd.fromJSON(e.textBody),t.t1=u.SynthesisStatus,t.next=t.t1===l.SynthesisStatus.Error?31:t.t1===l.SynthesisStatus.Success?34:36;break;case 31:if(this.privTranslationRecognizer.synthesizing){c=new d.TranslationSynthesisResult(d.ResultReason.Canceled,void 0),v=new d.TranslationSynthesisEventArgs(c,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,v)}catch(g){}}if(this.privTranslationRecognizer.canceled){h=new d.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,d.CancellationReason.Error,u.FailureReason,d.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,h)}catch(g){}}return t.abrupt("break",37);case 34:return this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId),t.abrupt("break",37);case 36:return t.abrupt("break",37);case 37:return r=!0,t.abrupt("break",40);case 39:return t.abrupt("break",40);case 40:return t.abrupt("return",r);case 41:case"end":return t.stop()}}),t,this)})))}},{key:"cancelRecognition",value:function(e,t,n,r,i){var o=new d.PropertyCollection;if(o.setProperty(l.CancellationErrorCodePropertyName,d.CancellationErrorCode[r]),this.privTranslationRecognizer.canceled){var a=new d.TranslationRecognitionCanceledEventArgs(e,n,i,r,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,a)}catch(u){}}if(this.privSuccessCallback){var s=new d.TranslationRecognitionResult(void 0,t,d.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(s),this.privSuccessCallback=void 0}catch(c){}}}},{key:"handleRecognizingCallback",value:function(e,t,n){try{var r=new d.TranslationRecognitionEventArgs(d.TranslationRecognitionResult.fromSpeechRecognitionResult(e),t,n);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,r)}catch(i){}}},{key:"handleRecognizedCallback",value:function(e,t,n){try{var r=new d.TranslationRecognitionEventArgs(d.TranslationRecognitionResult.fromSpeechRecognitionResult(e),t,n);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,r)}catch(i){}}},{key:"fireEventForResult",value:function(e,t){var n,r,o,a;if(void 0!==e.Translation.Translations){n=new d.Translations;var s,u=(0,i.default)(e.Translation.Translations);try{for(u.s();!(s=u.n()).done;){var c=s.value;n.set(c.Language,c.Text||c.DisplayText)}}catch(y){u.e(y)}finally{u.f()}}e instanceof l.TranslationPhrase?(r=e.Translation&&e.Translation.TranslationStatus===p.TranslationStatus.Success?d.ResultReason.TranslatedSpeech:d.ResultReason.RecognizedSpeech,o=e.Language,a=e.Confidence):r=d.ResultReason.TranslatingSpeech;var f=e.Offset+this.privRequestSession.currentTurnAudioOffset,v=new d.TranslationRecognitionResult(n,this.privRequestSession.requestId,r,e.Text,e.Duration,f,o,a,e.Translation.FailureReason,JSON.stringify(e),t),h=new d.TranslationRecognitionEventArgs(v,f,this.privRequestSession.sessionId);return h}},{key:"sendSynthesisAudio",value:function(e,t){var n=void 0===e?d.ResultReason.SynthesizingAudioCompleted:d.ResultReason.SynthesizingAudio,r=new d.TranslationSynthesisResult(n,e),i=new d.TranslationSynthesisEventArgs(r,t);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,i)}catch(o){}}}]),n}(l.ConversationServiceRecognizer);t.TranslationServiceRecognizer=v},"61b3":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationServiceRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("257e")),u=r(n("262e")),c=r(n("2caf"));n("d3b7");var p=n("9030"),d=n("21c7"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},f=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(e,r,a,u,c){var p;return(0,o.default)(this,n),p=t.call(this,e,r,a,u,c),p.handleSpeechPhraseMessage=function(e){return l((0,s.default)(p),void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.handleSpeechPhrase(e));case 1:case"end":return t.stop()}}),t,this)})))},p.handleSpeechHypothesisMessage=function(e){return p.handleSpeechHypothesis(e)},p}return(0,a.default)(n,[{key:"processTypeSpecificMessages",value:function(e){}},{key:"handleRecognizedCallback",value:function(e,t,n){}},{key:"handleRecognizingCallback",value:function(e,t,n){}},{key:"processSpeechMessages",value:function(e){return l(this,void 0,void 0,(0,i.default)().mark((function t(){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=!1,t.t0=e.path.toLowerCase(),t.next="speech.hypothesis"===t.t0||"speech.fragment"===t.t0?4:"speech.phrase"===t.t0?7:12;break;case 4:return this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(e.textBody),n=!0,t.abrupt("break",13);case 7:if(!this.handleSpeechPhraseMessage){t.next=10;break}return t.next=10,this.handleSpeechPhraseMessage(e.textBody);case 10:return n=!0,t.abrupt("break",13);case 12:return t.abrupt("break",13);case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,this)})))}},{key:"cancelRecognition",value:function(e,t,n,r,i){}},{key:"handleSpeechPhrase",value:function(e){return l(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r,o,a,s,u,c,l,f,v,h;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=d.SimpleSpeechPhrase.fromJSON(e),r=d.EnumTranslation.implTranslateRecognitionResult(n.RecognitionStatus),a=new p.PropertyCollection,a.setProperty(p.PropertyId.SpeechServiceResponse_JsonResult,e),s=n.Offset+this.privRequestSession.currentTurnAudioOffset,u=s,this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+n.Offset+n.Duration),p.ResultReason.Canceled!==r){t.next=14;break}return c=d.EnumTranslation.implTranslateCancelResult(n.RecognitionStatus),l=d.EnumTranslation.implTranslateCancelErrorCode(n.RecognitionStatus),t.next=12,this.cancelRecognitionLocal(c,l,d.EnumTranslation.implTranslateErrorDetails(l));case 12:t.next=15;break;case 14:this.privRequestSession.isSpeechEnded&&r===p.ResultReason.NoMatch&&n.RecognitionStatus!==d.RecognitionStatus.InitialSilenceTimeout||(this.privRecognizerConfig.parameters.getProperty(d.OutputFormatPropertyName)===p.OutputFormat[p.OutputFormat.Simple]?o=new p.SpeechRecognitionResult(this.privRequestSession.requestId,r,n.DisplayText,n.Duration,s,n.Language,n.LanguageDetectionConfidence,n.SpeakerId,void 0,e,a):(f=d.DetailedSpeechPhrase.fromJSON(e),v=f.Offset+this.privRequestSession.currentTurnAudioOffset,h=f.getJsonWithCorrectedOffsets(v),o=new p.SpeechRecognitionResult(this.privRequestSession.requestId,r,f.Text,f.Duration,v,f.Language,f.LanguageDetectionConfidence,f.SpeakerId,void 0,h,a),u=o.offset),this.handleRecognizedCallback(o,u,this.privRequestSession.sessionId));case 15:case"end":return t.stop()}}),t,this)})))}},{key:"handleSpeechHypothesis",value:function(e){var t=d.SpeechHypothesis.fromJSON(e),n=t.Offset+this.privRequestSession.currentTurnAudioOffset,r=new p.PropertyCollection;r.setProperty(p.PropertyId.SpeechServiceResponse_JsonResult,e);var i=new p.SpeechRecognitionResult(this.privRequestSession.requestId,p.ResultReason.RecognizingSpeech,t.Text,t.Duration,n,t.Language,t.LanguageDetectionConfidence,t.SpeakerId,void 0,e,r);this.privRequestSession.onHypothesis(n),this.handleRecognizingCallback(i,t.Duration,this.privRequestSession.sessionId)}}]),n}(d.ServiceRecognizerBase);t.ConversationServiceRecognizer=f},"633e":function(e,t,n){"use strict";n.r(t);var r=n("27c6"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},63748:function(e,t,n){n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401");var r=n("6613");e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"655d":function(e,t){},6566:function(e,t,n){"use strict";var r=n("9bf2").f,i=n("7c73"),o=n("6964"),a=n("0366"),s=n("19aa"),u=n("7234"),c=n("2266"),p=n("c6d2"),d=n("4754"),l=n("2626"),f=n("83ab"),v=n("f183").fastKey,h=n("69f3"),y=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,p){var d=e((function(e,r){s(e,l),y(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),u(r)||c(r,e[p],{that:e,AS_ENTRIES:n})})),l=d.prototype,h=g(t),m=function(e,t,n){var r,i,o=h(e),a=S(e,t);return a?a.value=n:(o.last=a={index:i=v(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},S=function(e,t){var n,r=h(e),i=v(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(l,{clear:function(){var e=h(this),t=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=h(this),n=S(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),f?t.size--:this.size--}return!!n},forEach:function(e){var t,n=h(this),r=a(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!S(this,e)}}),o(l,n?{get:function(e){var t=S(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&r(l,"size",{get:function(){return h(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),o=g(r);p(e,t,(function(e,t){y(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),l(t)}}},"65fd":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextResponsePayload=t.SpeechResponsePayload=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privSpeechResponse=function(e){return JSON.parse(e)}(t)}return(0,o.default)(e,[{key:"recognition",get:function(){return this.privSpeechResponse.recognition}},{key:"translations",get:function(){return this.privSpeechResponse.translations}},{key:"id",get:function(){return this.privSpeechResponse.id}},{key:"language",get:function(){return this.privSpeechResponse.language}},{key:"nickname",get:function(){return this.privSpeechResponse.nickname}},{key:"participantId",get:function(){return this.privSpeechResponse.participantId}},{key:"roomid",get:function(){return this.privSpeechResponse.roomid}},{key:"timestamp",get:function(){return this.privSpeechResponse.timestamp}},{key:"type",get:function(){return this.privSpeechResponse.type}},{key:"isFinal",get:function(){return"final"===this.privSpeechResponse.type}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.SpeechResponsePayload=a;var s=function(){function e(t){(0,i.default)(this,e),this.privTextResponse=function(e){return JSON.parse(e)}(t)}return(0,o.default)(e,[{key:"originalText",get:function(){return this.privTextResponse.originalText}},{key:"translations",get:function(){return this.privTextResponse.translations}},{key:"id",get:function(){return this.privTextResponse.id}},{key:"language",get:function(){return this.privTextResponse.language}},{key:"nickname",get:function(){return this.privTextResponse.nickname}},{key:"participantId",get:function(){return this.privTextResponse.participantId}},{key:"roomid",get:function(){return this.privTextResponse.roomid}},{key:"timestamp",get:function(){return this.privTextResponse.timestamp}},{key:"type",get:function(){return this.privTextResponse.type}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.TextResponsePayload=s},6613:function(e,t,n){n("fb6a"),n("d3b7"),n("a630"),n("3ca3"),n("ac1f"),n("00b4");var r=n("5a43");e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"667e":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.RequestSession=void 0;var i=r(n("b85c")),o=r(n("c7eb")),a=r(n("d4ec")),s=r(n("bee2"));n("d3b7"),n("14d9");var u=n("903d"),c=n("0185"),p=n("db0f"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(){function e(t){(0,a.default)(this,e),this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=t,this.privRequestId=(0,u.createNoDashGuid)(),this.privAudioNodeId=(0,u.createNoDashGuid)(),this.privTurnDeferral=new u.Deferred,this.privTurnDeferral.resolve()}return(0,s.default)(e,[{key:"sessionId",get:function(){return this.privSessionId}},{key:"requestId",get:function(){return this.privRequestId}},{key:"audioNodeId",get:function(){return this.privAudioNodeId}},{key:"turnCompletionPromise",get:function(){return this.privTurnDeferral.promise}},{key:"isSpeechEnded",get:function(){return this.privIsSpeechEnded}},{key:"isRecognizing",get:function(){return this.privIsRecognizing}},{key:"currentTurnAudioOffset",get:function(){return this.privTurnStartAudioOffset}},{key:"recogNumber",get:function(){return this.privRecogNumber}},{key:"numConnectionAttempts",get:function(){return this.privConnectionAttempts}},{key:"bytesSent",get:function(){return this.privBytesSent}},{key:"listenForServiceTelemetry",value:function(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}},{key:"startNewRecognition",value:function(){this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new p.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new c.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}},{key:"onAudioSourceAttachCompleted",value:function(e,t){return d(this,void 0,void 0,(0,o.default)().mark((function n(){return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(this.privAudioNode=e,this.privIsAudioNodeDetached=!1,!t){n.next=7;break}return n.next=5,this.onComplete();case 5:n.next=8;break;case 7:this.onEvent(new c.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId));case 8:case"end":return n.stop()}}),n,this)})))}},{key:"onPreConnectionStart",value:function(e,t){this.privAuthFetchEventId=e,this.privSessionId=t,this.onEvent(new c.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}},{key:"onAuthCompleted",value:function(e){return d(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,this.onComplete();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"onConnectionEstablishCompleted",value:function(e,t){return d(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!==e){t.next=8;break}return this.onEvent(new c.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0,t.abrupt("return");case 8:if(403!==e){t.next=11;break}return t.next=11,this.onComplete();case 11:case"end":return t.stop()}}),t,this)})))}},{key:"onServiceTurnEndResponse",value:function(e){return d(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.privTurnDeferral.resolve(),e&&!this.isSpeechEnded){t.next=7;break}return t.next=4,this.onComplete();case 4:this.privInTurn=!1,t.next=9;break;case 7:this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"onSpeechContext",value:function(){this.privRequestId=(0,u.createNoDashGuid)()}},{key:"onServiceTurnStartResponse",value:function(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch((function(){}))),this.privInTurn=!0,this.privTurnDeferral=new u.Deferred}},{key:"onHypothesis",value:function(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}},{key:"onPhraseRecognized",value:function(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}},{key:"onServiceRecognized",value:function(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e),this.privConnectionAttempts=0}},{key:"onAudioSent",value:function(e){this.privBytesSent+=e}},{key:"onRetryConnection",value:function(){this.privConnectionAttempts++}},{key:"dispose",value:function(){return d(this,void 0,void 0,(0,o.default)().mark((function e(){var t,n,r;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privIsDisposed){e.next=21;break}this.privIsDisposed=!0,t=(0,i.default)(this.privDetachables),e.prev=3,t.s();case 5:if((n=t.n()).done){e.next=11;break}return r=n.value,e.next=9,r.detach();case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1;case 21:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})))}},{key:"getTelemetry",value:function(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}},{key:"onStopRecognizing",value:function(){return d(this,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.onComplete();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onSpeechEnded",value:function(){this.privIsSpeechEnded=!0}},{key:"onEvent",value:function(e){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),u.Events.instance.onEvent(e)}},{key:"onComplete",value:function(){return d(this,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.privIsRecognizing){e.next=4;break}return this.privIsRecognizing=!1,e.next=4,this.detachAudioNode();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"detachAudioNode",value:function(){return d(this,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privIsAudioNodeDetached){e.next=5;break}if(this.privIsAudioNodeDetached=!0,!this.privAudioNode){e.next=5;break}return e.next=5,this.privAudioNode.detach();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}();t.RequestSession=l},"66bd":function(e,t){},6937:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityReceivedEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n){(0,i.default)(this,e),this.privActivity=t,this.privAudioStream=n}return(0,o.default)(e,[{key:"activity",get:function(){return this.privActivity}},{key:"audioStream",get:function(){return this.privAudioStream}}]),e}();t.ActivityReceivedEventArgs=a},"6b14":function(e,t){},"6b16":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationEventArgsBase=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s){var u;return(0,i.default)(this,n),u=t.call(this,a,s),u.privReason=e,u.privErrorDetails=r,u.privErrorCode=o,u}return(0,o.default)(n,[{key:"reason",get:function(){return this.privReason}},{key:"errorCode",get:function(){return this.privErrorCode}},{key:"errorDetails",get:function(){return this.privErrorDetails}}]),n}(u.RecognitionEventArgs);t.CancellationEventArgsBase=c},"6b49":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageEventArgs=void 0,n("d401"),n("d3b7"),n("25f0");var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privConnectionMessage=t}return(0,o.default)(e,[{key:"message",get:function(){return this.privConnectionMessage}},{key:"toString",value:function(){return"Message: "+this.privConnectionMessage.toString()}}]),e}();t.ConnectionMessageEventArgs=a},"6b58":function(e,t,n){n("d9e2"),n("d401");var r=n("7037")["default"],i=n("3c96");e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"6d16":function(e,t,n){"use strict";(function(e){n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioInputStreamImpl=t.PushAudioInputStream=t.PullAudioInputStreamImpl=t.PullAudioInputStream=t.AudioInputStream=void 0;var i=r(n("c7eb")),o=r(n("262e")),a=r(n("2caf")),s=r(n("d4ec")),u=r(n("bee2"));n("d3b7"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("c19f"),n("fd87"),n("fb6a");var c=n("21c7"),p=n("903d"),d=n("5628"),l=n("9030"),f=n("725b"),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},h=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,null,[{key:"createPushStream",value:function(e){return y.create(e)}},{key:"createPullStream",value:function(e,t){return m.create(e,t)}}]),e}();t.AudioInputStream=h;var y=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,null,[{key:"create",value:function(e){return new g(e)}}]),n}(h);t.PushAudioInputStream=y;var g=function(t){(0,o.default)(r,t);var n=(0,a.default)(r);function r(e){var t;return(0,s.default)(this,r),t=n.call(this),t.privFormat=void 0===e?f.AudioStreamFormatImpl.getDefaultInputFormat():e,t.privEvents=new p.EventSource,t.privId=(0,d.createNoDashGuid)(),t.privStream=new p.ChunkedArrayBufferStream(t.privFormat.avgBytesPerSec/10),t}return(0,u.default)(r,[{key:"format",get:function(){return Promise.resolve(this.privFormat)}},{key:"write",value:function(e){this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}},{key:"close",value:function(){this.privStream.close()}},{key:"id",value:function(){return this.privId}},{key:"turnOn",value:function(){this.onEvent(new p.AudioSourceInitializingEvent(this.privId)),this.onEvent(new p.AudioSourceReadyEvent(this.privId))}},{key:"attach",value:function(e){return v(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r=this;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.onEvent(new p.AudioStreamNodeAttachingEvent(this.privId,e)),t.next=3,this.turnOn();case 3:return n=this.privStream,this.onEvent(new p.AudioStreamNodeAttachedEvent(this.privId,e)),t.abrupt("return",{detach:function(){return v(r,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.onEvent(new p.AudioStreamNodeDetachedEvent(this.privId,e)),t.abrupt("return",this.turnOff());case 2:case"end":return t.stop()}}),t,this)})))},id:function(){return e},read:function(){return n.read()}});case 6:case"end":return t.stop()}}),t,this)})))}},{key:"detach",value:function(e){this.onEvent(new p.AudioStreamNodeDetachedEvent(this.privId,e))}},{key:"turnOff",value:function(){}},{key:"events",get:function(){return this.privEvents}},{key:"deviceInfo",get:function(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:c.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:c.type.Stream})}},{key:"onEvent",value:function(e){this.privEvents.onEvent(e),p.Events.instance.onEvent(e)}},{key:"toBuffer",value:function(t){for(var n=e.alloc(t.byteLength),r=new Uint8Array(t),i=0;i<n.length;++i)n[i]=r[i];return n}}]),r}(y);t.PushAudioInputStreamImpl=g;var m=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(){return(0,s.default)(this,n),t.call(this)}return(0,u.default)(n,null,[{key:"create",value:function(e,t){return new S(e,t)}}]),n}(h);t.PullAudioInputStream=m;var S=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(e,r){var i;return(0,s.default)(this,n),i=t.call(this),i.privFormat=void 0===r?l.AudioStreamFormat.getDefaultInputFormat():r,i.privEvents=new p.EventSource,i.privId=(0,d.createNoDashGuid)(),i.privCallback=e,i.privIsClosed=!1,i.privBufferSize=i.privFormat.avgBytesPerSec/10,i}return(0,u.default)(n,[{key:"format",get:function(){return Promise.resolve(this.privFormat)}},{key:"close",value:function(){this.privIsClosed=!0,this.privCallback.close()}},{key:"id",value:function(){return this.privId}},{key:"turnOn",value:function(){this.onEvent(new p.AudioSourceInitializingEvent(this.privId)),this.onEvent(new p.AudioSourceReadyEvent(this.privId))}},{key:"attach",value:function(e){return v(this,void 0,void 0,(0,i.default)().mark((function t(){var n=this;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.onEvent(new p.AudioStreamNodeAttachingEvent(this.privId,e)),t.next=3,this.turnOn();case 3:return this.onEvent(new p.AudioStreamNodeAttachedEvent(this.privId,e)),t.abrupt("return",{detach:function(){return n.privCallback.close(),n.onEvent(new p.AudioStreamNodeDetachedEvent(n.privId,e)),n.turnOff()},id:function(){return e},read:function(){var e,t=0;while(t<n.privBufferSize){var r=new ArrayBuffer(n.privBufferSize-t),i=n.privCallback.read(r);if(void 0===e)e=r;else{var o=new Int8Array(e);o.set(new Int8Array(r),t)}if(0===i)break;t+=i}return Promise.resolve({buffer:e.slice(0,t),isEnd:n.privIsClosed||0===t,timeReceived:Date.now()})}});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"detach",value:function(e){this.onEvent(new p.AudioStreamNodeDetachedEvent(this.privId,e))}},{key:"turnOff",value:function(){}},{key:"events",get:function(){return this.privEvents}},{key:"deviceInfo",get:function(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:c.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:c.type.Stream})}},{key:"onEvent",value:function(e){this.privEvents.onEvent(e),p.Events.instance.onEvent(e)}}]),n}(m);t.PullAudioInputStreamImpl=S}).call(this,n("b639").Buffer)},"6d31":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceTurnStateManager=void 0,n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0");var i=r(n("d4ec")),o=r(n("bee2")),a=n("0f96"),s=n("7511"),u=function(){function e(){(0,i.default)(this,e),this.privTurnMap=new Map}return(0,o.default)(e,[{key:"StartTurn",value:function(e){if(this.privTurnMap.has(e))throw new a.InvalidOperationError("Service error: There is already a turn with id:"+e);var t=new s.DialogServiceTurnState(this,e);return this.privTurnMap.set(e,t),this.privTurnMap.get(e)}},{key:"GetTurn",value:function(e){return this.privTurnMap.get(e)}},{key:"CompleteTurn",value:function(e){if(!this.privTurnMap.has(e))throw new a.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+e);var t=this.privTurnMap.get(e);return t.complete(),this.privTurnMap.delete(e),t}}]),e}();t.DialogServiceTurnStateManager=u},"6d61":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("e330"),a=n("94ca"),s=n("cb2d"),u=n("f183"),c=n("2266"),p=n("19aa"),d=n("1626"),l=n("7234"),f=n("861d"),v=n("d039"),h=n("1c7e"),y=n("d44e"),g=n("7156");e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),S=-1!==e.indexOf("Weak"),C=m?"set":"add",b=i[e],P=b&&b.prototype,k=b,w={},R=function(e){var t=o(P[e]);s(P,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(S&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return S&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(S&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},I=a(e,!d(b)||!(S||P.forEach&&!v((function(){(new b).entries().next()}))));if(I)k=n.getConstructor(t,e,m,C),u.enable();else if(a(e,!0)){var E=new k,O=E[C](S?{}:-0,1)!=E,T=v((function(){E.has(1)})),A=h((function(e){new b(e)})),x=!S&&v((function(){var e=new b,t=5;while(t--)e[C](t,t);return!e.has(-0)}));A||(k=t((function(e,t){p(e,P);var n=g(new b,e,k);return l(t)||c(t,n[C],{that:n,AS_ENTRIES:m}),n})),k.prototype=P,P.constructor=k),(T||x)&&(R("delete"),R("has"),m&&R("get")),(x||O)&&R(C),S&&P.clear&&delete P.clear}return w[e]=k,r({global:!0,constructor:!0,forced:k!=b},w),y(k,e),S||n.setStrong(k,e,m),k}},"6d66":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DeferralMap=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(){(0,i.default)(this,e),this.privMap={}}return(0,o.default)(e,[{key:"add",value:function(e,t){this.privMap[e]=t}},{key:"getId",value:function(e){return this.privMap[e]}},{key:"complete",value:function(e,t){try{this.privMap[e].resolve(t)}catch(n){this.privMap[e].reject(n)}finally{this.privMap[e]=void 0}}}]),e}();t.DeferralMap=a},"6dac":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationWebsocketMessageFormatter=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("903d"),s=n("d4c9"),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"toConnectionMessage",value:function(e){var t=new a.Deferred;try{if(e.messageType===a.MessageType.Text){var n=new s.ConversationConnectionMessage(e.messageType,e.textContent,{},e.id);t.resolve(n)}else e.messageType===a.MessageType.Binary&&t.resolve(new s.ConversationConnectionMessage(e.messageType,e.binaryContent,void 0,e.id))}catch(r){t.reject("Error formatting the message. Error: ".concat(r))}return t.promise}},{key:"fromConnectionMessage",value:function(e){var t=new a.Deferred;try{if(e.messageType===a.MessageType.Text){var n="".concat(e.textBody?e.textBody:"");t.resolve(new a.RawWebsocketMessage(a.MessageType.Text,n,e.id))}}catch(r){t.reject("Error formatting the message. ".concat(r))}return t.promise}}]),e}();t.ConversationWebsocketMessageFormatter=u},"6f48":function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"6f8f":function(e,t,n){n("d3b7"),n("f8c9"),n("4ae1"),e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"6f97":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privResult=t}return(0,o.default)(e,[{key:"result",get:function(){return this.privResult}}]),e}();t.SpeechSynthesisEventArgs=a},7:function(e,t){},7127:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioOutputConfigImpl=t.AudioConfigImpl=t.AudioConfig=void 0,n("d9e2"),n("d401");var i=r(n("262e")),o=r(n("2caf")),a=r(n("d4ec")),s=r(n("bee2")),u=n("9271"),c=n("277e"),p=n("9030"),d=n("52d5"),l=n("6d16"),f=n("120d"),v=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"fromDefaultMicrophoneInput",value:function(){var e=new u.PcmRecorder(!0);return new h(new u.MicAudioSource(e))}},{key:"fromMicrophoneInput",value:function(e){var t=new u.PcmRecorder(!0);return new h(new u.MicAudioSource(t,e))}},{key:"fromWavFileInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamedBuffer.wav";return new h(new u.FileAudioSource(e,t))}},{key:"fromStreamInput",value:function(e){if(e instanceof p.PullAudioInputStreamCallback)return new h(new l.PullAudioInputStreamImpl(e));if(e instanceof p.AudioInputStream)return new h(e);if("undefined"!==typeof MediaStream&&e instanceof MediaStream){var t=new u.PcmRecorder(!1);return new h(new u.MicAudioSource(t,null,null,e))}throw new Error("Not Supported Type")}},{key:"fromDefaultSpeakerOutput",value:function(){return new y(new p.SpeakerAudioDestination)}},{key:"fromSpeakerOutput",value:function(t){if(void 0===t)return e.fromDefaultSpeakerOutput();if(t instanceof p.SpeakerAudioDestination)return new y(t);throw new Error("Not Supported Type")}},{key:"fromAudioFileOutput",value:function(e){return new y(new d.AudioFileWriter(e))}},{key:"fromStreamOutput",value:function(e){if(e instanceof p.PushAudioOutputStreamCallback)return new y(new f.PushAudioOutputStreamImpl(e));if(e instanceof p.PushAudioOutputStream)return new y(e);if(e instanceof p.PullAudioOutputStream)return new y(e);throw new Error("Not Supported Type")}}]),e}();t.AudioConfig=v;var h=function(e){(0,i.default)(n,e);var t=(0,o.default)(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this),r.privSource=e,r}return(0,s.default)(n,[{key:"format",get:function(){return this.privSource.format}},{key:"close",value:function(e,t){this.privSource.turnOff().then((function(){e&&e()}),(function(e){t&&t(e)}))}},{key:"id",value:function(){return this.privSource.id()}},{key:"turnOn",value:function(){return this.privSource.turnOn()}},{key:"attach",value:function(e){return this.privSource.attach(e)}},{key:"detach",value:function(e){return this.privSource.detach(e)}},{key:"turnOff",value:function(){return this.privSource.turnOff()}},{key:"events",get:function(){return this.privSource.events}},{key:"setProperty",value:function(e,t){if(c.Contracts.throwIfNull(t,"value"),void 0===this.privSource.setProperty)throw new Error("This AudioConfig instance does not support setting properties.");this.privSource.setProperty(e,t)}},{key:"getProperty",value:function(e,t){if(void 0!==this.privSource.getProperty)return this.privSource.getProperty(e,t);throw new Error("This AudioConfig instance does not support getting properties.")}},{key:"deviceInfo",get:function(){return this.privSource.deviceInfo}}]),n}(v);t.AudioConfigImpl=h;var y=function(e){(0,i.default)(n,e);var t=(0,o.default)(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this),r.privDestination=e,r}return(0,s.default)(n,[{key:"format",set:function(e){this.privDestination.format=e}},{key:"write",value:function(e){this.privDestination.write(e)}},{key:"close",value:function(){this.privDestination.close()}},{key:"id",value:function(){return this.privDestination.id()}},{key:"setProperty",value:function(){throw new Error("This AudioConfig instance does not support setting properties.")}},{key:"getProperty",value:function(){throw new Error("This AudioConfig instance does not support getting properties.")}}]),n}(v);t.AudioOutputConfigImpl=y},"717c":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechHypothesis=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privSpeechHypothesis=JSON.parse(t)}return(0,o.default)(e,[{key:"Text",get:function(){return this.privSpeechHypothesis.Text}},{key:"Offset",get:function(){return this.privSpeechHypothesis.Offset}},{key:"Duration",get:function(){return this.privSpeechHypothesis.Duration}},{key:"Language",get:function(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}},{key:"LanguageDetectionConfidence",get:function(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}},{key:"SpeakerId",get:function(){return this.privSpeechHypothesis.SpeakerId}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.SpeechHypothesis=a},7198:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogConnectionFactory=void 0,n("99af"),n("8a79");var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9271"),c=n("21c7"),p=n("9030"),d=n("4061"),l=n("21c7"),f=n("574d"),v=n("9262"),h=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"create",value:function(e,t,r){var i=e.parameters.getProperty(p.PropertyId.Conversation_ApplicationId,""),o=e.parameters.getProperty(p.PropertyId.Conversation_DialogType),a=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Region),s=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),h=e.parameters.getProperty(p.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),y={};y[f.HeaderNames.ConnectionId]=r,y[v.QueryParameterNames.Format]=e.parameters.getProperty(c.OutputFormatPropertyName,p.OutputFormat[p.OutputFormat.Simple]).toLowerCase(),y[v.QueryParameterNames.Language]=s,y[v.QueryParameterNames.RequestBotStatusMessages]=h,i&&(y[v.QueryParameterNames.BotId]=i,o===p.DialogServiceConfig.DialogTypes.CustomCommands&&(y[f.HeaderNames.CustomCommandsAppId]=i));var g=o===p.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",m=o===p.DialogServiceConfig.DialogTypes.CustomCommands?"v1":o===p.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",S={};null!=t.token&&""!==t.token&&(S[t.headerName]=t.token);var C=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Endpoint,"");if(!C){var b=d.ConnectionFactoryBase.getHostSuffix(a),P=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Host,"wss://".concat(a,".").concat(n.BaseUrl).concat(b)),k=P.endsWith("/")?P:P+"/";C="".concat(k).concat(g).concat(n.ApiKey,"/").concat(m)}this.setCommonUrlParams(e,y,C);var w="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new u.WebsocketConnection(C,y,S,new l.WebsocketMessageFormatter,u.ProxyInfo.fromRecognizerConfig(e),w,r)}}]),n}(d.ConnectionFactoryBase);t.DialogConnectionFactory=h,h.ApiKey="api",h.BaseUrl="convai.speech"},"719f":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketConnection=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7"),n("c975"),n("99af");var s=n("903d"),u=n("83f9"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},p=function(){function e(t,n,r,i,a){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=arguments.length>6?arguments[6]:void 0;if((0,o.default)(this,e),this.privIsDisposed=!1,!t)throw new s.ArgumentNullError("uri");if(!i)throw new s.ArgumentNullError("messageFormatter");this.privMessageFormatter=i;var d="",l=0;if(n)for(var f in n)if(f){d+=0===l&&-1===t.indexOf("?")?"?":"&";var v=encodeURIComponent(f);d+=v;var h=n[f];h&&(h=encodeURIComponent(h),d+="=".concat(h)),l++}if(r)for(var y in r)if(y){d+=0===l&&-1===t.indexOf("?")?"?":"&";var g=encodeURIComponent(r[y]);d+="".concat(y,"=").concat(g),l++}this.privUri=t+d,this.privId=p||(0,s.createNoDashGuid)(),this.privConnectionMessageAdapter=new u.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,a,r,c)}return(0,a.default)(e,[{key:"dispose",value:function(){return c(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privIsDisposed=!0,!this.privConnectionMessageAdapter){e.next=4;break}return e.next=4,this.privConnectionMessageAdapter.close();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"isDisposed",value:function(){return this.privIsDisposed}},{key:"id",get:function(){return this.privId}},{key:"uri",get:function(){return this.privUri}},{key:"state",value:function(){return this.privConnectionMessageAdapter.state}},{key:"open",value:function(){return this.privConnectionMessageAdapter.open()}},{key:"send",value:function(e){return this.privConnectionMessageAdapter.send(e)}},{key:"read",value:function(){return this.privConnectionMessageAdapter.read()}},{key:"events",get:function(){return this.privConnectionMessageAdapter.events}}]),e}();t.WebsocketConnection=p},"725b":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamFormatImpl=t.AudioStreamFormat=t.AudioFormatTag=void 0,n("c19f"),n("ace4"),n("d3b7"),n("d9e2"),n("d401");var i,o=r(n("262e")),a=r(n("2caf")),s=r(n("d4ec")),u=r(n("bee2"));t.AudioFormatTag=i,function(e){e[e["PCM"]=1]="PCM",e[e["MuLaw"]=2]="MuLaw",e[e["Siren"]=3]="Siren",e[e["MP3"]=4]="MP3",e[e["SILKSkype"]=5]="SILKSkype",e[e["OGG_OPUS"]=6]="OGG_OPUS",e[e["WEBM_OPUS"]=7]="WEBM_OPUS",e[e["ALaw"]=8]="ALaw",e[e["FLAC"]=9]="FLAC",e[e["OPUS"]=10]="OPUS"}(i||(t.AudioFormatTag=i={}));var c=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,null,[{key:"getDefaultInputFormat",value:function(){return p.getDefaultInputFormat()}},{key:"getWaveFormat",value:function(e,t,n,r){return new p(e,t,n,r)}},{key:"getWaveFormatPCM",value:function(e,t,n){return new p(e,t,n)}}]),e}();t.AudioStreamFormat=c;var p=function(e){(0,o.default)(n,e);var t=(0,a.default)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16e3,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PCM;(0,s.default)(this,n),e=t.call(this);var c=!0;switch(u){case i.PCM:e.formatTag=1;break;case i.ALaw:e.formatTag=6;break;case i.MuLaw:e.formatTag=7;break;default:c=!1}if(e.bitsPerSample=o,e.samplesPerSec=r,e.channels=a,e.avgBytesPerSec=e.samplesPerSec*e.channels*(e.bitsPerSample/8),e.blockAlign=e.channels*Math.max(e.bitsPerSample,8),c){e.privHeader=new ArrayBuffer(44);var p=new DataView(e.privHeader);e.setString(p,0,"RIFF"),p.setUint32(4,0,!0),e.setString(p,8,"WAVEfmt "),p.setUint32(16,16,!0),p.setUint16(20,e.formatTag,!0),p.setUint16(22,e.channels,!0),p.setUint32(24,e.samplesPerSec,!0),p.setUint32(28,e.avgBytesPerSec,!0),p.setUint16(32,e.channels*(e.bitsPerSample/8),!0),p.setUint16(34,e.bitsPerSample,!0),e.setString(p,36,"data"),p.setUint32(40,0,!0)}return e}return(0,u.default)(n,[{key:"close",value:function(){}},{key:"header",get:function(){return this.privHeader}},{key:"setString",value:function(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}}],[{key:"getDefaultInputFormat",value:function(){return new n}},{key:"getAudioContext",value:function(e){var t=window.AudioContext||window.webkitAudioContext||!1;if(t)return void 0!==e&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new t({sampleRate:e}):new t;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}}]),n}(c);t.AudioStreamFormatImpl=p},"726f":function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.ProfanityOption=void 0,t.ProfanityOption=r,function(e){e[e["Masked"]=0]="Masked",e[e["Removed"]=1]="Removed",e[e["Raw"]=2]="Raw"}(r||(t.ProfanityOption=r={}))},7280:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceAdapter=void 0;var i=r(n("53ca")),o=r(n("c7eb")),a=r(n("d4ec")),s=r(n("bee2")),u=r(n("262e")),c=r(n("2caf"));n("d3b7"),n("e9c4"),n("a9e3"),n("14d9");var p=n("9271"),d=n("d9bf"),l=n("903d"),f=n("9205"),v=n("9030"),h=n("6d31"),y=n("21c7"),g=n("befe"),m=n("f508"),S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},C=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(e,r,i,o,s){var u;return(0,a.default)(this,n),u=t.call(this,e,r,i,o,s),u.privEvents=new l.EventSource,u.privDialogServiceConnector=s,u.receiveMessageOverride=function(){return u.receiveDialogMessageOverride()},u.privTurnStateManager=new h.DialogServiceTurnStateManager,u.recognizeOverride=function(e,t,n){return u.listenOnce(e,t,n)},u.postConnectImplOverride=function(e){return u.dialogConnectImpl(e)},u.configConnectionOverride=function(e){return u.configConnection(e)},u.disconnectOverride=function(){return u.privDisconnect()},u.privDialogAudioSource=i,u.agentConfigSent=!1,u.privLastResult=null,u.connectionEvents.attach((function(e){"ConnectionClosedEvent"===e.name&&(u.terminateMessageLoop=!0)})),u}return(0,s.default)(n,[{key:"sendMessage",value:function(e){return S(this,void 0,void 0,(0,o.default)().mark((function t(){var n,r,i,a,s;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,l.createGuid)(),r=(0,l.createNoDashGuid)(),i={context:{interactionId:n},messagePayload:JSON.parse(e),version:.5},a=JSON.stringify(i),t.next=6,this.fetchConnection();case 6:return s=t.sent,t.next=9,s.send(new m.SpeechConnectionMessage(l.MessageType.Text,"agent",r,"application/json",a));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"privDisconnect",value:function(){return S(this,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,v.CancellationReason.Error,v.CancellationErrorCode.NoError,"Disconnecting");case 2:return this.terminateMessageLoop=!0,this.agentConfigSent=!1,e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"processTypeSpecificMessages",value:function(e){var t,n,r=new v.PropertyCollection;switch(e.messageType===l.MessageType.Text&&r.setProperty(v.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.phrase":var i=y.SimpleSpeechPhrase.fromJSON(e.textBody);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+i.Offset+i.Duration),i.RecognitionStatus!==y.RecognitionStatus.TooManyRequests&&i.RecognitionStatus!==y.RecognitionStatus.Error){var o=this.fireEventForResult(i,r);if(this.privLastResult=o.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,o)}catch(g){}}n=!0;break;case"speech.hypothesis":var a=y.SpeechHypothesis.fromJSON(e.textBody),s=a.Offset+this.privRequestSession.currentTurnAudioOffset;t=new v.SpeechRecognitionResult(this.privRequestSession.requestId,v.ResultReason.RecognizingSpeech,a.Text,a.Duration,s,a.Language,a.LanguageDetectionConfidence,void 0,void 0,e.textBody,r),this.privRequestSession.onHypothesis(s);var u=new v.SpeechRecognitionEventArgs(t,a.Duration,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,u)}catch(g){}n=!0;break;case"speech.keyword":var c=y.SpeechKeyword.fromJSON(e.textBody);t=new v.SpeechRecognitionResult(this.privRequestSession.requestId,"Accepted"===c.Status?v.ResultReason.RecognizedKeyword:v.ResultReason.NoMatch,c.Text,c.Duration,c.Offset,void 0,void 0,void 0,void 0,e.textBody,r),"Accepted"!==c.Status&&(this.privLastResult=t);var p=new v.SpeechRecognitionEventArgs(t,t.duration,t.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,p)}catch(g){}n=!0;break;case"audio":var d=e.requestId.toUpperCase(),f=this.privTurnStateManager.GetTurn(d);try{e.binaryBody?f.audioStream.write(e.binaryBody):f.endAudioStream()}catch(g){}n=!0;break;case"response":this.handleResponseMessage(e),n=!0;break;default:break}var h=new l.Deferred;return h.resolve(n),h.promise}},{key:"cancelRecognition",value:function(e,t,n,r,i){return S(this,void 0,void 0,(0,o.default)().mark((function t(){var a,s,u;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.terminateMessageLoop=!0,!this.privRequestSession.isRecognizing){t.next=4;break}return t.next=4,this.privRequestSession.onStopRecognizing();case 4:if(this.privDialogServiceConnector.canceled){a=new v.PropertyCollection,a.setProperty(y.CancellationErrorCodePropertyName,v.CancellationErrorCode[r]),s=new v.SpeechRecognitionCanceledEventArgs(n,i,r,void 0,e);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,s)}catch(o){}if(this.privSuccessCallback){u=new v.SpeechRecognitionResult(void 0,v.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,i,void 0,a);try{this.privSuccessCallback(u),this.privSuccessCallback=void 0}catch(c){}}}case 5:case"end":return t.stop()}}),t,this)})))}},{key:"listenOnce",value:function(e,t,n){return S(this,void 0,void 0,(0,o.default)().mark((function r(){var i,a,s,u,c,d,l,f,h=this;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return this.privRecognizerConfig.recognitionMode=e,this.privSuccessCallback=t,this.privErrorCallback=n,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(v.PropertyId.Speech_SessionId,this.privRequestSession.sessionId),i=this.connectImpl(),a=this.sendPreAudioMessages(),r.next=10,this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId);case 10:return s=r.sent,r.next=13,this.privDialogAudioSource.format;case 13:return u=r.sent,r.next=16,this.privDialogAudioSource.deviceInfo;case 16:return c=r.sent,d=new p.ReplayableAudioNode(s,u.avgBytesPerSec),r.next=20,this.privRequestSession.onAudioSourceAttachCompleted(d,!1);case 20:return this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:c},r.prev=21,r.next=24,i;case 24:return r.next=26,a;case 26:r.next=33;break;case 28:return r.prev=28,r.t0=r["catch"](21),r.next=32,this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,v.CancellationReason.Error,v.CancellationErrorCode.ConnectionFailure,r.t0);case 32:return r.abrupt("return",Promise.resolve());case 33:l=new v.SessionEventArgs(this.privRequestSession.sessionId),this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,l),f=this.sendAudio(d),f.then((function(){}),(function(e){return S(h,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,v.CancellationReason.Error,v.CancellationErrorCode.RuntimeError,e);case 2:case"end":return t.stop()}}),t,this)})))}));case 37:case"end":return r.stop()}}),r,this,[[21,28]])})))}},{key:"dialogConnectImpl",value:function(e){return this.privConnectionLoop=this.startMessageLoop(),e}},{key:"receiveDialogMessageOverride",value:function(){var e=this,t=new l.Deferred;return function n(){return S(e,void 0,void 0,(0,o.default)().mark((function e(){var r,i,a,s,u,c,p,d,f,h,g,S,C,b,P,k,w;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=this.isDisposed(),i=!this.isDisposed()&&this.terminateMessageLoop,!r&&!i){e.next=6;break}return t.resolve(void 0),e.abrupt("return");case 6:return e.next=8,this.fetchConnection();case 8:return a=e.sent,e.next=11,a.read();case 11:if(s=e.sent,s){e.next=14;break}return e.abrupt("return",n());case 14:u=m.SpeechConnectionMessage.fromConnectionMessage(s),e.t0=u.path.toLowerCase(),e.next="turn.start"===e.t0?18:"speech.startdetected"===e.t0?22:"speech.enddetected"===e.t0?26:"turn.end"===e.t0?32:44;break;case 18:return c=u.requestId.toUpperCase(),p=this.privRequestSession.requestId.toUpperCase(),c!==p?this.privTurnStateManager.StartTurn(c):this.privRequestSession.onServiceTurnStartResponse(),e.abrupt("break",53);case 22:return d=y.SpeechDetected.fromJSON(u.textBody),f=new v.RecognitionEventArgs(d.Offset,this.privRequestSession.sessionId),this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,f),e.abrupt("break",53);case 26:return h=u.textBody.length>0?u.textBody:"{ Offset: 0 }",g=y.SpeechDetected.fromJSON(h),this.privRequestSession.onServiceRecognized(g.Offset+this.privRequestSession.currentTurnAudioOffset),S=new v.RecognitionEventArgs(g.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,S),e.abrupt("break",53);case 32:if(C=u.requestId.toUpperCase(),b=this.privRequestSession.requestId.toUpperCase(),C===b){e.next=38;break}this.privTurnStateManager.CompleteTurn(C),e.next=43;break;case 38:return P=new v.SessionEventArgs(this.privRequestSession.sessionId),e.next=41,this.privRequestSession.onServiceTurnEndResponse(!1);case 41:if(this.privRecognizerConfig.isContinuousRecognition&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing||this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,P),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(o){this.privErrorCallback&&this.privErrorCallback(o)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}case 43:return e.abrupt("break",53);case 44:return e.prev=44,e.next=47,this.processTypeSpecificMessages(u);case 47:k=e.sent,k||this.serviceEvents&&this.serviceEvents.onEvent(new l.ServiceEvent(u.path.toLowerCase(),u.textBody)),e.next=53;break;case 51:e.prev=51,e.t1=e["catch"](44);case 53:return w=n(),e.abrupt("return",w);case 57:e.prev=57,e.t2=e["catch"](0),this.terminateMessageLoop=!0,t.resolve();case 61:case"end":return e.stop()}}),e,this,[[0,57],[44,51]])})))}().catch((function(e){l.Events.instance.onEvent(new l.BackgroundEvent(e))})),t.promise}},{key:"startMessageLoop",value:function(){return S(this,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.terminateMessageLoop=!1,e.prev=1,e.next=4,this.receiveDialogMessageOverride();case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.next=10,this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,v.CancellationReason.Error,v.CancellationErrorCode.RuntimeError,e.t0);case 10:return e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}}),e,this,[[1,6]])})))}},{key:"configConnection",value:function(e){return S(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.terminateMessageLoop){t.next=3;break}return this.terminateMessageLoop=!1,t.abrupt("return",Promise.reject("Connection to service terminated."));case 3:return t.next=5,this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize());case 5:return t.next=7,this.sendAgentConfig(e);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"sendPreAudioMessages",value:function(){return S(this,void 0,void 0,(0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchConnection();case 2:return t=e.sent,this.addKeywordContextData(),e.next=6,this.sendSpeechContext(t,!0);case 6:return e.next=8,this.sendAgentContext(t);case 8:return e.next=10,this.sendWaveHeader(t);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"sendAgentConfig",value:function(e){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(v.PropertyId.Conversation_DialogType)===v.DialogServiceConfig.DialogTypes.CustomCommands){var t=this.agentConfig.get();t.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(v.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(t)}this.onEvent(new d.SendingAgentContextMessageEvent(this.agentConfig));var n=this.agentConfig.toJsonString();return this.agentConfigSent=!0,e.send(new m.SpeechConnectionMessage(l.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",n))}}},{key:"sendAgentContext",value:function(e){var t=(0,l.createGuid)(),n=this.privDialogServiceConnector.properties.getProperty(v.PropertyId.Conversation_Speech_Activity_Template),r={channelData:"",context:{interactionId:t},messagePayload:void 0===(0,i.default)(n)?void 0:n,version:.5},o=JSON.stringify(r);return e.send(new m.SpeechConnectionMessage(l.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",o))}},{key:"fireEventForResult",value:function(e,t){var n=y.EnumTranslation.implTranslateRecognitionResult(e.RecognitionStatus),r=e.Offset+this.privRequestSession.currentTurnAudioOffset,i=new v.SpeechRecognitionResult(this.privRequestSession.requestId,n,e.DisplayText,e.Duration,r,e.Language,e.LanguageDetectionConfidence,void 0,void 0,JSON.stringify(e),t),o=new v.SpeechRecognitionEventArgs(i,r,this.privRequestSession.sessionId);return o}},{key:"handleResponseMessage",value:function(e){var t=JSON.parse(e.textBody);switch(t.messageType.toLowerCase()){case"message":var n=e.requestId.toUpperCase(),r=g.ActivityPayloadResponse.fromJSON(e.textBody),i=this.privTurnStateManager.GetTurn(n);if(r.conversationId){var o=this.agentConfig.get();o.botInfo.conversationId=r.conversationId,this.agentConfig.set(o)}var a=i.processActivityPayload(r,f.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(v.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),s=new v.ActivityReceivedEventArgs(r.messagePayload,a);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,s)}catch(u){}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new v.TurnStatusReceivedEventArgs(e.textBody))}catch(u){}break;default:l.Events.instance.onEvent(new l.BackgroundEvent("Unexpected response of type ".concat(t.messageType,". Ignoring.")));break}}},{key:"onEvent",value:function(e){this.privEvents.onEvent(e),l.Events.instance.onEvent(e)}},{key:"addKeywordContextData",value:function(){var e=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(void 0!==e){for(var t=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),n=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),r=e.split(";"),i=void 0===t?[]:t.split(";"),o=void 0===n?[]:n.split(";"),a=[],s=0;s<r.length;s++){var u={};u.text=r[s],s<i.length&&(u.offset=Number(i[s])),s<o.length&&(u.duration=Number(o[s])),a.push(u)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:a,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}}}]),n}(y.ServiceRecognizerBase);t.DialogServiceAdapter=C},7388:function(e,t){},7481:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s,u,c,p,d,l,f){var v;return(0,i.default)(this,n),v=t.call(this,r,o,a,s,u,c,p,void 0,d,l,f),v.privTranslations=e,v}return(0,o.default)(n,[{key:"translations",get:function(){return this.privTranslations}}],[{key:"fromSpeechRecognitionResult",value:function(e){return new n(void 0,e.resultId,e.reason,e.text,e.duration,e.offset,e.language,e.languageDetectionConfidence,e.errorDetails,e.json,e.properties)}}]),n}(u.SpeechRecognitionResult);t.TranslationRecognitionResult=c},7511:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceTurnState=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("9205"),s=n("120d"),u=n("befe"),c=function(){function e(t,n){(0,i.default)(this,e),this.privRequestId=n,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=t,this.resetTurnEndTimeout()}return(0,o.default)(e,[{key:"audioStream",get:function(){return this.resetTurnEndTimeout(),this.privAudioStream}},{key:"processActivityPayload",value:function(e,t){return e.messageDataStreamType===u.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=s.AudioOutputStream.createPullStream(),this.privAudioStream.format=void 0!==t?t:a.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}},{key:"endAudioStream",value:function(){null===this.privAudioStream||this.privAudioStream.isClosed||this.privAudioStream.close()}},{key:"complete",value:function(){void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}},{key:"resetTurnEndTimeout",value:function(){var e=this;void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout((function(){e.privTurnManager.CompleteTurn(e.privRequestId)}),2e3)}}]),e}();t.DialogServiceTurnState=c},"77e8":function(e,t){},"78e1":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.RawWebsocketMessage=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("da88"),s=n("0f96"),u=n("5628"),c=function(){function e(t,n,r){if((0,i.default)(this,e),this.privPayload=null,!n)throw new s.ArgumentNullError("payload");if(t===a.MessageType.Binary&&"ArrayBuffer"!==n.__proto__.constructor.name)throw new s.InvalidOperationError("Payload must be ArrayBuffer");if(t===a.MessageType.Text&&"string"!==typeof n)throw new s.InvalidOperationError("Payload must be a string");this.privMessageType=t,this.privPayload=n,this.privId=r||(0,u.createNoDashGuid)()}return(0,o.default)(e,[{key:"messageType",get:function(){return this.privMessageType}},{key:"payload",get:function(){return this.privPayload}},{key:"textContent",get:function(){if(this.privMessageType===a.MessageType.Binary)throw new s.InvalidOperationError("Not supported for binary message");return this.privPayload}},{key:"binaryContent",get:function(){if(this.privMessageType===a.MessageType.Text)throw new s.InvalidOperationError("Not supported for text message");return this.privPayload}},{key:"id",get:function(){return this.privId}}]),e}();t.RawWebsocketMessage=c},"7a3c":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechContext=void 0,n("14d9"),n("c975"),n("e9c4");var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privContext={},this.privDynamicGrammar=t}return(0,o.default)(e,[{key:"getSection",value:function(e){return this.privContext[e]||{}}},{key:"setSection",value:function(e,t){this.privContext[e]=t}},{key:"setPronunciationAssessmentParams",value:function(e){void 0===this.privContext.phraseDetection&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(e),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),-1===this.privContext.phraseOutput.detailed.options.indexOf("SNR")&&this.privContext.phraseOutput.detailed.options.push("SNR")}},{key:"setWordLevelTimings",value:function(){void 0===this.privContext.phraseOutput&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),void 0===this.privContext.phraseOutput.detailed&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",-1===this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}},{key:"toJSON",value:function(){var e=this.privDynamicGrammar.generateGrammarObject();this.setSection("dgi",e);var t=JSON.stringify(this.privContext);return t}}]),e}();t.SpeechContext=a},"7b56":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionOpenResponse=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n){(0,i.default)(this,e),this.privStatusCode=t,this.privReason=n}return(0,o.default)(e,[{key:"statusCode",get:function(){return this.privStatusCode}},{key:"reason",get:function(){return this.privReason}}]),e}();t.ConnectionOpenResponse=a},"7c30":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],ref:"ani",class:e.customClass,style:e.transformStyles,attrs:{animation:e.animationData},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e._t("default")],2)},i=[]},"7d63":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntentConnectionFactory=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9271"),c=n("9030"),p=n("4061"),d=n("21c7"),l=n("574d"),f=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"create",value:function(e,t,n){var r=e.parameters.getProperty(c.PropertyId.SpeechServiceConnection_Endpoint);if(!r){var i=e.parameters.getProperty(c.PropertyId.SpeechServiceConnection_IntentRegion),o=p.ConnectionFactoryBase.getHostSuffix(i),a=e.parameters.getProperty(c.PropertyId.SpeechServiceConnection_Host,"wss://"+i+".sr.speech"+o);r=a+"/speech/recognition/interactive/cognitiveservices/v1"}var s={format:"simple",language:e.parameters.getProperty(c.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(e,s,r);var f={};void 0!==t.token&&""!==t.token&&(f[t.headerName]=t.token),f[l.HeaderNames.ConnectionId]=n,e.parameters.setProperty(c.PropertyId.SpeechServiceConnection_Url,r);var v="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new u.WebsocketConnection(r,s,f,new d.WebsocketMessageFormatter,u.ProxyInfo.fromRecognizerConfig(e),v,n)}},{key:"getSpeechRegionFromIntentRegion",value:function(e){switch(e){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return e}}}]),n}(p.ConnectionFactoryBase);t.IntentConnectionFactory=f},"7dbd":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.KeywordRecognitionModel=void 0,n("d9e2"),n("d401");var i=r(n("d4ec")),o=r(n("bee2")),a=n("277e"),s=function(){function e(){(0,i.default)(this,e),this.privDisposed=!1}return(0,o.default)(e,[{key:"close",value:function(){this.privDisposed||(this.privDisposed=!0)}}],[{key:"fromFile",value:function(e){throw a.Contracts.throwIfFileDoesNotExist(e,"fileName"),new Error("Not yet implemented.")}},{key:"fromStream",value:function(e){throw a.Contracts.throwIfNull(e,"file"),new Error("Not yet implemented.")}}]),e}();t.KeywordRecognitionModel=s},"7e84":function(e,t,n){"use strict";function r(e){return t.default=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,n("131a"),n("3410")},"7ec2":function(e,t,n){n("7a82"),n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("b636"),n("944a"),n("0c47"),n("23dc"),n("3410"),n("d9e2"),n("d401"),n("14d9"),n("159b"),n("131a"),n("26e9"),n("fb6a");var r=n("7037")["default"];function i(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",p=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(x){d=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),s=new O(r||[]);return a(o,"_invoke",{value:w(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(x){return{type:"throw",arg:x}}}t.wrap=l;var v={};function h(){}function y(){}function g(){}var m={};d(m,u,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(T([])));C&&C!==n&&o.call(C,u)&&(m=C);var b=g.prototype=h.prototype=Object.create(m);function P(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){var n;a(this,"_invoke",{value:function(i,a){function s(){return new t((function(n,s){(function n(i,a,s,u){var c=f(e[i],e,a);if("throw"!==c.type){var p=c.arg,d=p.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){p.value=e,s(p)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)})(i,a,n,s)}))}return n=n?n.then(s,s):s()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=R(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator["return"]&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return y.prototype=g,a(b,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=d(g,p,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,p,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},P(k.prototype),d(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(b),d(b,p,"Generator"),d(b,u,(function(){return this})),d(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},t}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"80a3":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("45eb")),u=r(n("7e84")),c=r(n("262e")),p=r(n("2caf"));n("d3b7");var d=n("21c7"),l=n("277e"),f=n("9030"),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},h=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e,r){var i;(0,o.default)(this,n),l.Contracts.throwIfNullOrUndefined(e,"speechConfig");var a=e;return l.Contracts.throwIfNullOrUndefined(a,"speechConfig"),i=t.call(this,r,a.properties,new d.SpeakerRecognitionConnectionFactory),i.privAudioConfigImpl=r,l.Contracts.throwIfNull(i.privAudioConfigImpl,"audioConfig"),i.privDisposedSpeakerRecognizer=!1,i.privProperties=a.properties,i}return(0,a.default)(n,[{key:"authorizationToken",get:function(){return this.properties.getProperty(f.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){l.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(f.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"properties",get:function(){return this.privProperties}},{key:"recognizeOnceAsync",value:function(e){return v(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),t.abrupt("return",this.recognizeSpeakerOnceAsyncImpl(e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){return v(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),e.next=3,this.dispose(!0);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"recognizeSpeakerOnceAsyncImpl",value:function(e){return v(this,void 0,void 0,(0,i.default)().mark((function t(){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),t.next=3,this.implRecognizerStop();case 3:return t.next=5,this.privReco.recognizeSpeaker(e);case 5:return n=t.sent,t.next=8,this.implRecognizerStop();case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"implRecognizerStop",value:function(){return v(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.privReco){e.next=3;break}return e.next=3,this.privReco.stopRecognizing();case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e,this)})))}},{key:"createRecognizerConfig",value:function(e){return new d.RecognizerConfig(e,this.privProperties)}},{key:"createServiceRecognizer",value:function(e,t,n,r){var i=n;return new d.SpeakerServiceRecognizer(e,t,i,r,this)}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,s.default)((0,u.default)(n.prototype),"dispose",t)}}});return v(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposedSpeakerRecognizer){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=6;break}return this.privDisposedSpeakerRecognizer=!0,t.next=6,r.dispose.call(this,e);case 6:case"end":return t.stop()}}),t,this)})))}}]),n}(f.Recognizer);t.SpeakerRecognizer=h},"82da":function(e,t,n){var r=n("23e7"),i=n("ebb5"),o=i.NATIVE_ARRAY_BUFFER_VIEWS;r({target:"ArrayBuffer",stat:!0,forced:!o},{isView:i.isView})},"83f9":function(e,t,n){"use strict";(function(e){n("7a82");var r=n("dbce").default,i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketMessageAdapter=void 0;var o=i(n("c7eb")),a=i(n("d4ec")),s=i(n("bee2"));n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("c19f"),n("ace4"),n("d9e2"),n("d401"),n("99af"),n("25f0");var u=r(n(3)),c=r(n(4)),p=i(n(5)),d=i(n(6)),l=i(n(7)),f=n("574d"),v=n("903d"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y=function(){function t(e,n,r,i,o,s){if((0,a.default)(this,t),!e)throw new v.ArgumentNullError("uri");if(!r)throw new v.ArgumentNullError("messageFormatter");this.proxyInfo=i,this.privConnectionEvents=new v.EventSource,this.privConnectionId=n,this.privMessageFormatter=r,this.privConnectionState=v.ConnectionState.None,this.privUri=e,this.privHeaders=o,this.privEnableCompression=s,this.privHeaders[f.HeaderNames.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}return(0,s.default)(t,[{key:"state",get:function(){return this.privConnectionState}},{key:"open",value:function(){var e=this;if(this.privConnectionState===v.ConnectionState.Disconnected)return Promise.reject("Cannot open a connection that is in ".concat(this.privConnectionState," state"));if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new v.Deferred,this.privCertificateValidatedDeferral=new v.Deferred,this.privConnectionState=v.ConnectionState.Connecting;try{if("undefined"===typeof WebSocket||t.forceNpmWebSocket){var n={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),n.agent=this.getAgent();var r=new URL(this.privUri),i=r.protocol;"wss:"===(null===i||void 0===i?void 0:i.toLocaleLowerCase())?i="https:":"ws:"===(null===i||void 0===i?void 0:i.toLocaleLowerCase())&&(i="http:"),n.agent.protocol=i,this.privWebsocketClient=new l.default(this.privUri,n)}else this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new v.Queue,this.privDisconnectDeferral=new v.Deferred,this.privSendMessageQueue=new v.Queue,this.processSendQueue().catch((function(e){v.Events.instance.onEvent(new v.BackgroundEvent(e))}))}catch(o){return this.privConnectionEstablishDeferral.resolve(new v.ConnectionOpenResponse(500,o)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new v.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=function(){e.privCertificateValidatedDeferral.promise.then((function(){e.privConnectionState=v.ConnectionState.Connected,e.onEvent(new v.ConnectionEstablishedEvent(e.privConnectionId)),e.privConnectionEstablishDeferral.resolve(new v.ConnectionOpenResponse(200,""))}),(function(t){e.privConnectionEstablishDeferral.reject(t)}))},this.privWebsocketClient.onerror=function(t){e.onEvent(new v.ConnectionErrorEvent(e.privConnectionId,t.message,t.type)),e.privLastErrorReceived=t.message},this.privWebsocketClient.onclose=function(t){e.privConnectionState===v.ConnectionState.Connecting?(e.privConnectionState=v.ConnectionState.Disconnected,e.privConnectionEstablishDeferral.resolve(new v.ConnectionOpenResponse(t.code,t.reason+" "+e.privLastErrorReceived))):(e.privConnectionState=v.ConnectionState.Disconnected,e.privWebsocketClient=null,e.onEvent(new v.ConnectionClosedEvent(e.privConnectionId,t.code,t.reason))),e.onClose(t.code,t.reason).catch((function(e){v.Events.instance.onEvent(new v.BackgroundEvent(e))}))},this.privWebsocketClient.onmessage=function(t){var n=(new Date).toISOString();if(e.privConnectionState===v.ConnectionState.Connected){var r=new v.Deferred;if(e.privReceivingMessageQueue.enqueueFromPromise(r.promise),t.data instanceof ArrayBuffer){var i=new v.RawWebsocketMessage(v.MessageType.Binary,t.data);e.privMessageFormatter.toConnectionMessage(i).then((function(t){e.onEvent(new v.ConnectionMessageReceivedEvent(e.privConnectionId,n,t)),r.resolve(t)}),(function(e){r.reject("Invalid binary message format. Error: ".concat(e))}))}else{var o=new v.RawWebsocketMessage(v.MessageType.Text,t.data);e.privMessageFormatter.toConnectionMessage(o).then((function(t){e.onEvent(new v.ConnectionMessageReceivedEvent(e.privConnectionId,n,t)),r.resolve(t)}),(function(e){r.reject("Invalid text message format. Error: ".concat(e))}))}}},this.privConnectionEstablishDeferral.promise}},{key:"send",value:function(e){if(this.privConnectionState!==v.ConnectionState.Connected)return Promise.reject("Cannot send on connection that is in ".concat(v.ConnectionState[this.privConnectionState]," state"));var t=new v.Deferred,n=new v.Deferred;return this.privSendMessageQueue.enqueueFromPromise(n.promise),this.privMessageFormatter.fromConnectionMessage(e).then((function(r){n.resolve({Message:e,RawWebsocketMessage:r,sendStatusDeferral:t})}),(function(e){n.reject("Error formatting the message. ".concat(e))})),t.promise}},{key:"read",value:function(){return this.privConnectionState!==v.ConnectionState.Connected?Promise.reject("Cannot read on connection that is in ".concat(this.privConnectionState," state")):this.privReceivingMessageQueue.dequeue()}},{key:"close",value:function(e){return this.privWebsocketClient?(this.privConnectionState!==v.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client"),this.privDisconnectDeferral.promise):Promise.resolve()}},{key:"events",get:function(){return this.privConnectionEvents}},{key:"sendRawMessage",value:function(e){try{return e?(this.onEvent(new v.ConnectionMessageSentEvent(this.privConnectionId,(new Date).toISOString(),e.Message)),this.isWebsocketOpen?(this.privWebsocketClient.send(e.RawWebsocketMessage.payload),Promise.resolve()):Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+e.Message.id+" "+(new Error).stack)):Promise.resolve()}catch(t){return Promise.reject("websocket send error: ".concat(t))}}},{key:"onClose",value:function(e,t){return h(this,void 0,void 0,(0,o.default)().mark((function n(){var r;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="Connection closed. ".concat(e,": ").concat(t),this.privConnectionState=v.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),n.next=5,this.privReceivingMessageQueue.drainAndDispose((function(){}),r);case 5:return n.next=7,this.privSendMessageQueue.drainAndDispose((function(e){e.sendStatusDeferral.reject(r)}),r);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"processSendQueue",value:function(){return h(this,void 0,void 0,(0,o.default)().mark((function e(){var t,n;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.privSendMessageQueue.dequeue(),e.next=4,t;case 4:if(n=e.sent,n){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,e.next=10,this.sendRawMessage(n);case 10:n.sendStatusDeferral.resolve(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](7),n.sendStatusDeferral.reject(e.t0);case 16:e.next=0;break;case 18:case"end":return e.stop()}}),e,this,[[7,13]])})))}},{key:"onEvent",value:function(e){this.privConnectionEvents.onEvent(e),v.Events.instance.onEvent(e)}},{key:"getAgent",value:function(){var e=new p.default.Agent(this.createConnection);return void 0!==this.proxyInfo&&void 0!==this.proxyInfo.HostName&&this.proxyInfo.Port>0&&(e.proxyInfo=this.proxyInfo),e}},{key:"createConnection",value:function(e,n){var r;if(n=Object.assign(Object.assign({},n),{requestOCSP:!0,servername:n.host}),this.proxyInfo){var i=t.GetProxyAgent(this.proxyInfo),o=i;r=new Promise((function(t,r){o.callback(e,n,(function(e,n){e?r(e):t(n)}))}))}else r=n.secureEndpoint?Promise.resolve(c.connect(n)):Promise.resolve(u.connect(n));return r}},{key:"isWebsocketOpen",get:function(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}],[{key:"GetProxyAgent",value:function(t){var n={host:t.HostName,port:t.Port};t.UserName?n.headers={"Proxy-Authentication":"Basic "+new e("".concat(t.UserName,":").concat(void 0===t.Password?"":t.Password)).toString("base64")}:n.headers={},n.headers.requestOCSP="true";var r=new d.default(n);return r}}]),t}();t.WebsocketMessageAdapter=y,y.forceNpmWebSocket=!1}).call(this,n("b639").Buffer)},8415:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriberRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("45eb")),u=r(n("7e84")),c=r(n("262e")),p=r(n("2caf"));n("d3b7"),n("d9e2"),n("d401");var d=n("903d"),l=n("277e"),f=n("9030"),v=n("21c7"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e,r){var i;(0,o.default)(this,n);var a=e;l.Contracts.throwIfNull(a,"speechTranslationConfig");var s=r;return l.Contracts.throwIfNull(s,"audioConfigImpl"),l.Contracts.throwIfNullOrWhitespace(a.speechRecognitionLanguage,f.PropertyId[f.PropertyId.SpeechServiceConnection_RecoLanguage]),i=t.call(this,r,a.properties,new v.TranscriberConnectionFactory),i.privDisposedRecognizer=!1,i}return(0,a.default)(n,[{key:"speechRecognitionLanguage",get:function(){return l.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(f.PropertyId.SpeechServiceConnection_RecoLanguage)}},{key:"properties",get:function(){return this.privProperties}},{key:"authorizationToken",get:function(){return this.properties.getProperty(f.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){l.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(f.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"conversation",set:function(e){l.Contracts.throwIfNullOrUndefined(e,"Conversation"),this.privConversation=e}},{key:"getConversationInfo",value:function(){return l.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}},{key:"startContinuousRecognitionAsync",value:function(e,t){(0,d.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(v.RecognitionMode.Conversation),e,t)}},{key:"stopContinuousRecognitionAsync",value:function(e,t){(0,d.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),e,t)}},{key:"close",value:function(){return h(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privDisposedRecognizer){e.next=3;break}return e.next=3,this.dispose(!0);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"pushConversationEvent",value:function(e,t){return h(this,void 0,void 0,(0,i.default)().mark((function n(){var r;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=this.privReco,l.Contracts.throwIfNullOrUndefined(r,"serviceRecognizer"),n.next=4,r.sendSpeechEventAsync(e,t);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"enforceAudioGating",value:function(){return h(this,void 0,void 0,(0,i.default)().mark((function e(){var t,n,r;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.audioConfig,e.next=3,t.format;case 3:if(n=e.sent,r=n.channels,1!==r){e.next=10;break}if("true"===this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()){e.next=8;break}throw new Error("Single channel audio configuration for ConversationTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details");case 8:e.next=12;break;case 10:if(8===r){e.next=12;break}throw new Error("Unsupported audio configuration: Detected ".concat(r,"-channel audio"));case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e,this)})))}},{key:"connectCallbacks",value:function(e){this.canceled=function(t,n){e.canceled&&e.canceled(e,n)},this.recognizing=function(t,n){e.transcribing&&e.transcribing(e,n)},this.recognized=function(t,n){e.transcribed&&e.transcribed(e,n)},this.sessionStarted=function(t,n){e.sessionStarted&&e.sessionStarted(e,n)},this.sessionStopped=function(t,n){e.sessionStopped&&e.sessionStopped(e,n)}}},{key:"disconnectCallbacks",value:function(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,s.default)((0,u.default)(n.prototype),"dispose",t)}}});return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposedRecognizer){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=6;break}return this.privDisposedRecognizer=!0,t.next=6,this.implRecognizerStop();case 6:return t.next=8,r.dispose.call(this,e);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"createRecognizerConfig",value:function(e){return new v.RecognizerConfig(e,this.properties)}},{key:"createServiceRecognizer",value:function(e,t,n,r){var i=n;return new v.TranscriptionServiceRecognizer(e,t,i,r,this)}}]),n}(f.Recognizer);t.TranscriberRecognizer=y},8462:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntentResponse=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privIntentResponse=""===t?{}:JSON.parse(t)}return(0,o.default)(e,[{key:"query",get:function(){return this.privIntentResponse.query}},{key:"topScoringIntent",get:function(){return this.privIntentResponse.topScoringIntent}},{key:"entities",get:function(){return this.privIntentResponse.entities}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.IntentResponse=a},"85d3":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformEvent=t.EventType=void 0;var i,o=r(n("d4ec")),a=r(n("bee2")),s=n("5628");t.EventType=i,function(e){e[e["Debug"]=0]="Debug",e[e["Info"]=1]="Info",e[e["Warning"]=2]="Warning",e[e["Error"]=3]="Error",e[e["None"]=4]="None"}(i||(t.EventType=i={}));var u=function(){function e(t,n){(0,o.default)(this,e),this.privName=t,this.privEventId=(0,s.createNoDashGuid)(),this.privEventTime=(new Date).toISOString(),this.privEventType=n,this.privMetadata={}}return(0,a.default)(e,[{key:"name",get:function(){return this.privName}},{key:"eventId",get:function(){return this.privEventId}},{key:"eventTime",get:function(){return this.privEventTime}},{key:"eventType",get:function(){return this.privEventType}},{key:"metadata",get:function(){return this.privMetadata}}]),e}();t.PlatformEvent=u},8603:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0,n("d9e2"),n("d401");var i=r(n("d4ec")),o=r(n("bee2")),a=n("21c7"),s=n("903d"),u=n("3b6a"),c=n("277e"),p=n("9030"),d=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"openConnection",value:function(e,t){(0,s.marshalPromiseToCallbacks)(this.privInternalData.connect(),e,t)}},{key:"closeConnection",value:function(e,t){if(this.privInternalData instanceof a.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");(0,s.marshalPromiseToCallbacks)(this.privInternalData.disconnect(),e,t)}},{key:"setMessageProperty",value:function(e,t,n){if(c.Contracts.throwIfNullOrWhitespace(t,"propertyName"),this.privInternalData instanceof a.ServiceRecognizerBase){if("speech.context"!==e.toLowerCase())throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(t,n)}else if(this.privInternalData instanceof a.SynthesisAdapterBase){if("synthesis.context"!==e.toLowerCase())throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(t,n)}}},{key:"sendMessageAsync",value:function(e,t,n,r){(0,s.marshalPromiseToCallbacks)(this.privInternalData.sendNetworkMessage(e,t),n,r)}},{key:"close",value:function(){}},{key:"setupEvents",value:function(){var e=this;this.privEventListener=this.privInternalData.connectionEvents.attach((function(t){"ConnectionEstablishedEvent"===t.name?e.connected&&e.connected(new p.ConnectionEventArgs(t.connectionId)):"ConnectionClosedEvent"===t.name?e.disconnected&&e.disconnected(new p.ConnectionEventArgs(t.connectionId)):"ConnectionMessageSentEvent"===t.name?e.messageSent&&e.messageSent(new p.ConnectionMessageEventArgs(new u.ConnectionMessageImpl(t.message))):"ConnectionMessageReceivedEvent"===t.name&&e.messageReceived&&e.messageReceived(new p.ConnectionMessageEventArgs(new u.ConnectionMessageImpl(t.message)))})),this.privServiceEventListener=this.privInternalData.serviceEvents.attach((function(t){e.receivedServiceMessage&&e.receivedServiceMessage(new p.ServiceEventArgs(t.jsonString,t.name))}))}}],[{key:"fromRecognizer",value:function(t){var n=t.internalData,r=new e;return r.privInternalData=n,r.setupEvents(),r}},{key:"fromSynthesizer",value:function(t){var n=t.internalData,r=new e;return r.privInternalData=n,r.setupEvents(),r}}]),e}();t.Connection=d},"864e":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguageResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("277e"),s=function(){function e(t,n){(0,i.default)(this,e),a.Contracts.throwIfNullOrUndefined(t,"language"),a.Contracts.throwIfNullOrUndefined(n,"languageDetectionConfidence"),this.privLanguage=t,this.privLanguageDetectionConfidence=n}return(0,o.default)(e,[{key:"language",get:function(){return this.privLanguage}},{key:"languageDetectionConfidence",get:function(){return this.privLanguageDetectionConfidence}}],[{key:"fromResult",value:function(t){return new e(t.language,t.languageDetectionConfidence)}}]),e}();t.AutoDetectSourceLanguageResult=s},"867f":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PullAudioInputStreamCallback=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=(0,i.default)((function e(){(0,o.default)(this,e)}));t.PullAudioInputStreamCallback=a},"887b":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileEnrollmentResult=t.VoiceProfileEnrollmentCancellationDetails=void 0,n("14d9"),n("acd8");var i=r(n("262e")),o=r(n("2caf")),a=r(n("b85c")),s=r(n("d4ec")),u=r(n("bee2")),c=n("21c7"),p=n("9030"),d=function(){function e(t,n,r){(0,s.default)(this,e),this.privReason=t,this.privProperties=new p.PropertyCollection,this.privReason!==p.ResultReason.Canceled?n&&(this.privDetails=JSON.parse(n),"enrolling"===this.privDetails.enrollmentStatus.toLowerCase()&&(this.privReason=p.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=r,this.privProperties.setProperty(c.CancellationErrorCodePropertyName,p.CancellationErrorCode[p.CancellationErrorCode.ServiceError]))}return(0,u.default)(e,[{key:"reason",get:function(){return this.privReason}},{key:"enrollmentsCount",get:function(){return this.privDetails.enrollmentsCount}},{key:"enrollmentsLength",get:function(){return this.privDetails.enrollmentsLength}},{key:"properties",get:function(){return this.privProperties}},{key:"enrollmentResultDetails",get:function(){return this.privDetails}},{key:"errorDetails",get:function(){return this.privErrorDetails}}],[{key:"FromIdentificationProfileList",value:function(t){var n,r=[],i=(0,a.default)(t.value);try{for(i.s();!(n=i.n()).done;){var o=n.value,s="enrolling"===o.enrollmentStatus.toLowerCase()?p.ResultReason.EnrollingVoiceProfile:"enrolled"===o.enrollmentStatus.toLowerCase()?p.ResultReason.EnrolledVoiceProfile:p.ResultReason.Canceled,u=new e(s,null,null);u.privDetails=this.getIdentificationDetails(o),r.push(u)}}catch(c){i.e(c)}finally{i.f()}return r}},{key:"FromVerificationProfileList",value:function(t){var n,r=[],i=(0,a.default)(t.value);try{for(i.s();!(n=i.n()).done;){var o=n.value,s="enrolling"===o.enrollmentStatus.toLowerCase()?p.ResultReason.EnrollingVoiceProfile:"enrolled"===o.enrollmentStatus.toLowerCase()?p.ResultReason.EnrolledVoiceProfile:p.ResultReason.Canceled,u=new e(s,null,null);u.privDetails=this.getVerificationDetails(o),r.push(u)}}catch(c){i.e(c)}finally{i.f()}return r}},{key:"getIdentificationDetails",value:function(e){return{audioLength:e.audioLength?parseFloat(e.audioLength):0,audioSpeechLength:e.audioSpeechLength?parseFloat(e.audioSpeechLength):0,enrollmentStatus:e.enrollmentStatus,enrollmentsCount:e.enrollmentsCount||0,enrollmentsLength:e.enrollmentsLength?parseFloat(e.enrollmentsLength):0,enrollmentsSpeechLength:e.enrollmentsSpeechLength?parseFloat(e.enrollmentsSpeechLength):0,profileId:e.profileId||e.identificationProfileId,remainingEnrollmentsSpeechLength:e.remainingEnrollmentsSpeechLength?parseFloat(e.remainingEnrollmentsSpeechLength):0}}},{key:"getVerificationDetails",value:function(e){return{audioLength:e.audioLength?parseFloat(e.audioLength):0,audioSpeechLength:e.audioSpeechLength?parseFloat(e.audioSpeechLength):0,enrollmentStatus:e.enrollmentStatus,enrollmentsCount:e.enrollmentsCount,enrollmentsLength:e.enrollmentsLength?parseFloat(e.enrollmentsLength):0,enrollmentsSpeechLength:e.enrollmentsSpeechLength?parseFloat(e.enrollmentsSpeechLength):0,profileId:e.profileId||e.verificationProfileId,remainingEnrollmentsCount:e.remainingEnrollments||e.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:e.remainingEnrollmentsSpeechLength?parseFloat(e.remainingEnrollmentsSpeechLength):0}}}]),e}();t.VoiceProfileEnrollmentResult=d;var l=function(e){(0,i.default)(n,e);var t=(0,o.default)(n);function n(e,r,i){return(0,s.default)(this,n),t.call(this,e,r,i)}return(0,u.default)(n,null,[{key:"fromResult",value:function(e){var t=p.CancellationReason.Error,r=p.CancellationErrorCode.NoError;return e.properties&&(r=p.CancellationErrorCode[e.properties.getProperty(c.CancellationErrorCodePropertyName,p.CancellationErrorCode[p.CancellationErrorCode.NoError])]),new n(t,e.errorDetails,r)}}]),n}(p.CancellationDetailsBase);t.VoiceProfileEnrollmentCancellationDetails=l},8930:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AddedLmIntent=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=(0,i.default)((function e(t,n){(0,o.default)(this,e),this.modelImpl=t,this.intentName=n}));t.AddedLmIntent=a},"8a79":function(e,t,n){"use strict";var r=n("23e7"),i=n("4625"),o=n("06cf").f,a=n("50c4"),s=n("577e"),u=n("5a34"),c=n("1d80"),p=n("ab13"),d=n("c430"),l=i("".endsWith),f=i("".slice),v=Math.min,h=p("endsWith"),y=!d&&!h&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!y&&!h},{endsWith:function(e){var t=s(c(this));u(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:v(a(n),r),o=s(e);return l?l(t,o,i):f(t,i-o.length,i)===o}})},"8b09":function(e,t,n){var r=n("74e8");r("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"8c03":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t,n){var r,i=n||{},o=i.noTrailing,a=void 0!==o&&o,s=i.noLeading,u=void 0!==s&&s,c=i.debounceMode,p=void 0===c?void 0:c,d=!1,l=0;function f(){r&&clearTimeout(r)}function v(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=this,c=Date.now()-l;function v(){l=Date.now(),t.apply(s,i)}function h(){r=void 0}d||(u||!p||r||v(),f(),void 0===p&&c>e?u?(l=Date.now(),a||(r=setTimeout(p?h:v,e))):v():!0!==a&&(r=setTimeout(p?h:v,void 0===p?e-c:e)))}return v.cancel=function(e){var t=e||{},n=t.upcomingOnly,r=void 0!==n&&n;f(),d=!r},v}},"8de8":function(e,t){},"8edf":function(e,t){},"8f0b":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerVerificationModel=void 0,n("d9e2"),n("d401");var i=r(n("d4ec")),o=r(n("bee2")),a=n("277e"),s=n("9030"),u=function(){function e(t){if((0,i.default)(this,e),a.Contracts.throwIfNullOrUndefined(t,"VoiceProfile"),t.profileType===s.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=t}return(0,o.default)(e,[{key:"voiceProfile",get:function(){return this.privVoiceProfile}},{key:"profileIds",get:function(){return[this.voiceProfile.profileId]}},{key:"scenario",get:function(){return this.voiceProfile.profileType===s.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}}],[{key:"fromProfile",value:function(t){return new e(t)}}]),e}();t.SpeakerVerificationModel=u},9030:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return X.ActivityReceivedEventArgs}}),Object.defineProperty(t,"AudioConfig",{enumerable:!0,get:function(){return r.AudioConfig}}),Object.defineProperty(t,"AudioFormatTag",{enumerable:!0,get:function(){return i.AudioFormatTag}}),Object.defineProperty(t,"AudioInputStream",{enumerable:!0,get:function(){return o.AudioInputStream}}),Object.defineProperty(t,"AudioOutputStream",{enumerable:!0,get:function(){return a.AudioOutputStream}}),Object.defineProperty(t,"AudioStreamFormat",{enumerable:!0,get:function(){return i.AudioStreamFormat}}),Object.defineProperty(t,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return le.AutoDetectSourceLanguageConfig}}),Object.defineProperty(t,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return fe.AutoDetectSourceLanguageResult}}),Object.defineProperty(t,"BaseAudioPlayer",{enumerable:!0,get:function(){return te.BaseAudioPlayer}}),Object.defineProperty(t,"BotFrameworkConfig",{enumerable:!0,get:function(){return G.BotFrameworkConfig}}),Object.defineProperty(t,"CancellationDetails",{enumerable:!0,get:function(){return q.CancellationDetails}}),Object.defineProperty(t,"CancellationDetailsBase",{enumerable:!0,get:function(){return F.CancellationDetailsBase}}),Object.defineProperty(t,"CancellationErrorCode",{enumerable:!0,get:function(){return U.CancellationErrorCode}}),Object.defineProperty(t,"CancellationReason",{enumerable:!0,get:function(){return s.CancellationReason}}),Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return V.Connection}}),Object.defineProperty(t,"ConnectionEventArgs",{enumerable:!0,get:function(){return W.ConnectionEventArgs}}),Object.defineProperty(t,"ConnectionMessage",{enumerable:!0,get:function(){return re.ConnectionMessage}}),Object.defineProperty(t,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return ne.ConnectionMessageEventArgs}}),Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return ye.Conversation}}),Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return ye.ConversationExpirationEventArgs}}),Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return ye.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return ye.ConversationTranscriber}}),Object.defineProperty(t,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return Te.ConversationTranscriptionCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return S.ConversationTranscriptionEventArgs}}),Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return ye.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return ye.ConversationTranslationEventArgs}}),Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return ye.ConversationTranslationResult}}),Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return ye.ConversationTranslator}}),Object.defineProperty(t,"CustomCommandsConfig",{enumerable:!0,get:function(){return Q.CustomCommandsConfig}}),Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return Ne.Diagnostics}}),Object.defineProperty(t,"DialogServiceConfig",{enumerable:!0,get:function(){return J.DialogServiceConfig}}),Object.defineProperty(t,"DialogServiceConnector",{enumerable:!0,get:function(){return Y.DialogServiceConnector}}),Object.defineProperty(t,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return B.IntentRecognitionCanceledEventArgs}}),Object.defineProperty(t,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return v.IntentRecognitionEventArgs}}),Object.defineProperty(t,"IntentRecognitionResult",{enumerable:!0,get:function(){return g.IntentRecognitionResult}}),Object.defineProperty(t,"IntentRecognizer",{enumerable:!0,get:function(){return M.IntentRecognizer}}),Object.defineProperty(t,"KeywordRecognitionModel",{enumerable:!0,get:function(){return p.KeywordRecognitionModel}}),Object.defineProperty(t,"LanguageIdMode",{enumerable:!0,get:function(){return De.LanguageIdMode}}),Object.defineProperty(t,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return m.LanguageUnderstandingModel}}),Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return ze.LogLevel}}),Object.defineProperty(t,"NoMatchDetails",{enumerable:!0,get:function(){return L.NoMatchDetails}}),Object.defineProperty(t,"NoMatchReason",{enumerable:!0,get:function(){return z.NoMatchReason}}),Object.defineProperty(t,"OutputFormat",{enumerable:!0,get:function(){return f.OutputFormat}}),Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return ye.Participant}}),Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return ye.ParticipantChangedReason}}),Object.defineProperty(t,"PhraseListGrammar",{enumerable:!0,get:function(){return K.PhraseListGrammar}}),Object.defineProperty(t,"ProfanityOption",{enumerable:!0,get:function(){return ee.ProfanityOption}}),Object.defineProperty(t,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return Me.PronunciationAssessmentConfig}}),Object.defineProperty(t,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return Ae.PronunciationAssessmentGradingSystem}}),Object.defineProperty(t,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return xe.PronunciationAssessmentGranularity}}),Object.defineProperty(t,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return _e.PronunciationAssessmentResult}}),Object.defineProperty(t,"PropertyCollection",{enumerable:!0,get:function(){return O.PropertyCollection}}),Object.defineProperty(t,"PropertyId",{enumerable:!0,get:function(){return T.PropertyId}}),Object.defineProperty(t,"PullAudioInputStream",{enumerable:!0,get:function(){return o.PullAudioInputStream}}),Object.defineProperty(t,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return u.PullAudioInputStreamCallback}}),Object.defineProperty(t,"PullAudioOutputStream",{enumerable:!0,get:function(){return a.PullAudioOutputStream}}),Object.defineProperty(t,"PushAudioInputStream",{enumerable:!0,get:function(){return o.PushAudioInputStream}}),Object.defineProperty(t,"PushAudioOutputStream",{enumerable:!0,get:function(){return a.PushAudioOutputStream}}),Object.defineProperty(t,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return c.PushAudioOutputStreamCallback}}),Object.defineProperty(t,"RecognitionEventArgs",{enumerable:!0,get:function(){return l.RecognitionEventArgs}}),Object.defineProperty(t,"RecognitionResult",{enumerable:!0,get:function(){return h.RecognitionResult}}),Object.defineProperty(t,"Recognizer",{enumerable:!0,get:function(){return A.Recognizer}}),Object.defineProperty(t,"ResultReason",{enumerable:!0,get:function(){return R.ResultReason}}),Object.defineProperty(t,"ServiceEventArgs",{enumerable:!0,get:function(){return H.ServiceEventArgs}}),Object.defineProperty(t,"ServicePropertyChannel",{enumerable:!0,get:function(){return Z.ServicePropertyChannel}}),Object.defineProperty(t,"SessionEventArgs",{enumerable:!0,get:function(){return d.SessionEventArgs}}),Object.defineProperty(t,"SourceLanguageConfig",{enumerable:!0,get:function(){return ve.SourceLanguageConfig}}),Object.defineProperty(t,"SpeakerAudioDestination",{enumerable:!0,get:function(){return Oe.SpeakerAudioDestination}}),Object.defineProperty(t,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return pe.SpeakerIdentificationModel}}),Object.defineProperty(t,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return he.SpeakerRecognitionCancellationDetails}}),Object.defineProperty(t,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return he.SpeakerRecognitionResult}}),Object.defineProperty(t,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return he.SpeakerRecognitionResultType}}),Object.defineProperty(t,"SpeakerRecognizer",{enumerable:!0,get:function(){return ce.SpeakerRecognizer}}),Object.defineProperty(t,"SpeakerVerificationModel",{enumerable:!0,get:function(){return de.SpeakerVerificationModel}}),Object.defineProperty(t,"SpeechConfig",{enumerable:!0,get:function(){return I.SpeechConfig}}),Object.defineProperty(t,"SpeechConfigImpl",{enumerable:!0,get:function(){return I.SpeechConfigImpl}}),Object.defineProperty(t,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return C.SpeechRecognitionCanceledEventArgs}}),Object.defineProperty(t,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return S.SpeechRecognitionEventArgs}}),Object.defineProperty(t,"SpeechRecognitionResult",{enumerable:!0,get:function(){return y.SpeechRecognitionResult}}),Object.defineProperty(t,"SpeechRecognizer",{enumerable:!0,get:function(){return x.SpeechRecognizer}}),Object.defineProperty(t,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return ke.SpeechSynthesisBookmarkEventArgs}}),Object.defineProperty(t,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return Re.SpeechSynthesisBoundaryType}}),Object.defineProperty(t,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return be.SpeechSynthesisEventArgs}}),Object.defineProperty(t,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return ge.SpeechSynthesisOutputFormat}}),Object.defineProperty(t,"SpeechSynthesisResult",{enumerable:!0,get:function(){return Ce.SpeechSynthesisResult}}),Object.defineProperty(t,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return we.SpeechSynthesisVisemeEventArgs}}),Object.defineProperty(t,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return Pe.SpeechSynthesisWordBoundaryEventArgs}}),Object.defineProperty(t,"SpeechSynthesizer",{enumerable:!0,get:function(){return me.SpeechSynthesizer}}),Object.defineProperty(t,"SpeechTranslationConfig",{enumerable:!0,get:function(){return E.SpeechTranslationConfig}}),Object.defineProperty(t,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return E.SpeechTranslationConfigImpl}}),Object.defineProperty(t,"SynthesisResult",{enumerable:!0,get:function(){return Se.SynthesisResult}}),Object.defineProperty(t,"SynthesisVoicesResult",{enumerable:!0,get:function(){return Ie.SynthesisVoicesResult}}),Object.defineProperty(t,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return j.TranslationRecognitionCanceledEventArgs}}),Object.defineProperty(t,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return b.TranslationRecognitionEventArgs}}),Object.defineProperty(t,"TranslationRecognitionResult",{enumerable:!0,get:function(){return k.TranslationRecognitionResult}}),Object.defineProperty(t,"TranslationRecognizer",{enumerable:!0,get:function(){return D.TranslationRecognizer}}),Object.defineProperty(t,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return P.TranslationSynthesisEventArgs}}),Object.defineProperty(t,"TranslationSynthesisResult",{enumerable:!0,get:function(){return w.TranslationSynthesisResult}}),Object.defineProperty(t,"Translations",{enumerable:!0,get:function(){return N.Translations}}),Object.defineProperty(t,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return $.TurnStatusReceivedEventArgs}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return ye.User}}),Object.defineProperty(t,"VoiceInfo",{enumerable:!0,get:function(){return Ee.VoiceInfo}}),Object.defineProperty(t,"VoiceProfile",{enumerable:!0,get:function(){return ie.VoiceProfile}}),Object.defineProperty(t,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return ae.VoiceProfileCancellationDetails}}),Object.defineProperty(t,"VoiceProfileClient",{enumerable:!0,get:function(){return ue.VoiceProfileClient}}),Object.defineProperty(t,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return oe.VoiceProfileEnrollmentCancellationDetails}}),Object.defineProperty(t,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return oe.VoiceProfileEnrollmentResult}}),Object.defineProperty(t,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return se.VoiceProfilePhraseResult}}),Object.defineProperty(t,"VoiceProfileResult",{enumerable:!0,get:function(){return ae.VoiceProfileResult}}),Object.defineProperty(t,"VoiceProfileType",{enumerable:!0,get:function(){return _.VoiceProfileType}});var r=n("7127"),i=n("725b"),o=n("6d16"),a=n("120d"),s=n("4a68"),u=n("867f"),c=n("cd65"),p=n("7dbd"),d=n("f74c"),l=n("af49"),f=n("a1ac"),v=n("cdf8"),h=n("d4cc"),y=n("feb0"),g=n("a30d"),m=n("5aaa"),S=n("c898"),C=n("9504"),b=n("c3dc"),P=n("d5b9"),k=n("7481"),w=n("166a"),R=n("fefa"),I=n("b5e0"),E=n("af9e"),O=n("acec"),T=n("0bca"),A=n("afca"),x=n("af58"),M=n("1518"),_=n("aeb04"),D=n("3fdf"),N=n("0024"),z=n("b0c5"),L=n("34a3"),j=n("f727"),B=n("9340"),F=n("6062"),q=n("f0e9"),U=n("f798"),W=n("d518"),H=n("94c7"),V=n("8603"),K=n("de30"),J=n("567b"),G=n("0ae9"),Q=n("3139"),Y=n("ba03"),X=n("6937"),$=n("4325"),Z=n("fb36"),ee=n("726f"),te=n("bca5"),ne=n("6b49"),re=n("3b6a"),ie=n("3e8a"),oe=n("887b"),ae=n("d10a"),se=n("f04e"),ue=n("c4a3"),ce=n("80a3"),pe=n("32af"),de=n("8f0b"),le=n("333f"),fe=n("864e"),ve=n("0649"),he=n("14eb"),ye=n("d201"),ge=n("2243"),me=n("efff"),Se=n("b6f2"),Ce=n("bef4"),be=n("6f97"),Pe=n("0a15"),ke=n("206f"),we=n("19cf"),Re=n("2afb"),Ie=n("07f8"),Ee=n("5fa0"),Oe=n("57a3"),Te=n("a135"),Ae=n("2ca4"),xe=n("c3ed"),Me=n("28e6"),_e=n("a216"),De=n("e5da"),Ne=n("9723"),ze=n("3264")},"903d":function(e,t,n){"use strict";n("7a82"),n("d3b7"),n("159b"),n("b64b"),Object.defineProperty(t,"__esModule",{value:!0});var r={TranslationStatus:!0};Object.defineProperty(t,"TranslationStatus",{enumerable:!0,get:function(){return A.TranslationStatus}});var i=n("4ae4");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n("1fd9");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n("da88");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n("7b56");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var u=n("6d66");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=n("d9bf");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var p=n("0f96");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var d=n("905e");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var l=n("aafb");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=n("5628");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var v=n("7388");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var h=n("cb21");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var y=n("6b14");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var g=n("66bd");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var m=n("e85d");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var S=n("40cf");Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))}));var C=n("655d");Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var b=n("57c8");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var P=n("bd3f");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===P[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))}));var k=n("feb1");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var w=n("85d3");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var R=n("3b15");Object.keys(R).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===R[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))}));var I=n("0733");Object.keys(I).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===I[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return I[e]}}))}));var E=n("78e1");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var O=n("cdb1");Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var T=n("4138");Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===T[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))}));var A=n("b6b3"),x=n("18d3");Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))}));var M=n("ca62");Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===M[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}}))}));var _=n("f9c9");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var D=n("309c");Object.keys(D).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===D[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return D[e]}}))}));var N=n("a84f");Object.keys(N).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===N[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return N[e]}}))}))},"905e":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("0f96"),s=n("aafb"),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"setEventSource",value:function(t){if(!t)throw new a.ArgumentNullError("eventSource");e.privInstance=t}},{key:"instance",get:function(){return e.privInstance}}]),e}();t.Events=u,u.privInstance=new s.EventSource},9072:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u,n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401");var r=s(n("7e84")),i=s(n("b380")),o=s(n("fa95")),a=s(n("4478"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var n="function"===typeof Map?new Map:void 0;return t.default=u=function(e){if(null===e||!(0,o.default)(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return(0,a.default)(e,arguments,(0,r.default)(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),(0,i.default)(t,e)},u(e)}},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,p=-7,d=n?i-1:0,l=n?-1:1,f=e[t+d];for(d+=l,o=f&(1<<-p)-1,f>>=-p,p+=s;p>0;o=256*o+e[t+d],d+=l,p-=8);for(a=o&(1<<-p)-1,o>>=-p,p+=r;p>0;a=256*a+e[t+d],d+=l,p-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,p=(1<<c)-1,d=p>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,v=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+d>=1?l/u:l*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=p?(s=0,a=p):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=v,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=v,a/=256,c-=8);e[n+f-v]|=128*h}},9205:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioOutputFormatImpl=void 0,n("ace4"),n("d3b7");var i,o=r(n("ade3")),a=r(n("d4ec")),s=r(n("bee2")),u=r(n("262e")),c=r(n("2caf")),p=n("2243"),d=n("725b"),l=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(e,r,i,o,s,u,c,p,d){var l;return(0,a.default)(this,n),l=t.call(this,i,u,r,e),l.formatTag=e,l.avgBytesPerSec=o,l.blockAlign=s,l.priAudioFormatString=c,l.priRequestAudioFormatString=p,l.priHasHeader=d,l}return(0,s.default)(n,[{key:"hasHeader",get:function(){return this.priHasHeader}},{key:"header",get:function(){if(this.hasHeader)return this.privHeader}},{key:"updateHeader",value:function(e){if(this.priHasHeader){var t=new DataView(this.privHeader);t.setUint32(4,e+this.privHeader.byteLength-8,!0),t.setUint32(40,e,!0)}}},{key:"requestAudioFormatString",get:function(){return this.priRequestAudioFormatString}}],[{key:"fromSpeechSynthesisOutputFormat",value:function(e){return void 0===e?n.getDefaultOutputFormat():n.fromSpeechSynthesisOutputFormatString(n.SpeechSynthesisOutputFormatToString[e])}},{key:"fromSpeechSynthesisOutputFormatString",value:function(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new n(d.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new n(d.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new n(d.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new n(d.AudioFormatTag.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new n(d.AudioFormatTag.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new n(d.AudioFormatTag.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new n(d.AudioFormatTag.MP3,1,24e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new n(d.AudioFormatTag.MP3,1,24e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new n(d.AudioFormatTag.MP3,1,24e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new n(d.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new n(d.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new n(d.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,e,e,!1);case"ogg-24khz-16bit-mono-opus":return new n(d.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,e,e,!1);case"raw-48khz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new n(d.AudioFormatTag.MP3,1,48e3,12288,2,16,e,e,!1);case"audio-48khz-192kbitrate-mono-mp3":return new n(d.AudioFormatTag.MP3,1,48e3,24576,2,16,e,e,!1);case"ogg-48khz-16bit-mono-opus":return new n(d.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,e,e,!1);case"webm-16khz-16bit-mono-opus":return new n(d.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,e,e,!1);case"webm-24khz-16bit-mono-opus":return new n(d.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,e,e,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new n(d.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new n(d.AudioFormatTag.OPUS,1,16e3,4e3,2,16,e,e,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new n(d.AudioFormatTag.OPUS,1,24e3,6e3,2,16,e,e,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new n(d.AudioFormatTag.OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-24khz-16bit-mono-flac":return new n(d.AudioFormatTag.FLAC,1,24e3,24e3,2,16,e,e,!1);case"audio-48khz-16bit-mono-flac":return new n(d.AudioFormatTag.FLAC,1,48e3,3e4,2,16,e,e,!1);case"raw-24khz-16bit-mono-truesilk":return new n(d.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,e,e,!1);case"raw-8khz-8bit-mono-alaw":return new n(d.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,e,!1);case"riff-8khz-8bit-mono-alaw":return new n(d.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,22050,44100,2,16,e,e,!1);case"riff-22050hz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,22050,44100,2,16,e,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,44100,88200,2,16,e,e,!1);case"riff-44100hz-16bit-mono-pcm":return new n(d.AudioFormatTag.PCM,1,44100,88200,2,16,e,"raw-44100hz-16bit-mono-pcm",!0);case"riff-16khz-16bit-mono-pcm":default:return new n(d.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}},{key:"getDefaultOutputFormat",value:function(){return n.fromSpeechSynthesisOutputFormatString("undefined"!==typeof window?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}}]),n}(d.AudioStreamFormatImpl);t.AudioOutputFormatImpl=l,l.SpeechSynthesisOutputFormatToString=(i={},(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw,"raw-8khz-8bit-mono-mulaw"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren,"riff-16khz-16kbps-mono-siren"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren,"audio-16khz-16kbps-mono-siren"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3,"audio-16khz-32kbitrate-mono-mp3"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3,"audio-16khz-128kbitrate-mono-mp3"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3,"audio-16khz-64kbitrate-mono-mp3"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3,"audio-24khz-48kbitrate-mono-mp3"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3,"audio-24khz-96kbitrate-mono-mp3"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3,"audio-24khz-160kbitrate-mono-mp3"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk,"raw-16khz-16bit-mono-truesilk"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm,"riff-16khz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm,"riff-8khz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm,"riff-24khz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw,"riff-8khz-8bit-mono-mulaw"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm,"raw-16khz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm,"raw-24khz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm,"raw-8khz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus,"ogg-16khz-16bit-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus,"ogg-24khz-16bit-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm,"raw-48khz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm,"riff-48khz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3,"audio-48khz-96kbitrate-mono-mp3"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3,"audio-48khz-192kbitrate-mono-mp3"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus,"ogg-48khz-16bit-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus,"webm-16khz-16bit-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus,"webm-24khz-16bit-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus,"webm-24khz-16bit-24kbps-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk,"raw-24khz-16bit-mono-truesilk"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw,"raw-8khz-8bit-mono-alaw"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw,"riff-8khz-8bit-mono-alaw"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus,"audio-16khz-16bit-32kbps-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus,"audio-24khz-16bit-48kbps-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus,"audio-24khz-16bit-24kbps-mono-opus"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm,"raw-22050hz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm,"riff-22050hz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm,"raw-44100hz-16bit-mono-pcm"),(0,o.default)(i,p.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm,"riff-44100hz-16bit-mono-pcm"),i)},9262:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.QueryParameterNames=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=(0,i.default)((function e(){(0,o.default)(this,e)}));t.QueryParameterNames=a,a.BotId="botid",a.CustomSpeechDeploymentId="cid",a.CustomVoiceDeploymentId="deploymentId",a.EnableAudioLogging="storeAudio",a.EnableLanguageId="lidEnabled",a.EnableWordLevelTimestamps="wordLevelTimestamps",a.EndSilenceTimeoutMs="endSilenceTimeoutMs",a.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs",a.Format="format",a.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",a.Language="language",a.Profanity="profanity",a.RequestBotStatusMessages="enableBotMessageStatus",a.StableIntermediateThreshold="stableIntermediateThreshold",a.StableTranslation="stableTranslation",a.TestHooks="testhooks",a.Postprocessing="postprocessing",a.CtsMeetingId="meetingId",a.CtsDeviceId="deviceId",a.CtsIsParticipant="isParticipant"},9271:function(e,t,n){"use strict";n("7a82"),n("d3b7"),n("159b"),n("b64b"),Object.defineProperty(t,"__esModule",{value:!0});var r=n("986f");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n("8edf");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n("d9e2d");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n("e833");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n("b90b");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var u=n("719f");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=n("83f9");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var p=n("3d62");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var d=n("d379");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var l=n("ce40");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=n("b07a");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}))},9340:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionCanceledEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s,u){var c;return(0,i.default)(this,n),c=t.call(this,a,s,u),c.privReason=e,c.privErrorDetails=r,c.privErrorCode=o,c}return(0,o.default)(n,[{key:"reason",get:function(){return this.privReason}},{key:"errorCode",get:function(){return this.privErrorCode}},{key:"errorDetails",get:function(){return this.privErrorDetails}}]),n}(u.IntentRecognitionEventArgs);t.IntentRecognitionCanceledEventArgs=c},9342:function(e,t,n){"use strict";var r,i;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisStatus=t.RecognitionStatus=void 0,t.SynthesisStatus=r,function(e){e[e["Success"]=0]="Success",e[e["SynthesisEnd"]=1]="SynthesisEnd",e[e["Error"]=2]="Error"}(r||(t.SynthesisStatus=r={})),t.RecognitionStatus=i,function(e){e[e["Success"]=0]="Success",e[e["NoMatch"]=1]="NoMatch",e[e["InitialSilenceTimeout"]=2]="InitialSilenceTimeout",e[e["BabbleTimeout"]=3]="BabbleTimeout",e[e["Error"]=4]="Error",e[e["EndOfDictation"]=5]="EndOfDictation",e[e["TooManyRequests"]=6]="TooManyRequests",e[e["BadRequest"]=7]="BadRequest",e[e["Forbidden"]=8]="Forbidden"}(i||(t.RecognitionStatus=i={}))},"94c7":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,o),a.privJsonResult=e,a.privEventName=r,a}return(0,o.default)(n,[{key:"jsonString",get:function(){return this.privJsonResult}},{key:"eventName",get:function(){return this.privEventName}}]),n}(u.SessionEventArgs);t.ServiceEventArgs=c},9504:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionCanceledEventArgs=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=r(n("262e")),s=r(n("2caf")),u=n("6b16"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n)}(u.CancellationEventArgsBase);t.SpeechRecognitionCanceledEventArgs=c},9523:function(e,t,n){n("7a82");var r=n("a395");e.exports=function(e,t,n){return t=r(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"970b":function(e,t,n){n("d9e2"),n("d401"),e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},9723:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0,n("d9e2"),n("d401");var i=r(n("d4ec")),o=r(n("bee2")),a=n("9271"),s=n("903d"),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"SetLoggingLevel",value:function(e){this.privListener=new a.ConsoleLoggingListener(e),s.Events.instance.attachConsoleListener(this.privListener)}},{key:"StartConsoleOutput",value:function(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}},{key:"StopConsoleOutput",value:function(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}},{key:"SetLogOutputPath",value:function(e){if("undefined"!==typeof window)throw new Error("File system logging not available in browser.");this.privListener&&(this.privListener.logPath=e)}}]),e}();t.Diagnostics=u,u.privListener=void 0},9802:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionConfig=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("b07a"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,null,[{key:"host",get:function(){return n.privHost}},{key:"apiVersion",get:function(){return n.privApiVersion}},{key:"clientAppId",get:function(){return n.privClientAppId}},{key:"defaultLanguageCode",get:function(){return n.privDefaultLanguageCode}},{key:"restPath",get:function(){return n.privRestPath}},{key:"webSocketPath",get:function(){return n.privWebSocketPath}},{key:"transcriptionEventKeys",get:function(){return n.privTranscriptionEventKeys}}]),n}(u.RestConfigBase);t.ConversationConnectionConfig=c,c.privHost="dev.microsofttranslator.com",c.privRestPath="/capito/room",c.privApiVersion="2.0",c.privDefaultLanguageCode="en-US",c.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15",c.privWebSocketPath="/capito/translate",c.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"]},"986f":function(e,t,n){"use strict";n("7a82");var r=n("dbce").default,i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLoggingListener=void 0,n("d401"),n("d3b7"),n("25f0"),n("e9c4"),n("14d9"),n("99af");var o=i(n("d4ec")),a=i(n("bee2")),s=r(n(1)),u=n("3264"),c=n("277e"),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.LogLevel.None;(0,o.default)(this,e),this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=t}return(0,a.default)(e,[{key:"logPath",set:function(e){c.Contracts.throwIfNullOrUndefined(s.openSync,"\nFile System access not available"),this.privLogPath=e}},{key:"enableConsoleOutput",set:function(e){this.privEnableConsoleOutput=e}},{key:"onEvent",value:function(e){if(e.eventType>=this.privLogLevelFilter){var t=this.toString(e);if(this.privLogPath&&s.writeFileSync(this.privLogPath,t+"\n",{flag:"a+"}),this.privEnableConsoleOutput)switch(e.eventType){case u.LogLevel.Debug:console.debug(t);break;case u.LogLevel.Info:console.info(t);break;case u.LogLevel.Warning:console.warn(t);break;case u.LogLevel.Error:console.error(t);break;default:console.log(t);break}}}},{key:"toString",value:function(e){var t=["".concat(e.eventTime),"".concat(e.name)],n=e;for(var r in n)if(r&&e.hasOwnProperty(r)&&"eventTime"!==r&&"eventType"!==r&&"eventId"!==r&&"name"!==r&&"constructor"!==r){var i=n[r],o="<NULL>";void 0!==i&&null!==i&&(o="number"===typeof i||"string"===typeof i?i.toString():JSON.stringify(i)),t.push("".concat(r,": ").concat(o))}return t.join(" | ")}}]),e}();t.ConsoleLoggingListener=p},"99de":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t&&("object"===(0,r.default)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.default)(e)},n("d9e2"),n("d401");var r=o(n("53ca")),i=o(n("257e"));function o(e){return e&&e.__esModule?e:{default:e}}},"9a0c":function(e,t,n){var r=n("342f");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},"9b42":function(e,t,n){n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("14d9"),e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports["default"]=e.exports},a074:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.translayer[data-v-1a36acef]{width:100%;height:100%;display:flex}.translayer .session[data-v-1a36acef]{height:100%;width:70%;overflow-y:scroll;background-color:#000d29;padding:0 12px;position:relative}.translayer .session .new[data-v-1a36acef]{border:1px solid #353535;padding:12px;height:22px;line-height:22px;background:url(/static/icon_newchat.png) no-repeat 8px;background-size:12px auto;padding-left:30px;color:#fff;margin-top:20px;margin-bottom:20px;border-radius:3px;font-weight:700}.translayer .session .history[data-v-1a36acef]{padding:13px;height:22px;line-height:22px;background:url(/static/icon_chat.png) no-repeat 8px;background-size:15px auto;padding-left:30px;display:flex;justify-content:space-between;border-radius:3px}.translayer .session .history .btn[data-v-1a36acef]{display:flex;justify-content:flex-end;flex-direction:row}.translayer .session .history .btn uni-image[data-v-1a36acef]{height:20px;width:20px;padding:0 3px}.translayer .session .history .text[data-v-1a36acef]{color:#ececf1;max-width:%?340?%;height:22px;overflow:hidden}.translayer .session .on[data-v-1a36acef]{background-color:#262738}.translayer .session .detail[data-v-1a36acef]{position:absolute;bottom:0;left:0;right:0;background-color:#000a1f;color:#393c44;font-size:13px;padding:12px}.translayer .role[data-v-1a36acef]{height:100%;width:70%;overflow-y:scroll;background-color:#000d29;padding:0 12px}.translayer .role .tit[data-v-1a36acef]{padding:12px 0;color:#ececf1;font-size:15px}.translayer .role .li[data-v-1a36acef]{margin-bottom:12px}.translayer .role .li .rname[data-v-1a36acef]{background:url(/static/preset.png) no-repeat 0;background-size:15px auto;padding-left:20px;color:#d2d2d2;font-weight:700;margin-bottom:5px}.translayer .role .li .rdes[data-v-1a36acef]{color:#8e8e8e;font-size:13px;height:20px;line-height:20px;overflow:hidden;padding-left:20px}.top[data-v-1a36acef]{padding-top:0;height:48px;line-height:48px;background:#fbfbfb;position:fixed;top:0;left:0;right:0;z-index:2;border-bottom:1px solid #f8f8f8}.top .left[data-v-1a36acef]{position:absolute;left:12px;bottom:12px;height:24px;line-height:23px;border-radius:100px;font-size:12px;padding-left:26px;padding-right:12px;color:#fff;background:#3476fe url(/static/add.png) no-repeat 8px;background-size:16px auto}.top .right[data-v-1a36acef]{position:absolute;right:0;bottom:0;height:48px}.top .right uni-image[data-v-1a36acef]{height:22px;width:22px;padding:13px}.top .title[data-v-1a36acef]{font-size:15px;font-weight:700;text-align:center}.top .set[data-v-1a36acef]{position:absolute;top:56px;right:8px;z-index:2}.top .set .arrow[data-v-1a36acef]{margin-top:0;background:url(/static/icon_arrow.png) no-repeat 88px top;background-size:auto 7px;height:6px}.top .set .ul[data-v-1a36acef]{border-radius:3px;padding-left:15px;background-color:#202123}.top .set .ul .li[data-v-1a36acef]{padding-right:15px;line-height:42px;font-size:13px;border-bottom:1px solid #2c2d2f;display:flex;align-items:center;color:#fff}.top .set .ul .li uni-image[data-v-1a36acef]{height:20px;width:20px;margin-right:8px}.main[data-v-1a36acef]{padding-bottom:135px;margin-top:%?24?%}.main .list[data-v-1a36acef]{padding:0 %?24?%}.main .list .li[data-v-1a36acef]{display:flex;flex-direction:row;align-items:flex-end;margin-bottom:12px}.main .list .li .head[data-v-1a36acef]{width:%?58?%;height:%?58?%;border-radius:100%}.main .list .li .text[data-v-1a36acef]{max-width:%?510?%;margin-left:%?20?%;padding:5px %?18?%;line-height:20px;background-color:#f8f8f8;border-radius:5px;border-bottom-left-radius:0}.main .list .li .ques[data-v-1a36acef]{background-color:#f0f5ff}.main .list .li .play[data-v-1a36acef]{background:url(/static/play.png) no-repeat 50%;background-size:18px auto;height:30px;width:30px}.main .list .li .retry[data-v-1a36acef]{background:url(/static/retry.png) no-repeat 50%;background-size:14px auto;height:30px;width:30px}.main .list .li .pause[data-v-1a36acef]{background:url(/static/pause.png) no-repeat 50%;background-size:14px auto;height:30px;width:30px}.main .list .li .loading[data-v-1a36acef]{background:url(/static/loading.gif) no-repeat 50%;background-size:auto 4px;height:20px;width:20px}.bot[data-v-1a36acef]{position:fixed;bottom:0;left:0;right:0;padding-top:12px;background-color:#fff}.bot .cont[data-v-1a36acef]{padding:0 %?24?%}.bot .cont .preset[data-v-1a36acef]{display:flex;flex-direction:row;position:relative;height:25px;line-height:25px;margin-bottom:10px;overflow:hidden}.bot .cont .preset .item[data-v-1a36acef]{padding:0 5px;background:url(/static/preset.png) no-repeat 0;background-size:15px auto;padding-left:20px;margin-right:5px;max-width:80px}.bot .cont .preset .more[data-v-1a36acef]{position:absolute;right:0;color:#777}.bot .cont .question[data-v-1a36acef]{padding:16px 10px;border-radius:5px;background-color:#f0f5ff;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-end}.bot .cont .question .text[data-v-1a36acef]{display:flex;flex-direction:row;align-items:flex-end}.bot .cont .question .text .img[data-v-1a36acef]{height:26px;width:26px}.bot .cont .question .text .ipt[data-v-1a36acef]{height:20px;line-height:20px;padding:3px 0;width:%?480?%;font-size:13px;font-weight:700;margin-left:12px}.bot .cont .question .send[data-v-1a36acef]{height:28px;width:28px;background:url(/static/send2.png) no-repeat 50%;background-size:34px auto}',""]),e.exports=t},a0a1:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisTriggeredEvent=t.SynthesisStartedEvent=t.SpeechSynthesisEvent=t.ConnectingToSynthesisServiceEvent=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("903d"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.EventType.Info;return(0,i.default)(this,n),o=t.call(this,e,a),o.privRequestId=r,o}return(0,o.default)(n,[{key:"requestId",get:function(){return this.privRequestId}}]),n}(u.PlatformEvent);t.SpeechSynthesisEvent=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,"SynthesisTriggeredEvent",e),a.privSessionAudioDestinationId=r,a.privTurnAudioDestinationId=o,a}return(0,o.default)(n,[{key:"audioSessionDestinationId",get:function(){return this.privSessionAudioDestinationId}},{key:"audioTurnDestinationId",get:function(){return this.privTurnAudioDestinationId}}]),n}(c);t.SynthesisTriggeredEvent=p;var d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,"ConnectingToSynthesisServiceEvent",e),o.privAuthFetchEventId=r,o}return(0,o.default)(n,[{key:"authFetchEventId",get:function(){return this.privAuthFetchEventId}}]),n}(c);t.ConnectingToSynthesisServiceEvent=d;var l=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,"SynthesisStartedEvent",e),o.privAuthFetchEventId=r,o}return(0,o.default)(n,[{key:"authFetchEventId",get:function(){return this.privAuthFetchEventId}}]),n}(c);t.SynthesisStartedEvent=l},a0cb:function(e,t,n){"use strict";n.r(t);var r=n("4b8a"),i=n("633e");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("4111");var a=n("f0c5"),s=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,"1a36acef",null,!1,r["a"],void 0);t["default"]=s.exports},a128:function(e,t,n){n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401");var r=n("36c6"),i=n("4a4b"),o=n("c5f7"),a=n("b17c");function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},a135:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriptionCanceledEventArgs=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=r(n("262e")),s=r(n("2caf")),u=n("6b16"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n)}(u.CancellationEventArgsBase);t.ConversationTranscriptionCanceledEventArgs=c},a1ac:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.OutputFormat=void 0,t.OutputFormat=r,function(e){e[e["Simple"]=0]="Simple",e[e["Detailed"]=1]="Detailed"}(r||(t.OutputFormat=r={}))},a216:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("277e"),s=n("9030"),u=function(){function e(t){(0,i.default)(this,e);var n=JSON.parse(t);a.Contracts.throwIfNullOrUndefined(n.NBest[0],"NBest"),this.privPronJson=n.NBest[0]}return(0,o.default)(e,[{key:"detailResult",get:function(){return this.privPronJson}},{key:"accuracyScore",get:function(){return this.detailResult.PronunciationAssessment.AccuracyScore}},{key:"pronunciationScore",get:function(){return this.detailResult.PronunciationAssessment.PronScore}},{key:"completenessScore",get:function(){return this.detailResult.PronunciationAssessment.CompletenessScore}},{key:"fluencyScore",get:function(){return this.detailResult.PronunciationAssessment.FluencyScore}}],[{key:"fromResult",value:function(t){a.Contracts.throwIfNullOrUndefined(t,"result");var n=t.properties.getProperty(s.PropertyId.SpeechServiceResponse_JsonResult);return a.Contracts.throwIfNullOrUndefined(n,"json"),new e(n)}}]),e}();t.PronunciationAssessmentResult=u},a303:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CommandResponsePayload",{enumerable:!0,get:function(){return r.CommandResponsePayload}}),Object.defineProperty(t,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return i.ParticipantPayloadResponse}}),Object.defineProperty(t,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return i.ParticipantsListPayloadResponse}}),Object.defineProperty(t,"SpeechResponsePayload",{enumerable:!0,get:function(){return o.SpeechResponsePayload}}),Object.defineProperty(t,"TextResponsePayload",{enumerable:!0,get:function(){return o.TextResponsePayload}});var r=n("a39e"),i=n("4b37"),o=n("65fd")},a30d:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s,u,c,p,d,l,f){var v;return(0,i.default)(this,n),v=t.call(this,r,o,a,s,u,c,p,void 0,d,l,f),v.privIntentId=e,v}return(0,o.default)(n,[{key:"intentId",get:function(){return this.privIntentId}}]),n}(u.SpeechRecognitionResult);t.IntentRecognitionResult=c},a395:function(e,t,n){var r=n("7037")["default"],i=n("e50d");e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a39e:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.CommandResponsePayload=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privCommandResponse=function(e){return JSON.parse(e)}(t)}return(0,o.default)(e,[{key:"type",get:function(){return this.privCommandResponse.type}},{key:"command",get:function(){return this.privCommandResponse.command}},{key:"id",get:function(){return this.privCommandResponse.id}},{key:"nickname",get:function(){return this.privCommandResponse.nickname}},{key:"participantId",get:function(){return this.privCommandResponse.participantId}},{key:"roomid",get:function(){return this.privCommandResponse.roomid}},{key:"value",get:function(){return this.privCommandResponse.value}},{key:"token",get:function(){return this.privCommandResponse.token}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.CommandResponsePayload=a},a4bf:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationCanceledEventArgs=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=r(n("262e")),s=r(n("2caf")),u=n("6b16"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n)}(u.CancellationEventArgsBase);t.ConversationTranslationCanceledEventArgs=c},a60e:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.EnumTranslation=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("9030"),s=n("21c7"),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"implTranslateRecognitionResult",value:function(e){var t=a.ResultReason.Canceled;switch(e){case s.RecognitionStatus.Success:t=a.ResultReason.RecognizedSpeech;break;case s.RecognitionStatus.NoMatch:case s.RecognitionStatus.InitialSilenceTimeout:case s.RecognitionStatus.BabbleTimeout:case s.RecognitionStatus.EndOfDictation:t=a.ResultReason.NoMatch;break;case s.RecognitionStatus.Error:case s.RecognitionStatus.BadRequest:case s.RecognitionStatus.Forbidden:default:t=a.ResultReason.Canceled;break}return t}},{key:"implTranslateCancelResult",value:function(e){var t=a.CancellationReason.EndOfStream;switch(e){case s.RecognitionStatus.Success:case s.RecognitionStatus.EndOfDictation:case s.RecognitionStatus.NoMatch:t=a.CancellationReason.EndOfStream;break;case s.RecognitionStatus.InitialSilenceTimeout:case s.RecognitionStatus.BabbleTimeout:case s.RecognitionStatus.Error:case s.RecognitionStatus.BadRequest:case s.RecognitionStatus.Forbidden:default:t=a.CancellationReason.Error;break}return t}},{key:"implTranslateCancelErrorCode",value:function(e){var t=a.CancellationErrorCode.NoError;switch(e){case s.RecognitionStatus.Error:t=a.CancellationErrorCode.ServiceError;break;case s.RecognitionStatus.TooManyRequests:t=a.CancellationErrorCode.TooManyRequests;break;case s.RecognitionStatus.BadRequest:t=a.CancellationErrorCode.BadRequestParameters;break;case s.RecognitionStatus.Forbidden:t=a.CancellationErrorCode.Forbidden;break;default:t=a.CancellationErrorCode.NoError;break}return t}},{key:"implTranslateErrorDetails",value:function(e){var t="The speech service encountered an internal error and could not continue.";switch(e){case a.CancellationErrorCode.Forbidden:t="The recognizer is using a free subscription that ran out of quota.";break;case a.CancellationErrorCode.BadRequestParameters:t="Invalid parameter or unsupported audio format in the request.";break;case a.CancellationErrorCode.TooManyRequests:t="The number of parallel requests exceeded the number of allowed concurrent transcriptions.";break;default:break}return t}}]),e}();t.EnumTranslation=u},a695:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisConnectionFactory=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("9271"),s=n("9030"),u=n("4061"),c=n("21c7"),p=n("574d"),d=n("9262"),l=function(){function e(){(0,i.default)(this,e),this.synthesisUri="/cognitiveservices/websocket/v1"}return(0,o.default)(e,[{key:"create",value:function(e,t,n){var r=e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Endpoint,void 0),i=e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Region,void 0),o=u.ConnectionFactoryBase.getHostSuffix(i),l=e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId,void 0),f=void 0===l?"tts":"voice",v=e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Host,"wss://"+i+"."+f+".speech"+o);r||(r=v+this.synthesisUri);var h={};void 0!==t.token&&""!==t.token&&(h[t.headerName]=t.token),h[p.HeaderNames.ConnectionId]=n,void 0!==l&&(h[d.QueryParameterNames.CustomVoiceDeploymentId]=l),e.parameters.setProperty(s.PropertyId.SpeechServiceConnection_Url,r);var y="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new a.WebsocketConnection(r,{},h,new c.WebsocketMessageFormatter,a.ProxyInfo.fromParameters(e.parameters),y,n)}}]),e}();t.SpeechSynthesisConnectionFactory=l},a84f:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundEvent=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("903d"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,"BackgroundEvent",u.EventType.Error),r.privError=e,r}return(0,o.default)(n,[{key:"error",get:function(){return this.privError}}]),n}(u.PlatformEvent);t.BackgroundEvent=c},a931:function(e,t){},aafb:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.EventSource=void 0,n("d3b7");var i=r(n("d4ec")),o=r(n("bee2")),a=n("0f96"),s=n("5628"),u=function(){function e(t){(0,i.default)(this,e),this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=t}return(0,o.default)(e,[{key:"onEvent",value:function(e){if(this.isDisposed())throw new a.ObjectDisposedError("EventSource");if(this.metadata)for(var t in this.metadata)t&&e.metadata&&(e.metadata[t]||(e.metadata[t]=this.metadata[t]));for(var n in this.privEventListeners)n&&this.privEventListeners[n]&&this.privEventListeners[n](e)}},{key:"attach",value:function(e){var t=this,n=(0,s.createNoDashGuid)();return this.privEventListeners[n]=e,{detach:function(){return delete t.privEventListeners[n],Promise.resolve()}}}},{key:"attachListener",value:function(e){return this.attach((function(t){return e.onEvent(t)}))}},{key:"attachConsoleListener",value:function(e){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach((function(t){return e.onEvent(t)})),this.privConsoleListener}},{key:"isDisposed",value:function(){return this.privIsDisposed}},{key:"dispose",value:function(){this.privEventListeners=null,this.privIsDisposed=!0}},{key:"metadata",get:function(){return this.privMetadata}}]),e}();t.EventSource=u},acac:function(e,t,n){"use strict";var r=n("e330"),i=n("6964"),o=n("f183").getWeakData,a=n("19aa"),s=n("825a"),u=n("7234"),c=n("861d"),p=n("2266"),d=n("b727"),l=n("1a2d"),f=n("69f3"),v=f.set,h=f.getterFor,y=d.find,g=d.findIndex,m=r([].splice),S=0,C=function(e){return e.frozen||(e.frozen=new b)},b=function(){this.entries=[]},P=function(e,t){return y(e.entries,(function(e){return e[0]===t}))};b.prototype={get:function(e){var t=P(this,e);if(t)return t[1]},has:function(e){return!!P(this,e)},set:function(e,t){var n=P(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&m(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){a(e,f),v(e,{type:t,id:S++,frozen:void 0}),u(i)||p(i,e[r],{that:e,AS_ENTRIES:n})})),f=d.prototype,y=h(t),g=function(e,t,n){var r=y(e),i=o(s(t),!0);return!0===i?C(r).set(t,n):i[r.id]=n,e};return i(f,{delete:function(e){var t=y(this);if(!c(e))return!1;var n=o(e);return!0===n?C(t)["delete"](e):n&&l(n,t.id)&&delete n[t.id]},has:function(e){var t=y(this);if(!c(e))return!1;var n=o(e);return!0===n?C(t).has(e):n&&l(n,t.id)}}),i(f,n?{get:function(e){var t=y(this);if(c(e)){var n=o(e);return!0===n?C(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),d}}},acc1:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DetailedSpeechPhrase=void 0,n("e9c4");var i=r(n("b85c")),o=r(n("d4ec")),a=r(n("bee2")),s=n("21c7"),u=function(){function e(t){(0,o.default)(this,e),this.privDetailedSpeechPhrase=JSON.parse(t),this.privDetailedSpeechPhrase.RecognitionStatus=s.RecognitionStatus[this.privDetailedSpeechPhrase.RecognitionStatus]}return(0,a.default)(e,[{key:"getJsonWithCorrectedOffsets",value:function(e){if(this.privDetailedSpeechPhrase.NBest){var t,n,r=(0,i.default)(this.privDetailedSpeechPhrase.NBest);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.Words&&o.Words[0]){t=o.Words[0].Offset;break}}}catch(y){r.e(y)}finally{r.f()}if(t&&t<e){var a,s=e-t,u=(0,i.default)(this.privDetailedSpeechPhrase.NBest);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(c.Words){var p,d=(0,i.default)(c.Words);try{for(d.s();!(p=d.n()).done;){var l=p.value;l.Offset+=s}}catch(y){d.e(y)}finally{d.f()}}if(c.DisplayWords){var f,v=(0,i.default)(c.DisplayWords);try{for(v.s();!(f=v.n()).done;){var h=f.value;h.Offset+=s}}catch(y){v.e(y)}finally{v.f()}}}}catch(y){u.e(y)}finally{u.f()}}}return JSON.stringify(this.privDetailedSpeechPhrase)}},{key:"RecognitionStatus",get:function(){return this.privDetailedSpeechPhrase.RecognitionStatus}},{key:"NBest",get:function(){return this.privDetailedSpeechPhrase.NBest}},{key:"Duration",get:function(){return this.privDetailedSpeechPhrase.Duration}},{key:"Offset",get:function(){return this.privDetailedSpeechPhrase.Offset}},{key:"Language",get:function(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}},{key:"LanguageDetectionConfidence",get:function(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}},{key:"Text",get:function(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}},{key:"SpeakerId",get:function(){return this.privDetailedSpeechPhrase.SpeakerId}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.DetailedSpeechPhrase=u},acec:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyCollection=void 0,n("14d9"),n("d3b7"),n("159b");var i=r(n("d4ec")),o=r(n("bee2")),a=n("9030"),s=function(){function e(){(0,i.default)(this,e),this.privKeys=[],this.privValues=[]}return(0,o.default)(e,[{key:"getProperty",value:function(e,t){var n;n="string"===typeof e?e:a.PropertyId[e];for(var r=0;r<this.privKeys.length;r++)if(this.privKeys[r]===n)return this.privValues[r];if(void 0!==t)return String(t)}},{key:"setProperty",value:function(e,t){var n;n="string"===typeof e?e:a.PropertyId[e];for(var r=0;r<this.privKeys.length;r++)if(this.privKeys[r]===n)return void(this.privValues[r]=t);this.privKeys.push(n),this.privValues.push(t)}},{key:"clone",value:function(){for(var t=new e,n=0;n<this.privKeys.length;n++)t.privKeys.push(this.privKeys[n]),t.privValues.push(this.privValues[n]);return t}},{key:"mergeTo",value:function(e){var t=this;this.privKeys.forEach((function(n){if(void 0===e.getProperty(n,void 0)){var r=t.getProperty(n);e.setProperty(n,r)}}))}},{key:"keys",get:function(){return this.privKeys}}]),e}();t.PropertyCollection=s},aeb04:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileType=void 0,t.VoiceProfileType=r,function(e){e[e["TextIndependentIdentification"]=0]="TextIndependentIdentification",e[e["TextDependentVerification"]=1]="TextDependentVerification",e[e["TextIndependentVerification"]=2]="TextIndependentVerification"}(r||(t.VoiceProfileType=r={}))},af49:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,r),o.privOffset=e,o}return(0,o.default)(n,[{key:"offset",get:function(){return this.privOffset}}]),n}(u.SessionEventArgs);t.RecognitionEventArgs=c},af58:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("45eb")),u=r(n("7e84")),c=r(n("262e")),p=r(n("2caf"));n("d3b7");var d=n("21c7"),l=n("903d"),f=n("277e"),v=n("9030"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e,r){var i;(0,o.default)(this,n);var a=e;return f.Contracts.throwIfNull(a,"speechConfig"),f.Contracts.throwIfNullOrWhitespace(a.properties.getProperty(v.PropertyId.SpeechServiceConnection_RecoLanguage),v.PropertyId[v.PropertyId.SpeechServiceConnection_RecoLanguage]),i=t.call(this,r,a.properties,new d.SpeechConnectionFactory),i.privDisposedRecognizer=!1,i}return(0,a.default)(n,[{key:"endpointId",get:function(){return f.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(v.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}},{key:"authorizationToken",get:function(){return this.properties.getProperty(v.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){f.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(v.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"speechRecognitionLanguage",get:function(){return f.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(v.PropertyId.SpeechServiceConnection_RecoLanguage)}},{key:"outputFormat",get:function(){return f.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(d.OutputFormatPropertyName,v.OutputFormat[v.OutputFormat.Simple])===v.OutputFormat[v.OutputFormat.Simple]?v.OutputFormat.Simple:v.OutputFormat.Detailed}},{key:"properties",get:function(){return this.privProperties}},{key:"recognizeOnceAsync",value:function(e,t){(0,l.marshalPromiseToCallbacks)(this.recognizeOnceAsyncImpl(d.RecognitionMode.Interactive),e,t)}},{key:"startContinuousRecognitionAsync",value:function(e,t){(0,l.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(d.RecognitionMode.Conversation),e,t)}},{key:"stopContinuousRecognitionAsync",value:function(e,t){(0,l.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),e,t)}},{key:"startKeywordRecognitionAsync",value:function(e,t,n){f.Contracts.throwIfNull(e,"model"),n&&n("Not yet implemented.")}},{key:"stopKeywordRecognitionAsync",value:function(e){e&&e()}},{key:"close",value:function(e,t){f.Contracts.throwIfDisposed(this.privDisposedRecognizer),(0,l.marshalPromiseToCallbacks)(this.dispose(!0),e,t)}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,s.default)((0,u.default)(n.prototype),"dispose",t)}}});return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposedRecognizer){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=6;break}return this.privDisposedRecognizer=!0,t.next=6,this.implRecognizerStop();case 6:return t.next=8,r.dispose.call(this,e);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"createRecognizerConfig",value:function(e){return new d.RecognizerConfig(e,this.privProperties)}},{key:"createServiceRecognizer",value:function(e,t,n,r){var i=n;return new d.SpeechServiceRecognizer(e,t,i,r,this)}}],[{key:"FromConfig",value:function(e,t,r){var i=e;t.properties.mergeTo(i.properties);var o=new n(e,r);return o}}]),n}(v.Recognizer);t.SpeechRecognizer=y},af9e:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechTranslationConfigImpl=t.SpeechTranslationConfig=void 0,n("14d9"),n("e9c4");var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("21c7"),c=n("277e"),p=n("9030"),d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.call(this)}return(0,o.default)(n,null,[{key:"fromSubscription",value:function(e,t){c.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),c.Contracts.throwIfNullOrWhitespace(t,"region");var n=new l;return n.properties.setProperty(p.PropertyId.SpeechServiceConnection_Key,e),n.properties.setProperty(p.PropertyId.SpeechServiceConnection_Region,t),n}},{key:"fromAuthorizationToken",value:function(e,t){c.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),c.Contracts.throwIfNullOrWhitespace(t,"region");var n=new l;return n.properties.setProperty(p.PropertyId.SpeechServiceAuthorization_Token,e),n.properties.setProperty(p.PropertyId.SpeechServiceConnection_Region,t),n}},{key:"fromHost",value:function(e,t){c.Contracts.throwIfNull(e,"hostName");var n=new l;return n.setProperty(p.PropertyId.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&n.setProperty(p.PropertyId.SpeechServiceConnection_Key,t),n}},{key:"fromEndpoint",value:function(e,t){c.Contracts.throwIfNull(e,"endpoint"),c.Contracts.throwIfNull(t,"subscriptionKey");var n=new l;return n.properties.setProperty(p.PropertyId.SpeechServiceConnection_Endpoint,e.href),n.properties.setProperty(p.PropertyId.SpeechServiceConnection_Key,t),n}}]),n}(p.SpeechConfig);t.SpeechTranslationConfig=d;var l=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){var e;return(0,i.default)(this,n),e=t.call(this),e.privSpeechProperties=new p.PropertyCollection,e.outputFormat=p.OutputFormat.Simple,e}return(0,o.default)(n,[{key:"authorizationToken",set:function(e){c.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"speechRecognitionLanguage",get:function(){return this.privSpeechProperties.getProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_RecoLanguage])},set:function(e){c.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceConnection_RecoLanguage,e)}},{key:"subscriptionKey",get:function(){return this.privSpeechProperties.getProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_Key])}},{key:"outputFormat",get:function(){return p.OutputFormat[this.privSpeechProperties.getProperty(u.OutputFormatPropertyName,void 0)]},set:function(e){this.privSpeechProperties.setProperty(u.OutputFormatPropertyName,p.OutputFormat[e])}},{key:"endpointId",get:function(){return this.privSpeechProperties.getProperty(p.PropertyId.SpeechServiceConnection_EndpointId)},set:function(e){this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceConnection_EndpointId,e)}},{key:"addTargetLanguage",value:function(e){c.Contracts.throwIfNullOrWhitespace(e,"value");var t=this.targetLanguages;t.push(e),this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(","))}},{key:"targetLanguages",get:function(){return void 0!==this.privSpeechProperties.getProperty(p.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?this.privSpeechProperties.getProperty(p.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}},{key:"voiceName",get:function(){return this.getProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_TranslationVoice])},set:function(e){c.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceConnection_TranslationVoice,e)}},{key:"region",get:function(){return this.privSpeechProperties.getProperty(p.PropertyId.SpeechServiceConnection_Region)}},{key:"setProxy",value:function(e,t,n,r){this.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_ProxyHostName],e),this.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_ProxyPort],t),this.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_ProxyUserName],n),this.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_ProxyPassword],r)}},{key:"getProperty",value:function(e,t){return this.privSpeechProperties.getProperty(e,t)}},{key:"setProperty",value:function(e,t){this.privSpeechProperties.setProperty(e,t)}},{key:"properties",get:function(){return this.privSpeechProperties}},{key:"close",value:function(){}},{key:"setServiceProperty",value:function(e,t){var n=JSON.parse(this.privSpeechProperties.getProperty(u.ServicePropertiesPropertyName,"{}"));n[e]=t,this.privSpeechProperties.setProperty(u.ServicePropertiesPropertyName,JSON.stringify(n))}},{key:"setProfanity",value:function(e){this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceResponse_ProfanityOption,p.ProfanityOption[e])}},{key:"enableAudioLogging",value:function(){this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}},{key:"requestWordLevelTimestamps",value:function(){this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}},{key:"enableDictation",value:function(){this.privSpeechProperties.setProperty(u.ForceDictationPropertyName,"true")}},{key:"speechSynthesisLanguage",get:function(){return this.privSpeechProperties.getProperty(p.PropertyId.SpeechServiceConnection_SynthLanguage)},set:function(e){this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceConnection_SynthLanguage,e)}},{key:"speechSynthesisVoiceName",get:function(){return this.privSpeechProperties.getProperty(p.PropertyId.SpeechServiceConnection_SynthVoice)},set:function(e){this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceConnection_SynthVoice,e)}},{key:"speechSynthesisOutputFormat",get:function(){return p.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(p.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]},set:function(e){this.privSpeechProperties.setProperty(p.PropertyId.SpeechServiceConnection_SynthOutputFormat,p.SpeechSynthesisOutputFormat[e])}}]),n}(d);t.SpeechTranslationConfigImpl=l},afca:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Recognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7");var s=n("21c7"),u=n("903d"),c=n("277e"),p=n("9030"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(){function e(t,n,r){(0,o.default)(this,e),this.audioConfig=void 0!==t?t:p.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=n.clone(),this.privConnectionFactory=r,this.implCommonRecognizerSetup()}return(0,a.default)(e,[{key:"close",value:function(e,t){c.Contracts.throwIfDisposed(this.privDisposed),(0,u.marshalPromiseToCallbacks)(this.dispose(!0),e,t)}},{key:"internalData",get:function(){return this.privReco}},{key:"dispose",value:function(e){return d(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposed){t.next=2;break}return t.abrupt("return");case 2:if(this.privDisposed=!0,!e){t.next=9;break}if(!this.privReco){t.next=9;break}return t.next=7,this.privReco.audioSource.turnOff();case 7:return t.next=9,this.privReco.dispose();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"implCommonRecognizerSetup",value:function(){var t="undefined"!==typeof window?"Browser":"Node",n="unknown",r="unknown";"undefined"!==typeof navigator&&(t=t+"/"+navigator.platform,n=navigator.userAgent,r=navigator.appVersion);var i=this.createRecognizerConfig(new s.SpeechServiceConfig(new s.Context(new s.OS(t,n,r))));this.privReco=this.createServiceRecognizer(e.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,i)}},{key:"recognizeOnceAsyncImpl",value:function(e){return d(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c.Contracts.throwIfDisposed(this.privDisposed),n=new u.Deferred,t.next=4,this.implRecognizerStop();case 4:return t.next=6,this.privReco.recognize(e,n.resolve,n.reject);case 6:return t.next=8,n.promise;case 8:return r=t.sent,t.next=11,this.implRecognizerStop();case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,this)})))}},{key:"startContinuousRecognitionAsyncImpl",value:function(e){return d(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c.Contracts.throwIfDisposed(this.privDisposed),t.next=3,this.implRecognizerStop();case 3:return t.next=5,this.privReco.recognize(e,void 0,void 0);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"stopContinuousRecognitionAsyncImpl",value:function(){return d(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.Contracts.throwIfDisposed(this.privDisposed),e.next=3,this.implRecognizerStop();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"implRecognizerStop",value:function(){return d(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.privReco){e.next=3;break}return e.next=3,this.privReco.stopRecognizing();case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e,this)})))}}],[{key:"telemetryEnabled",get:function(){return s.ServiceRecognizerBase.telemetryDataEnabled}},{key:"enableTelemetry",value:function(e){s.ServiceRecognizerBase.telemetryDataEnabled=e}},{key:"getAuthFromProperties",value:function(e){var t=e.getProperty(p.PropertyId.SpeechServiceConnection_Key,void 0),n=t&&""!==t?new s.CognitiveSubscriptionKeyAuthentication(t):new s.CognitiveTokenAuthentication((function(){var t=e.getProperty(p.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}),(function(){var t=e.getProperty(p.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}));return n}}]),e}();t.Recognizer=l},b07a:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.RestConfigBase=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"requestOptions",get:function(){return e.privDefaultRequestOptions}},{key:"configParams",get:function(){return e.privDefaultParams}},{key:"restErrors",get:function(){return e.privRestErrors}}]),e}();t.RestConfigBase=a,a.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4},a.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},a.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"}},b0c5:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchReason=void 0,t.NoMatchReason=r,function(e){e[e["NotRecognized"]=0]="NotRecognized",e[e["InitialSilenceTimeout"]=1]="InitialSilenceTimeout",e[e["InitialBabbleTimeout"]=2]="InitialBabbleTimeout"}(r||(t.NoMatchReason=r={}))},b17c:function(e,t,n){n("4ae1"),n("d3b7"),n("f8c9"),n("14d9");var r=n("4a4b"),i=n("6f8f");function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=Function.bind.apply(e,i),a=new o;return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports["default"]=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},b1f8:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){throw new TypeError('"'+e+'" is read-only')},n("d9e2"),n("d401")},b262:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesizerConfig=t.SynthesisServiceType=void 0;var i,o=r(n("d4ec")),a=r(n("bee2")),s=n("21c7");t.SynthesisServiceType=i,function(e){e[e["Standard"]=0]="Standard",e[e["Custom"]=1]="Custom"}(i||(t.SynthesisServiceType=i={}));var u=function(){function e(t,n){(0,o.default)(this,e),this.privSynthesisServiceType=i.Standard,this.privSpeechServiceConfig=t||new s.SpeechServiceConfig(new s.Context(null)),this.privParameters=n}return(0,a.default)(e,[{key:"parameters",get:function(){return this.privParameters}},{key:"synthesisServiceType",get:function(){return this.privSynthesisServiceType},set:function(e){this.privSynthesisServiceType=e}},{key:"SpeechServiceConfig",get:function(){return this.privSpeechServiceConfig}}]),e}();t.SynthesizerConfig=u},b380:function(e,t,n){"use strict";function r(e,n){return t.default=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,n)}n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,n("131a")},b542:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationServiceAdapter=void 0;var i=r(n("b85c")),o=r(n("c7eb")),a=r(n("d4ec")),s=r(n("bee2")),u=r(n("45eb")),c=r(n("7e84")),p=r(n("262e")),d=r(n("2caf"));n("d3b7"),n("d81d");var l=n("903d"),f=n("9030"),v=n("21c7"),h=n("d4c9"),y=n("6007"),g=n("f70b"),m=n("2cbd"),S=n("a303"),C=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},b=function(e){(0,p.default)(n,e);var t=(0,d.default)(n);function n(e,r,i,o,s){var u;return(0,a.default)(this,n),u=t.call(this,e,r,i,o,s),u.privConnectionConfigPromise=void 0,u.privLastPartialUtteranceId="",u.privConversationServiceConnector=s,u.privConversationAuthentication=e,u.receiveMessageOverride=function(){return u.receiveConversationMessageOverride()},u.recognizeOverride=function(){return u.noOp()},u.postConnectImplOverride=function(e){return u.conversationConnectImpl(e)},u.configConnectionOverride=function(){return u.configConnection()},u.disconnectOverride=function(){return u.privDisconnect()},u.privConversationRequestSession=new y.ConversationRequestSession((0,l.createNoDashGuid)()),u.privConversationConnectionFactory=r,u.privConversationIsDisposed=!1,u}return(0,s.default)(n,[{key:"isDisposed",value:function(){return(0,u.default)((0,c.default)(n.prototype),"isDisposed",this).call(this)||this.privConversationIsDisposed}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,u.default)((0,c.default)(n.prototype),"dispose",t)}}});return C(this,void 0,void 0,(0,o.default)().mark((function t(){var n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.privConversationIsDisposed=!0,void 0===this.privConnectionConfigPromise){t.next=7;break}return t.next=4,this.privConnectionConfigPromise;case 4:return n=t.sent,t.next=7,n.dispose(e);case 7:return t.next=9,r.dispose.call(this,e);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"sendMessage",value:function(e){return C(this,void 0,void 0,(0,o.default)().mark((function t(){var n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchConnection();case 2:return n=t.sent,t.abrupt("return",n.send(new h.ConversationConnectionMessage(l.MessageType.Text,e)));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"sendMessageAsync",value:function(e){return C(this,void 0,void 0,(0,o.default)().mark((function t(){var n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchConnection();case 2:return n=t.sent,t.next=5,n.send(new h.ConversationConnectionMessage(l.MessageType.Text,e));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"privDisconnect",value:function(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,f.CancellationReason.Error,f.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}},{key:"processTypeSpecificMessages",value:function(){return C(this,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))}},{key:"cancelRecognition",value:function(e,t,n,r,i){this.terminateMessageLoop=!0;var o=new f.ConversationTranslationCanceledEventArgs(n,i,r,void 0,e);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,o)}catch(a){}}},{key:"conversationConnectImpl",value:function(e){return C(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.privConnectionLoop=this.startMessageLoop(),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"receiveConversationMessageOverride",value:function(){return C(this,void 0,void 0,(0,o.default)().mark((function e(){var t,n,r,i,a,s,u,c,p,d,h,y,C,b,P,k;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isDisposed()&&!this.terminateMessageLoop){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return t=new l.Deferred,e.prev=3,e.next=6,this.fetchConnection();case 6:return n=e.sent,e.next=9,n.read();case 9:if(r=e.sent,!this.isDisposed()&&!this.terminateMessageLoop){e.next=13;break}return t.resolve(),e.abrupt("return",Promise.resolve());case 13:if(r){e.next=15;break}return e.abrupt("return",this.receiveConversationMessageOverride());case 15:i=this.privConversationRequestSession.sessionId,a=!1,e.prev=17,e.t0=r.conversationMessageType.toLowerCase(),e.next="info"===e.t0||"participant_command"===e.t0||"command"===e.t0?21:"partial"===e.t0||"final"===e.t0?59:"translated_message"===e.t0?63:67;break;case 21:s=S.CommandResponsePayload.fromJSON(r.textBody),e.t1=s.command.toLowerCase(),e.next="participantlist"===e.t1?25:"settranslatetolanguages"===e.t1?29:"setprofanityfiltering"===e.t1?31:"setmute"===e.t1?33:"setmuteall"===e.t1?35:"roomexpirationwarning"===e.t1?37:"setusetts"===e.t1?39:"setlockstate"===e.t1?41:"changenickname"===e.t1?43:"joinsession"===e.t1?45:"leavesession"===e.t1?49:"disconnectsession"===e.t1?52:"token"===e.t1?54:57;break;case 25:return u=S.ParticipantsListPayloadResponse.fromJSON(r.textBody),c=u.participants.map((function(e){var t={avatar:e.avatar,displayName:e.nickname,id:e.participantId,isHost:e.ishost,isMuted:e.ismuted,isUsingTts:e.usetts,preferredLanguage:e.locale};return t})),this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new g.ParticipantsListEventArgs(u.roomid,u.token,u.translateTo,u.profanityFilter,u.roomProfanityFilter,u.roomLocked,u.muteAll,c,i)),e.abrupt("break",58);case 29:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new g.ParticipantAttributeEventArgs(s.participantId,m.ConversationTranslatorCommandTypes.setTranslateToLanguages,s.value,i)),e.abrupt("break",58);case 31:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new g.ParticipantAttributeEventArgs(s.participantId,m.ConversationTranslatorCommandTypes.setProfanityFiltering,s.value,i)),e.abrupt("break",58);case 33:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new g.ParticipantAttributeEventArgs(s.participantId,m.ConversationTranslatorCommandTypes.setMute,s.value,i)),e.abrupt("break",58);case 35:return this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new g.MuteAllEventArgs(s.value,i)),e.abrupt("break",58);case 37:return this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new f.ConversationExpirationEventArgs(s.value,this.privConversationRequestSession.sessionId)),e.abrupt("break",58);case 39:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new g.ParticipantAttributeEventArgs(s.participantId,m.ConversationTranslatorCommandTypes.setUseTTS,s.value,i)),e.abrupt("break",58);case 41:return this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new g.LockRoomEventArgs(s.value,i)),e.abrupt("break",58);case 43:return this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new g.ParticipantAttributeEventArgs(s.participantId,m.ConversationTranslatorCommandTypes.changeNickname,s.nickname,i)),e.abrupt("break",58);case 45:return p=S.ParticipantPayloadResponse.fromJSON(r.textBody),d={avatar:p.avatar,displayName:p.nickname,id:p.participantId,isHost:p.ishost,isMuted:p.ismuted,isUsingTts:p.usetts,preferredLanguage:p.locale},this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new g.ParticipantEventArgs(d,i)),e.abrupt("break",58);case 49:return h={id:s.participantId},this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new g.ParticipantEventArgs(h,i)),e.abrupt("break",58);case 52:return{id:s.participantId},e.abrupt("break",58);case 54:return y=new v.CognitiveTokenAuthentication((function(){var e=s.token;return Promise.resolve(e)}),(function(){var e=s.token;return Promise.resolve(e)})),this.authentication=y,e.abrupt("break",58);case 57:return e.abrupt("break",58);case 58:return e.abrupt("break",68);case 59:return C=S.SpeechResponsePayload.fromJSON(r.textBody),b=new f.ConversationTranslationResult(C.participantId,this.getTranslations(C.translations),C.language,void 0,void 0,C.recognition,void 0,void 0,r.textBody,void 0),C.isFinal?((void 0!==b.text&&b.text.length>0||C.id===this.privLastPartialUtteranceId)&&(a=!0),a&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new g.ConversationReceivedTranslationEventArgs(m.ConversationTranslatorMessageTypes.final,b,i))):void 0!==b.text&&(this.privLastPartialUtteranceId=C.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new g.ConversationReceivedTranslationEventArgs(m.ConversationTranslatorMessageTypes.partial,b,i))),e.abrupt("break",68);case 63:return P=S.TextResponsePayload.fromJSON(r.textBody),k=new f.ConversationTranslationResult(P.participantId,this.getTranslations(P.translations),P.language,void 0,void 0,P.originalText,void 0,void 0,void 0,r.textBody,void 0),this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new g.ConversationReceivedTranslationEventArgs(m.ConversationTranslatorMessageTypes.instantMessage,k,i)),e.abrupt("break",68);case 67:return e.abrupt("break",68);case 68:e.next=72;break;case 70:e.prev=70,e.t2=e["catch"](17);case 72:return e.abrupt("return",this.receiveConversationMessageOverride());case 75:e.prev=75,e.t3=e["catch"](3),this.terminateMessageLoop=!0;case 78:return e.abrupt("return",t.promise);case 79:case"end":return e.stop()}}),e,this,[[3,75],[17,70]])})))}},{key:"startMessageLoop",value:function(){return C(this,void 0,void 0,(0,o.default)().mark((function e(){var t,n;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isDisposed()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return this.terminateMessageLoop=!1,t=this.receiveConversationMessageOverride(),e.prev=4,e.next=7,t;case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.prev=11,e.t0=e["catch"](4),this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",f.CancellationReason.Error,f.CancellationErrorCode.RuntimeError,e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[4,11]])})))}},{key:"configConnection",value:function(){var e=this;return this.isDisposed()?Promise.resolve(void 0):void 0!==this.privConnectionConfigPromise?this.privConnectionConfigPromise.then((function(t){return t.state()===l.ConnectionState.Disconnected?(e.privConnectionId=null,e.privConnectionConfigPromise=void 0,e.configConnection()):e.privConnectionConfigPromise}),(function(){return e.privConnectionId=null,e.privConnectionConfigPromise=void 0,e.configConnection()})):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then((function(e){return e})),this.privConnectionConfigPromise)}},{key:"getTranslations",value:function(e){var t;if(void 0!==e){t=new f.Translations;var n,r=(0,i.default)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.set(o.lang,o.translation)}}catch(a){r.e(a)}finally{r.f()}}return t}}]),n}(v.ServiceRecognizerBase);t.ConversationServiceAdapter=b},b5e0:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConfigImpl=t.SpeechConfig=void 0,n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("e9c4");var i=r(n("262e")),o=r(n("2caf")),a=r(n("d4ec")),s=r(n("bee2")),u=n("21c7"),c=n("277e"),p=n("9030"),d=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,[{key:"close",value:function(){}}],[{key:"fromSubscription",value:function(e,t){c.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),c.Contracts.throwIfNullOrWhitespace(t,"region");var n=new l;return n.setProperty(p.PropertyId.SpeechServiceConnection_Region,t),n.setProperty(p.PropertyId.SpeechServiceConnection_IntentRegion,t),n.setProperty(p.PropertyId.SpeechServiceConnection_Key,e),n}},{key:"fromEndpoint",value:function(e,t){c.Contracts.throwIfNull(e,"endpoint");var n=new l;return n.setProperty(p.PropertyId.SpeechServiceConnection_Endpoint,e.href),void 0!==t&&n.setProperty(p.PropertyId.SpeechServiceConnection_Key,t),n}},{key:"fromHost",value:function(e,t){c.Contracts.throwIfNull(e,"hostName");var n=new l;return n.setProperty(p.PropertyId.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&n.setProperty(p.PropertyId.SpeechServiceConnection_Key,t),n}},{key:"fromAuthorizationToken",value:function(e,t){c.Contracts.throwIfNull(e,"authorizationToken"),c.Contracts.throwIfNullOrWhitespace(t,"region");var n=new l;return n.setProperty(p.PropertyId.SpeechServiceConnection_Region,t),n.setProperty(p.PropertyId.SpeechServiceConnection_IntentRegion,t),n.authorizationToken=e,n}}]),e}();t.SpeechConfig=d;var l=function(e){(0,i.default)(n,e);var t=(0,o.default)(n);function n(){var e;return(0,a.default)(this,n),e=t.call(this),e.privProperties=new p.PropertyCollection,e.speechRecognitionLanguage="en-US",e.outputFormat=p.OutputFormat.Simple,e}return(0,s.default)(n,[{key:"properties",get:function(){return this.privProperties}},{key:"endPoint",get:function(){return new URL(this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_Endpoint))}},{key:"subscriptionKey",get:function(){return this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_Key)}},{key:"region",get:function(){return this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_Region)}},{key:"authorizationToken",get:function(){return this.privProperties.getProperty(p.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.privProperties.setProperty(p.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"speechRecognitionLanguage",get:function(){return this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_RecoLanguage)},set:function(e){this.privProperties.setProperty(p.PropertyId.SpeechServiceConnection_RecoLanguage,e)}},{key:"autoDetectSourceLanguages",get:function(){return this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)},set:function(e){this.privProperties.setProperty(p.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e)}},{key:"outputFormat",get:function(){return p.OutputFormat[this.privProperties.getProperty(u.OutputFormatPropertyName,void 0)]},set:function(e){this.privProperties.setProperty(u.OutputFormatPropertyName,p.OutputFormat[e])}},{key:"endpointId",get:function(){return this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_EndpointId)},set:function(e){this.privProperties.setProperty(p.PropertyId.SpeechServiceConnection_EndpointId,e)}},{key:"setProperty",value:function(e,t){c.Contracts.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)}},{key:"getProperty",value:function(e,t){return this.privProperties.getProperty(e,t)}},{key:"setProxy",value:function(e,t,n,r){this.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_ProxyHostName],e),this.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_ProxyPort],t),this.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_ProxyUserName],n),this.setProperty(p.PropertyId[p.PropertyId.SpeechServiceConnection_ProxyPassword],r)}},{key:"setServiceProperty",value:function(e,t){var n=JSON.parse(this.privProperties.getProperty(u.ServicePropertiesPropertyName,"{}"));n[e]=t,this.privProperties.setProperty(u.ServicePropertiesPropertyName,JSON.stringify(n))}},{key:"setProfanity",value:function(e){this.privProperties.setProperty(p.PropertyId.SpeechServiceResponse_ProfanityOption,p.ProfanityOption[e])}},{key:"enableAudioLogging",value:function(){this.privProperties.setProperty(p.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}},{key:"requestWordLevelTimestamps",value:function(){this.privProperties.setProperty(p.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}},{key:"enableDictation",value:function(){this.privProperties.setProperty(u.ForceDictationPropertyName,"true")}},{key:"clone",value:function(){var e=new n;return e.privProperties=this.privProperties.clone(),e}},{key:"speechSynthesisLanguage",get:function(){return this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_SynthLanguage)},set:function(e){this.privProperties.setProperty(p.PropertyId.SpeechServiceConnection_SynthLanguage,e)}},{key:"speechSynthesisVoiceName",get:function(){return this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_SynthVoice)},set:function(e){this.privProperties.setProperty(p.PropertyId.SpeechServiceConnection_SynthVoice,e)}},{key:"speechSynthesisOutputFormat",get:function(){return p.SpeechSynthesisOutputFormat[this.privProperties.getProperty(p.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]},set:function(e){this.privProperties.setProperty(p.PropertyId.SpeechServiceConnection_SynthOutputFormat,p.SpeechSynthesisOutputFormat[e])}}]),n}(d);t.SpeechConfigImpl=l},b636:function(e,t,n){var r=n("e065");r("asyncIterator")},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=l(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=s(e,r);var i=e.write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|f(t.length);return e=s(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||function(e){return e!==e}(t.length)?s(e,0):l(e,t);if("Buffer"===t.type&&o(t.data))return l(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function p(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(p(t),e=s(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var p=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===p?0:o-p)){if(-1===p&&(p=o),o-p+1===u)return p*a}else-1!==p&&(o-=o-p),p=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,l=0;l<u;l++)if(c(e,o+l)!==c(t,l)){d=!1;break}if(d)return o}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function C(e,t,n,r){return U(F(t,e.length-n),e,n,r)}function b(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function P(e,t,n,r){return b(e,t,n,r)}function k(e,t,n,r){return U(q(t),e,n,r)}function w(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],a=0;a<e.length;++a){if((t-=2)<0)break;n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,a,s,u,c=e[i],p=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(p=c);break;case 2:o=e[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(p=u));break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a,u>2047&&(u<55296||u>57343)&&(p=u));break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,u>65535&&u<1114112&&(p=u))}null===p?(p=65533,d=1):p>65535&&(p-=65536,r.push(p>>>10&1023|55296),p=56320|1023&p),r.push(p),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return p(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):h.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),c=this.slice(r,i),p=e.slice(t,n),d=0;d<s;++d)if(c[d]!==p[d]){o=c[d],a=p[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return P(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function x(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function _(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;M(this,e,t,n,i,0)}var o=1,a=0;this[t]=255&e;while(++a<n&&(o*=256))this[t+a]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;M(this,e,t,n,i,0)}var o=n-1,a=1;this[t+o]=255&e;while(--o>=0&&(a*=256))this[t+o]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;this[t]=255&e;while(++o<n&&(a*=256))e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;this[t+o]=255&e;while(--o>=0&&(a*=256))e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:F(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}}).call(this,n("c8ba"))},b6b3:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationStatus=void 0,t.TranslationStatus=r,function(e){e[e["Success"]=0]="Success",e[e["Error"]=1]="Error"}(r||(t.TranslationStatus=r={}))},b6de:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationConnectionFactory=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9271"),c=n("1278"),p=n("9030"),d=n("4061"),l=n("21c7"),f=n("574d"),v=n("9262"),h=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"create",value:function(e,t,n){var r=this.getEndpointUrl(e),i={};void 0!==e.autoDetectSourceLanguages&&(i[v.QueryParameterNames.EnableLanguageId]="true"),this.setQueryParams(i,e,r);var o={};void 0!==t.token&&""!==t.token&&(o[t.headerName]=t.token),o[f.HeaderNames.ConnectionId]=n,e.parameters.setProperty(p.PropertyId.SpeechServiceConnection_Url,r);var a="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new u.WebsocketConnection(r,i,o,new l.WebsocketMessageFormatter,u.ProxyInfo.fromRecognizerConfig(e),a,n)}},{key:"getEndpointUrl",value:function(e,t){var n=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Region),r=d.ConnectionFactoryBase.getHostSuffix(n),i=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!i)if(void 0!==e.autoDetectSourceLanguages){var o=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+r);i=o+"/speech/universal/v2"}else{var a=e.parameters.getProperty(p.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+r);i=a+"/speech/translation/cognitiveservices/v1"}return!0===t?i:c.StringUtils.formatString(i,{region:n})}},{key:"setQueryParams",value:function(e,t,n){e.from=t.parameters.getProperty(p.PropertyId.SpeechServiceConnection_RecoLanguage),e.to=t.parameters.getProperty(p.PropertyId.SpeechServiceConnection_TranslationToLanguages),this.setCommonUrlParams(t,e,n),this.setUrlParameter(p.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,v.QueryParameterNames.StableTranslation,t,e,n);var r=t.parameters.getProperty(p.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);void 0!==r&&(e.voice=r,e.features="texttospeech")}}]),n}(d.ConnectionFactoryBase);t.TranslationConnectionFactory=h},b6f2:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n,r,o){(0,i.default)(this,e),this.privResultId=t,this.privReason=n,this.privErrorDetails=r,this.privProperties=o}return(0,o.default)(e,[{key:"resultId",get:function(){return this.privResultId}},{key:"reason",get:function(){return this.privReason}},{key:"errorDetails",get:function(){return this.privErrorDetails}},{key:"properties",get:function(){return this.privProperties}}]),e}();t.SynthesisResult=a},b85c:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw a}}}},n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401");var r=function(e){return e&&e.__esModule?e:{default:e}}(n("06c5"))},b90b:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PcmRecorder=void 0,n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("d9e2"),n("d401"),n("159b");var i=r(n("d4ec")),o=r(n("bee2")),a=n("903d"),s=function(){function e(t){(0,i.default)(this,e),this.privStopInputOnRelease=t}return(0,o.default)(e,[{key:"record",value:function(e,t,n){var r=this,i=new a.RiffPcmEncoder(e.sampleRate,16e3),o=e.createMediaStreamSource(t),s=function(){var a=function(){var t=0;try{return e.createScriptProcessor(t,1,1)}catch(r){t=2048;var n=e.sampleRate;while(t<16384&&n>=32e3)t<<=1,n>>=1;return e.createScriptProcessor(t,1,1)}}();a.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);if(n&&!n.isClosed){var r=i.encode(t);r&&n.writeStreamChunk({buffer:r,isEnd:!1,timeReceived:Date.now()})}},o.connect(a),a.connect(e.destination),r.privMediaResources={scriptProcessorNode:a,source:o,stream:t}};if(e.audioWorklet){if(!this.privSpeechProcessorScript){var u=new Blob(["class SP extends AudioWorkletProcessor {\n                    constructor(options) {\n                      super(options);\n                    }\n                    process(inputs, outputs) {\n                      const input = inputs[0];\n                      const output = [];\n                      for (let channel = 0; channel < input.length; channel += 1) {\n                        output[channel] = input[channel];\n                      }\n                      this.port.postMessage(output[0]);\n                      return true;\n                    }\n                  }\n                  registerProcessor('speech-processor', SP);"],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(u)}e.audioWorklet.addModule(this.privSpeechProcessorScript).then((function(){var a=new AudioWorkletNode(e,"speech-processor");a.port.onmessage=function(e){var t=e.data;if(n&&!n.isClosed){var r=i.encode(t);r&&n.writeStreamChunk({buffer:r,isEnd:!1,timeReceived:Date.now()})}},o.connect(a),a.connect(e.destination),r.privMediaResources={scriptProcessorNode:a,source:o,stream:t}})).catch((function(){s()}))}else try{s()}catch(c){throw new Error("Unable to start audio worklet node for PCMRecorder: ".concat(c))}}},{key:"releaseMediaResources",value:function(e){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach((function(e){return e.stop()})),this.privMediaResources.source=null))}},{key:"setWorkletUrl",value:function(e){this.privSpeechProcessorScript=e}}]),e}();t.PcmRecorder=s},ba03:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceConnector=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("45eb")),u=r(n("7e84")),c=r(n("262e")),p=r(n("2caf"));n("d3b7");var d=n("7198"),l=n("21c7"),f=n("903d"),v=n("277e"),h=n("9030"),y=n("0bca"),g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},m=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e,r){var i;(0,o.default)(this,n);var a=e;v.Contracts.throwIfNull(e,"dialogConfig"),i=t.call(this,r,a.properties,new d.DialogConnectionFactory),i.isTurnComplete=!0,i.privIsDisposed=!1,i.privProperties=a.properties.clone();var s=i.buildAgentConfig();return i.privReco.agentConfig.set(s),i}return(0,a.default)(n,[{key:"connect",value:function(e,t){(0,f.marshalPromiseToCallbacks)(this.privReco.connect(),e,t)}},{key:"disconnect",value:function(e,t){(0,f.marshalPromiseToCallbacks)(this.privReco.disconnect(),e,t)}},{key:"authorizationToken",get:function(){return this.properties.getProperty(y.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){v.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(y.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"properties",get:function(){return this.privProperties}},{key:"speechActivityTemplate",get:function(){return this.properties.getProperty(y.PropertyId.Conversation_Speech_Activity_Template)},set:function(e){this.properties.setProperty(y.PropertyId.Conversation_Speech_Activity_Template,e)}},{key:"listenOnceAsync",value:function(e,t){var n=this;if(this.isTurnComplete){v.Contracts.throwIfDisposed(this.privIsDisposed);var r=function(){return g(n,void 0,void 0,(0,i.default)().mark((function e(){var t,n;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.privReco.connect();case 2:return e.next=4,this.implRecognizerStop();case 4:return this.isTurnComplete=!1,t=new f.Deferred,e.next=8,this.privReco.recognize(l.RecognitionMode.Conversation,t.resolve,t.reject);case 8:return e.next=10,t.promise;case 10:return n=e.sent,e.next=13,this.implRecognizerStop();case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)})))}();r.catch((function(){n.dispose(!0).catch((function(){}))})),(0,f.marshalPromiseToCallbacks)(r.finally((function(){n.isTurnComplete=!0})),e,t)}}},{key:"sendActivityAsync",value:function(e,t,n){(0,f.marshalPromiseToCallbacks)(this.privReco.sendMessage(e),t,n)}},{key:"close",value:function(e,t){v.Contracts.throwIfDisposed(this.privIsDisposed),(0,f.marshalPromiseToCallbacks)(this.dispose(!0),e,t)}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,s.default)((0,u.default)(n.prototype),"dispose",t)}}});return g(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privIsDisposed){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=8;break}return this.privIsDisposed=!0,t.next=6,this.implRecognizerStop();case 6:return t.next=8,r.dispose.call(this,e);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"createRecognizerConfig",value:function(e){return new l.RecognizerConfig(e,this.privProperties)}},{key:"createServiceRecognizer",value:function(e,t,n,r){var i=n;return new l.DialogServiceAdapter(e,t,i,r,this)}},{key:"buildAgentConfig",value:function(){var e=this.properties.getProperty("Conversation_Communication_Type","Default");return{botInfo:{commType:e,commandsCulture:void 0,connectionId:this.properties.getProperty(y.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(y.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(y.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(y.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}}]),n}(h.Recognizer);t.DialogServiceConnector=m},baa5:function(e,t,n){var r=n("23e7"),i=n("e58c");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bb51:function(e,t,n){"use strict";n.r(t);var r=n("2fd3"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},bb94:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileConnectionFactory=t.SpeakerRecognitionConnectionFactory=void 0,n("99af");var i=r(n("45eb")),o=r(n("7e84")),a=r(n("d4ec")),s=r(n("bee2")),u=r(n("262e")),c=r(n("2caf")),p=n("9271"),d=n("9030"),l=n("4061"),f=n("21c7"),v=n("574d"),h=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"create",value:function(e,t,n,r){var i=e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_Endpoint);if(!i){var o=e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_Region),a=l.ConnectionFactoryBase.getHostSuffix(o),s=e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_Host,"wss://".concat(o,".spr-frontend.speech").concat(a)),u=e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");i="".concat(s,"/speaker/ws/").concat(this.scenarioToPath(u),"/").concat(n)}var c={format:"simple",language:e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(e,c,i);var h={};void 0!==t.token&&""!==t.token&&(h[t.headerName]=t.token),h[v.HeaderNames.ConnectionId]=r,h[v.HeaderNames.SpIDAuthKey]=e.parameters.getProperty(d.PropertyId.SpeechServiceConnection_Key),e.parameters.setProperty(d.PropertyId.SpeechServiceConnection_Url,i);var y="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new p.WebsocketConnection(i,c,h,new f.WebsocketMessageFormatter,p.ProxyInfo.fromRecognizerConfig(e),y,r)}},{key:"scenarioToPath",value:function(e){switch(e){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}]),n}(l.ConnectionFactoryBase),y=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"create",value:function(e,t,r){return(0,i.default)((0,o.default)(n.prototype),"create",this).call(this,e,t,"recognition",r)}}]),n}(h);t.SpeakerRecognitionConnectionFactory=y;var g=function(e){(0,u.default)(n,e);var t=(0,c.default)(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"create",value:function(e,t,r){return(0,i.default)((0,o.default)(n.prototype),"create",this).call(this,e,t,"profile",r)}}]),n}(h);t.VoiceProfileConnectionFactory=g},bca5:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAudioPlayer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7"),n("ace4"),n("cfc3"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("fd87"),n("8b09"),n("143c");var s=n("0f96"),u=n("9030"),c=n("725b"),p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},d=function(){function e(t){(0,o.default)(this,e),this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,void 0===t&&(t=u.AudioStreamFormat.getDefaultInputFormat()),this.init(t)}return(0,a.default)(e,[{key:"playAudioSample",value:function(e,t,n){try{this.ensureInitializedContext();var r=this.formatAudioData(e),i=new Float32Array(this.samples.length+r.length);i.set(this.samples,0),i.set(r,this.samples.length),this.samples=i,t&&t()}catch(o){n&&n(o)}}},{key:"stopAudio",value:function(e,t){null!==this.audioContext&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then((function(){e&&e()}),(function(e){t&&t(e)})),this.audioContext=null)}},{key:"init",value:function(e){this.audioFormat=e,this.samples=new Float32Array}},{key:"ensureInitializedContext",value:function(){var e=this;if(null===this.audioContext){this.createAudioContext();this.autoUpdateBufferTimer=setInterval((function(){e.updateAudioBuffer()}),200)}}},{key:"createAudioContext",value:function(){this.audioContext=c.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}},{key:"formatAudioData",value:function(e){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(e),128);case 16:return this.formatArrayBuffer(new Int16Array(e),32768);case 32:return this.formatArrayBuffer(new Int32Array(e),2147483648);default:throw new s.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}},{key:"formatArrayBuffer",value:function(e,t){for(var n=new Float32Array(e.length),r=0;r<e.length;r++)n[r]=e[r]/t;return n}},{key:"updateAudioBuffer",value:function(){if(0!==this.samples.length){for(var e=this.audioFormat.channels,t=this.audioContext.createBufferSource(),n=this.samples.length/e,r=this.audioContext.createBuffer(e,n,this.audioFormat.samplesPerSec),i=0;i<e;i++)for(var o=i,a=r.getChannelData(i),s=0;s<this.samples.length;s++,o+=e)a[s]=this.samples[o];this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),t.buffer=r,t.connect(this.gainNode),t.start(this.startTime),this.startTime+=r.duration,this.samples=new Float32Array}}},{key:"playAudio",value:function(e){return p(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null===this.audioContext&&this.createAudioContext(),n=this.audioContext.createBufferSource(),r=this.audioContext.destination,t.next=5,this.audioContext.decodeAudioData(e,(function(e){n.buffer=e,n.connect(r),n.start(0)}));case 5:case"end":return t.stop()}}),t,this)})))}}]),e}();t.BaseAudioPlayer=d},bd3f:function(e,t){},bef4:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s,u){var c;return(0,i.default)(this,n),c=t.call(this,e,r,a,s),c.privAudioData=o,c.privAudioDuration=u,c}return(0,o.default)(n,[{key:"audioData",get:function(){return this.privAudioData}},{key:"audioDuration",get:function(){return this.privAudioDuration}}]),n}(u.SynthesisResult);t.SpeechSynthesisResult=c},befe:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDataStreamType=t.ActivityPayloadResponse=void 0;var i,o=r(n("d4ec")),a=r(n("bee2")),s=function(){function e(t){(0,o.default)(this,e),this.privActivityResponse=JSON.parse(t)}return(0,a.default)(e,[{key:"conversationId",get:function(){return this.privActivityResponse.conversationId}},{key:"messageDataStreamType",get:function(){return this.privActivityResponse.messageDataStreamType}},{key:"messagePayload",get:function(){return this.privActivityResponse.messagePayload}},{key:"version",get:function(){return this.privActivityResponse.version}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.ActivityPayloadResponse=s,t.MessageDataStreamType=i,function(e){e[e["None"]=0]="None",e[e["TextToSpeechAudio"]=1]="TextToSpeechAudio"}(i||(t.MessageDataStreamType=i={}))},bf19:function(e,t,n){"use strict";var r=n("23e7"),i=n("c65b");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},c135:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},c240:function(e,t,n){n("d9e2"),n("d401"),e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c3dc:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,r,o),a.privResult=e,a}return(0,o.default)(n,[{key:"result",get:function(){return this.privResult}}]),n}(u.RecognitionEventArgs);t.TranslationRecognitionEventArgs=c},c3ed:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGranularity=void 0,t.PronunciationAssessmentGranularity=r,function(e){e[e["Phoneme"]=1]="Phoneme",e[e["Word"]=2]="Word",e[e["FullText"]=3]="FullText"}(r||(t.PronunciationAssessmentGranularity=r={}))},c437:function(e,t,n){var r,i,o=n("e1f4"),a=n("2366"),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,p=t||[];e=e||{};var d=e.node||r,l=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==l){var f=o();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==l&&(l=i=16383&(f[6]<<8|f[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:u+1,y=v-s+(h-u)/1e4;if(y<0&&void 0===e.clockseq&&(l=l+1&16383),(y<0||v>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=v,u=h,i=l,v+=122192928e5;var g=(1e4*(268435455&v)+h)%4294967296;p[c++]=g>>>24&255,p[c++]=g>>>16&255,p[c++]=g>>>8&255,p[c++]=255&g;var m=v/4294967296*1e4&268435455;p[c++]=m>>>8&255,p[c++]=255&m,p[c++]=m>>>24&15|16,p[c++]=m>>>16&255,p[c++]=l>>>8|128,p[c++]=255&l;for(var S=0;S<6;++S)p[c+S]=d[S];return t||a(p)}},c4a3:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileClient=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("45eb")),u=r(n("7e84")),c=r(n("262e")),p=r(n("2caf"));n("d3b7");var d=n("21c7"),l=n("7127"),f=n("277e"),v=n("9030"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e){var r;(0,o.default)(this,n),f.Contracts.throwIfNullOrUndefined(e,"speechConfig");var i=e;return f.Contracts.throwIfNull(i,"speechConfig"),r=t.call(this,l.AudioConfig.fromStreamInput(v.AudioInputStream.createPushStream()),i.properties,new d.VoiceProfileConnectionFactory),r.privProperties=i.properties.clone(),r.privVoiceAdapter=r.privReco,r.privDisposedVoiceAdapter=!1,r}return(0,a.default)(n,[{key:"properties",get:function(){return this.privProperties}},{key:"authorizationToken",get:function(){return this.properties.getProperty(v.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){f.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(v.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"createProfileAsync",value:function(e,t){return h(this,void 0,void 0,(0,i.default)().mark((function n(){var r;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.privVoiceAdapter.createProfile(e,t);case 2:return r=n.sent,n.abrupt("return",new v.VoiceProfile(r[0],e));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"retrieveEnrollmentResultAsync",value:function(e){return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.privVoiceAdapter.retrieveEnrollmentResult(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getAllProfilesAsync",value:function(e){return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.privVoiceAdapter.getAllProfiles(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getActivationPhrasesAsync",value:function(e,t){return h(this,void 0,void 0,(0,i.default)().mark((function n(){return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",this.privVoiceAdapter.getActivationPhrases(e,t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"enrollProfileAsync",value:function(e,t){return h(this,void 0,void 0,(0,i.default)().mark((function n(){var r;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,f.Contracts.throwIfNullOrUndefined(r,"audioConfig"),this.audioConfig=t,this.privVoiceAdapter.SpeakerAudioSource=r,n.abrupt("return",this.privVoiceAdapter.enrollProfile(e));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"deleteProfileAsync",value:function(e){return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.privVoiceAdapter.deleteProfile(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"resetProfileAsync",value:function(e){return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.privVoiceAdapter.resetProfile(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){return h(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.dispose(!0);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"createServiceRecognizer",value:function(e,t,n,r){var i=n;return new d.VoiceServiceRecognizer(e,t,i,r,this)}},{key:"dispose",value:function(e){var t=this,r=Object.create(null,{dispose:{get:function(){return(0,s.default)((0,u.default)(n.prototype),"dispose",t)}}});return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposedVoiceAdapter){t.next=2;break}return t.abrupt("return");case 2:if(this.privDisposedVoiceAdapter=!0,!e){t.next=6;break}return t.next=6,r.dispose.call(this,e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"createRecognizerConfig",value:function(e){return new d.RecognizerConfig(e,this.properties)}},{key:"getResult",value:function(e,t){var n=new v.VoiceProfileResult(e.ok?t:v.ResultReason.Canceled,e.statusText);return n}}]),n}(v.Recognizer);t.VoiceProfileClient=y},c574:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechState=t.ConversationTranslator=void 0;var i=r(n("53ca")),o=r(n("c7eb")),a=r(n("d4ec")),s=r(n("bee2")),u=r(n("257e")),c=r(n("262e")),p=r(n("2caf"));n("d3b7"),n("e9c4"),n("ac1f"),n("5319"),n("d9e2"),n("d401"),n("b64b");var d,l=n("21c7"),f=n("2182"),v=n("903d"),h=n("277e"),y=n("9030"),g=n("5b2f"),m=n("d201"),S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))};t.SpeechState=d,function(e){e[e["Inactive"]=0]="Inactive",e[e["Connecting"]=1]="Connecting",e[e["Connected"]=2]="Connected"}(d||(t.SpeechState=d={}));var C=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e,r,i,s){var c;return(0,a.default)(this,n),c=t.call(this,e,r,new f.ConversationTranslatorConnectionFactory(s)),c.privSpeechState=d.Inactive,i&&(c.privTranslator=i,c.sessionStarted=function(){c.privSpeechState=d.Connected},c.sessionStopped=function(){c.privSpeechState=d.Inactive},c.recognizing=function(e,t){c.privTranslator.recognizing&&c.privTranslator.recognizing(c.privTranslator,t)},c.recognized=function(e,t){return S((0,u.default)(c),void 0,void 0,(0,o.default)().mark((function e(){var n;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(null===(n=t.result)||void 0===n?void 0:n.errorDetails)){e.next=6;break}return e.next=3,this.cancelSpeech();case 3:this.fireCancelEvent(t.result.errorDetails),e.next=7;break;case 6:this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,t);case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e,this)})))},c.canceled=function(){return S((0,u.default)(c),void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privSpeechState===d.Inactive){e.next=9;break}return e.prev=1,e.next=4,this.cancelSpeech();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),this.privSpeechState=d.Inactive;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})))}),c}return(0,s.default)(n,[{key:"state",get:function(){return this.privSpeechState},set:function(e){this.privSpeechState=e}},{key:"onConnection",value:function(){this.privSpeechState=d.Connected}},{key:"onDisconnection",value:function(){return S(this,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.privSpeechState=d.Inactive,e.next=3,this.cancelSpeech();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"fireCancelEvent",value:function(e){try{if(this.privTranslator.canceled){var t=new m.ConversationTranslationCanceledEventArgs(y.CancellationReason.Error,e,y.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,t)}}catch(n){}}},{key:"cancelSpeech",value:function(){var e;return S(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.stopContinuousRecognitionAsync(),t.next=4,null===(e=this.privReco)||void 0===e?void 0:e.disconnect();case 4:this.privSpeechState=d.Inactive,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),n}(y.TranslationRecognizer),b=function(e){(0,c.default)(n,e);var t=(0,p.default)(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),r.privErrors=l.ConversationConnectionConfig.restErrors,r.privIsDisposed=!1,r.privIsSpeaking=!1,r.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",r.privPlaceholderRegion="westus",r.privProperties=new y.PropertyCollection,r}return(0,s.default)(n,[{key:"properties",get:function(){return this.privProperties}},{key:"speechRecognitionLanguage",get:function(){return this.privSpeechRecognitionLanguage}},{key:"participants",get:function(){var e;return null===(e=this.privConversation)||void 0===e?void 0:e.participants}},{key:"canSpeak",get:function(){return!(!this.privConversation.isConnected||!this.privCTRecognizer)&&(!this.privIsSpeaking&&this.privCTRecognizer.state!==d.Connected&&this.privCTRecognizer.state!==d.Connecting&&!this.privConversation.isMutedByHost)}},{key:"setServiceProperty",value:function(e,t){var n=JSON.parse(this.privProperties.getProperty(l.ServicePropertiesPropertyName,"{}"));n[e]=t,this.privProperties.setProperty(l.ServicePropertiesPropertyName,JSON.stringify(n))}},{key:"joinConversationAsync",value:function(e,t,n,r,o){var a=this;try{if("string"===typeof e){h.Contracts.throwIfNullOrUndefined(e,this.privErrors.invalidArgs.replace("{arg}","conversation id")),h.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),o);var s=n;void 0!==s&&null!==s&&""!==s||(s=l.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=y.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(y.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(s),this.privSpeechTranslationConfig.setProperty(y.PropertyId[y.PropertyId.SpeechServiceConnection_RecoLanguage],s),this.privSpeechTranslationConfig.setProperty(y.PropertyId[y.PropertyId.ConversationTranslator_Name],t);for(var u=[y.PropertyId.SpeechServiceConnection_Host,y.PropertyId.ConversationTranslator_Host,y.PropertyId.SpeechServiceConnection_Endpoint,y.PropertyId.SpeechServiceConnection_ProxyHostName,y.PropertyId.SpeechServiceConnection_ProxyPassword,y.PropertyId.SpeechServiceConnection_ProxyPort,y.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"],c=0,p=u;c<p.length;c++){var d=p[c],f=this.privProperties.getProperty(d);if(f){var v="string"===typeof d?d:y.PropertyId[d];this.privSpeechTranslationConfig.setProperty(v,f)}}for(var m=JSON.parse(this.privProperties.getProperty(l.ServicePropertiesPropertyName,"{}")),S=0,C=Object.keys(m);S<C.length;S++){var b=C[S];this.privSpeechTranslationConfig.setServiceProperty(b,m[b],y.ServicePropertyChannel.UriQueryParameter)}this.privConversation=new g.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(e,t,s,(function(e){e||a.handleError(new Error(a.privErrors.permissionDeniedConnect),o),a.privSpeechTranslationConfig.authorizationToken=e,a.privConversation.room.isHost=!1,a.privConversation.startConversationAsync((function(){a.handleCallback(r,o)}),(function(e){a.handleError(e,o)}))}),(function(e){a.handleError(e,o)}))}else"object"===(0,i.default)(e)?(h.Contracts.throwIfNullOrUndefined(e,this.privErrors.invalidArgs.replace("{arg}","conversation id")),h.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(y.PropertyId.ConversationTranslator_Name,t),this.privConversation=e,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,h.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),h.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=e.config,this.handleCallback(n,r)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),r)}catch(P){this.handleError(P,"string"===typeof n?o:r)}}},{key:"leaveConversationAsync",value:function(e,t){var n=this;(0,v.marshalPromiseToCallbacks)(function(){return S(n,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.cancelSpeech();case 2:return e.next=4,this.privConversation.endConversationImplAsync();case 4:return e.next=6,this.privConversation.deleteConversationImplAsync();case 6:this.dispose();case 7:case"end":return e.stop()}}),e,this)})))}(),e,t)}},{key:"sendTextMessageAsync",value:function(e,t,n){try{h.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),h.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}",e)),this.privConversation.sendTextMessageAsync(e,t,n)}catch(r){this.handleError(r,n)}}},{key:"startTranscribingAsync",value:function(e,t){var n=this;(0,v.marshalPromiseToCallbacks)(function(){return S(n,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,h.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),h.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),void 0!==this.privCTRecognizer){e.next=6;break}return e.next=6,this.connectTranslatorRecognizer();case 6:return h.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),t),e.next=10,this.startContinuousRecognition();case 10:this.privIsSpeaking=!0,e.next=19;break;case 13:return e.prev=13,e.t0=e["catch"](0),this.privIsSpeaking=!1,e.next=18,this.cancelSpeech();case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[0,13]])})))}(),e,t)}},{key:"stopTranscribingAsync",value:function(e,t){var n=this;(0,v.marshalPromiseToCallbacks)(function(){return S(n,void 0,void 0,(0,o.default)().mark((function e(){var t=this;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.privIsSpeaking){e.next=5;break}return e.next=4,this.cancelSpeech();case 4:return e.abrupt("return");case 5:return this.privIsSpeaking=!1,e.next=8,new Promise((function(e,n){t.privCTRecognizer.stopContinuousRecognitionAsync(e,n)}));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.next=14,this.cancelSpeech();case 14:case"end":return e.stop()}}),e,this,[[0,10]])})))}(),e,t)}},{key:"isDisposed",value:function(){return this.privIsDisposed}},{key:"dispose",value:function(e,t,n){var r=this;(0,v.marshalPromiseToCallbacks)(function(){return S(r,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isDisposed||this.privIsSpeaking){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.cancelSpeech();case 4:this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0;case 12:case"end":return e.stop()}}),e,this)})))}(),t,n)}},{key:"cancelSpeech",value:function(){var e;return S(this,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.privIsSpeaking=!1,t.next=4,null===(e=this.privCTRecognizer)||void 0===e?void 0:e.onDisconnection();case 4:this.privCTRecognizer=void 0,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"connectTranslatorRecognizer",value:function(){return S(this,void 0,void 0,(0,o.default)().mark((function e(){var t,n=this;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,void 0===this.privAudioConfig&&(this.privAudioConfig=y.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(y.PropertyId[y.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(y.PropertyId[y.PropertyId.SpeechServiceConnection_Key],""),t=function(){return n.privConversation},this.privCTRecognizer=new C(this.privSpeechTranslationConfig,this.privAudioConfig,this,t),e.next=12;break;case 7:return e.prev=7,e.t0=e["catch"](0),e.next=11,this.cancelSpeech();case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"startContinuousRecognition",value:function(){var e=this;return new Promise((function(t,n){e.privCTRecognizer.startContinuousRecognitionAsync(t,n)}))}}]),n}(m.ConversationCommon);t.ConversationTranslator=b},c5f7:function(e,t,n){n("c975"),n("d401"),n("d3b7"),n("25f0"),e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c64e:function(e,t,n){var r=n("e1f4"),i=n("2366");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},c7eb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.default=function(){return e};var e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(A){p=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new E(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=d;var f={};function v(){}function h(){}function y(){}var g={};p(g,s,(function(){return this}));var m=Object.getPrototypeOf,S=m&&m(m(O([])));S&&S!==n&&i.call(S,s)&&(g=S);var C=y.prototype=v.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var n;o(this,"_invoke",{value:function(o,a){function s(){return new t((function(n,s){(function n(o,a,s,u){var c=l(e[o],e,a);if("throw"!==c.type){var p=c.arg,d=p.value;return d&&"object"==(0,r.default)(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){p.value=e,s(p)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)})(o,a,n,s)}))}return n=n?n.then(s,s):s()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator["return"]&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:h,configurable:!0}),h.displayName=p(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,p(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},b(P.prototype),p(P.prototype,u,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(C),p(C,c,"Generator"),p(C,s,(function(){return this})),p(C,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e},n("7a82"),n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("b636"),n("944a"),n("0c47"),n("23dc"),n("3410"),n("d9e2"),n("d401"),n("14d9"),n("159b"),n("131a"),n("26e9"),n("fb6a");var r=function(e){return e&&e.__esModule?e:{default:e}}(n("53ca"))},c898:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionEventArgs=t.ConversationTranscriptionEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,r,o),a.privResult=e,a}return(0,o.default)(n,[{key:"result",get:function(){return this.privResult}}]),n}(u.RecognitionEventArgs);t.SpeechRecognitionEventArgs=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n)}(c);t.ConversationTranscriptionEventArgs=p},c973:function(e,t,n){function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}n("d3b7"),e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},ca62:function(e,t){},cb21:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionState=void 0,t.ConnectionState=r,function(e){e[e["None"]=0]="None",e[e["Connected"]=1]="Connected",e[e["Connecting"]=2]="Connecting",e[e["Disconnected"]=3]="Disconnected"}(r||(t.ConnectionState=r={}))},cc96:function(e,t){},cd65:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioOutputStreamCallback=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=(0,i.default)((function e(){(0,o.default)(this,e)}));t.PushAudioOutputStreamCallback=a},cd8d:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.CognitiveSubscriptionKeyAuthentication=void 0,n("d3b7");var i=r(n("d4ec")),o=r(n("bee2")),a=n("903d"),s=n("574d"),u=n("5a85"),c=function(){function e(t){if((0,i.default)(this,e),!t)throw new a.ArgumentNullError("subscriptionKey");this.privAuthInfo=new u.AuthInfo(s.HeaderNames.AuthKey,t)}return(0,o.default)(e,[{key:"fetch",value:function(e){return Promise.resolve(this.privAuthInfo)}},{key:"fetchOnExpiry",value:function(e){return Promise.resolve(this.privAuthInfo)}}]),e}();t.CognitiveSubscriptionKeyAuthentication=c},cd8d7:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisContext=void 0,n("e9c4");var i=r(n("d4ec")),o=r(n("bee2")),a=n("9030"),s=function(){function e(t){(0,i.default)(this,e),this.privContext={},this.privSpeechSynthesizer=t}return(0,o.default)(e,[{key:"setSection",value:function(e,t){this.privContext[e]=t}},{key:"audioOutputFormat",set:function(e){this.privAudioOutputFormat=e}},{key:"toJSON",value:function(){var e=this.buildSynthesisContext();return this.setSection("synthesis",e),JSON.stringify(this.privContext)}},{key:"buildSynthesisContext",value:function(){return{audio:{metadataOptions:{bookmarkEnabled:!!this.privSpeechSynthesizer.bookmarkReached,punctuationBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(a.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!!this.privSpeechSynthesizer.wordBoundary),sentenceBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(a.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!this.privSpeechSynthesizer.visemeReceived,wordBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(a.PropertyId.SpeechServiceResponse_RequestWordBoundary,!!this.privSpeechSynthesizer.wordBoundary)},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:this.privSpeechSynthesizer.autoDetectSourceLanguage}}}}]),e}();t.SynthesisContext=s},cdb1:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.RiffPcmEncoder=void 0,n("c19f"),n("ace4"),n("d3b7"),n("cfc3"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7");var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n){(0,i.default)(this,e),this.privActualSampleRate=t,this.privDesiredSampleRate=n}return(0,o.default)(e,[{key:"encode",value:function(e){var t=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!t)return null;var n=2*t.length,r=new ArrayBuffer(n),i=new DataView(r);return this.floatTo16BitPCM(i,0,t),r}},{key:"setString",value:function(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}},{key:"floatTo16BitPCM",value:function(e,t,n){for(var r=0;r<n.length;r++,t+=2){var i=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,i<0?32768*i:32767*i,!0)}}},{key:"downSampleAudioFrame",value:function(e,t,n){if(!e)return null;if(n===t||n>t)return e;var r=t/n,i=Math.round(e.length/r),o=new Float32Array(i),a=0,s=0;while(s<i){var u=Math.round((s+1)*r),c=0,p=0;while(a<u&&a<e.length)c+=e[a++],p++;o[s++]=c/p}return o}}]),e}();t.RiffPcmEncoder=a},cdf8:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){var a;return(0,i.default)(this,n),a=t.call(this,r,o),a.privResult=e,a}return(0,o.default)(n,[{key:"result",get:function(){return this.privResult}}]),n}(u.RecognitionEventArgs);t.IntentRecognitionEventArgs=c},ce40:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.RestRequestType=t.RestMessageAdapter=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7"),n("e9c4"),n("d81d"),n("b64b"),n("ac1f"),n("1276"),n("498a"),n("159b");var s,u=r(n("f237")),c=n("903d"),p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))};t.RestRequestType=s,function(e){e["Get"]="GET",e["Post"]="POST",e["Delete"]="DELETE",e["File"]="file"}(s||(t.RestRequestType=s={}));var d=function(){function e(t){if((0,o.default)(this,e),!t)throw new c.ArgumentNullError("configParams");this.privHeaders=t.headers,this.privIgnoreCache=t.ignoreCache}return(0,a.default)(e,[{key:"options",set:function(e){this.privHeaders=e.headers,this.privIgnoreCache=e.ignoreCache}},{key:"setHeaders",value:function(e,t){this.privHeaders[e]=t}},{key:"request",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new c.Deferred,d=e===s.File?"POST":e,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;return{data:JSON.stringify(t),headers:JSON.stringify(e.headers),json:t,ok:e.statusCode>=200&&e.statusCode<300,status:e.statusCode,statusText:t.error?t.error.message:n.statusText?n.statusText:n.statusMessage}},f=function(o){var c=(0,u.default)(t,d,n.privHeaders,200,201,202,204,400,401,402,403,404),f=""===n.queryParams(r)?"":"?".concat(n.queryParams(r));c(f,o).then((function(t){return p(n,void 0,void 0,(0,i.default)().mark((function n(){var r;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e!==s.Delete&&204!==t.statusCode){n.next=4;break}a.resolve(l(t)),n.next=14;break;case 4:return n.prev=4,n.next=7,t.json();case 7:r=n.sent,a.resolve(l(t,r)),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](4),a.resolve(l(t));case 14:case"end":return n.stop()}}),n,null,[[4,11]])})))})).catch((function(e){a.reject(e)}))};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),e===s.Post&&o&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),f(o),a.promise}},{key:"queryParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}}],[{key:"extractHeaderValue",value:function(e,t){var n="";try{var r=t.trim().split(/[\r\n]+/),i={};r.forEach((function(e){var t=e.split(": "),n=t.shift().toLowerCase(),r=t.join(": ");i[n]=r})),n=i[e.toLowerCase()]}catch(o){}return n}}]),e}();t.RestMessageAdapter=d},cfc3:function(e,t,n){var r=n("74e8");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},d10a:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileResult=t.VoiceProfileCancellationDetails=void 0;var i=r(n("262e")),o=r(n("2caf")),a=r(n("d4ec")),s=r(n("bee2")),u=n("21c7"),c=n("277e"),p=n("9030"),d=function(){function e(t,n){(0,a.default)(this,e),this.privReason=t,this.privProperties=new p.PropertyCollection,t===p.ResultReason.Canceled&&(c.Contracts.throwIfNullOrUndefined(n,"statusText"),this.privErrorDetails=n,this.privProperties.setProperty(u.CancellationErrorCodePropertyName,p.CancellationErrorCode[p.CancellationErrorCode.ServiceError]))}return(0,s.default)(e,[{key:"reason",get:function(){return this.privReason}},{key:"properties",get:function(){return this.privProperties}},{key:"errorDetails",get:function(){return this.privErrorDetails}}]),e}();t.VoiceProfileResult=d;var l=function(e){(0,i.default)(n,e);var t=(0,o.default)(n);function n(e,r,i){return(0,a.default)(this,n),t.call(this,e,r,i)}return(0,s.default)(n,null,[{key:"fromResult",value:function(e){var t=p.CancellationReason.Error,r=p.CancellationErrorCode.NoError;return e.properties&&(r=p.CancellationErrorCode[e.properties.getProperty(u.CancellationErrorCodePropertyName,p.CancellationErrorCode[p.CancellationErrorCode.NoError])]),new n(t,e.errorDetails,r)}}]),n}(p.CancellationDetailsBase);t.VoiceProfileCancellationDetails=l},d201:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return r.Conversation}}),Object.defineProperty(t,"ConversationCommon",{enumerable:!0,get:function(){return i.ConversationCommon}}),Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return o.ConversationExpirationEventArgs}}),Object.defineProperty(t,"ConversationImpl",{enumerable:!0,get:function(){return r.ConversationImpl}}),Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return a.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return d.ConversationTranscriber}}),Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return s.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return u.ConversationTranslationEventArgs}}),Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return c.ConversationTranslationResult}}),Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return p.ConversationTranslator}}),Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return l.Participant}}),Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return f.ParticipantChangedReason}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return l.User}});var r=n("5b2f"),i=n("27c8"),o=n("538a"),a=n("579f"),s=n("a4bf"),u=n("52b8"),c=n("40b5"),p=n("c574"),d=n("1314"),l=n("fd3c"),f=n("fe83")},d36a:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognitionConfig=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("21c7"),s=function(){function e(t,n){(0,i.default)(this,e),this.privContext=t||new a.Context(null),this.privParameters=n}return(0,o.default)(e,[{key:"parameters",get:function(){return this.privParameters}},{key:"Context",get:function(){return this.privContext}}]),e}();t.SpeakerRecognitionConfig=s},d379:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyInfo=void 0,n("e25e");var i=r(n("d4ec")),o=r(n("bee2")),a=n("9030"),s=function(){function e(t,n,r,o){(0,i.default)(this,e),this.privProxyHostName=t,this.privProxyPort=n,this.privProxyUserName=r,this.privProxyPassword=o}return(0,o.default)(e,[{key:"HostName",get:function(){return this.privProxyHostName}},{key:"Port",get:function(){return this.privProxyPort}},{key:"UserName",get:function(){return this.privProxyUserName}},{key:"Password",get:function(){return this.privProxyPassword}}],[{key:"fromParameters",value:function(t){return new e(t.getProperty(a.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(t.getProperty(a.PropertyId.SpeechServiceConnection_ProxyPort),10),t.getProperty(a.PropertyId.SpeechServiceConnection_ProxyUserName),t.getProperty(a.PropertyId.SpeechServiceConnection_ProxyPassword))}},{key:"fromRecognizerConfig",value:function(e){return this.fromParameters(e.parameters)}}]),e}();t.ProxyInfo=s},d42e:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerServiceRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("262e")),u=r(n("2caf"));n("d3b7"),n("e9c4");var c=n("9271"),p=n("903d"),d=n("9030"),l=n("21c7"),f=n("f508"),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},h=function(e){(0,s.default)(n,e);var t=(0,u.default)(n);function n(e,r,i,a,s){var u;return(0,o.default)(this,n),u=t.call(this,e,r,i,a,s),u.privSpeakerRecognizer=s,u.privSpeakerAudioSource=i,u.recognizeSpeaker=function(e){return u.recognizeSpeakerOnce(e)},u.sendPrePayloadJSONOverride=function(){return u.noOp()},u}return(0,a.default)(n,[{key:"processTypeSpecificMessages",value:function(e){var t=!1,n=new d.PropertyCollection;switch(e.messageType===p.MessageType.Text&&n.setProperty(d.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speaker.response":var r,i=JSON.parse(e.textBody);r="success"!==i.status.statusCode.toLowerCase()?new d.SpeakerRecognitionResult(i,d.ResultReason.Canceled,d.CancellationErrorCode.ServiceError,i.status.reason):new d.SpeakerRecognitionResult(i,d.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(r),t=!0;break;default:break}var o=new p.Deferred;return o.resolve(t),o.promise}},{key:"cancelRecognition",value:function(e,t,n,r,i){var o=new d.PropertyCollection;if(o.setProperty(l.CancellationErrorCodePropertyName,d.CancellationErrorCode[r]),this.privResultDeferral){var a=new d.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:i,reason:i}},d.ResultReason.Canceled,r,i);try{this.privResultDeferral.resolve(a)}catch(i){this.privResultDeferral.reject(i)}}}},{key:"recognizeSpeakerOnce",value:function(e){return v(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r,o,a,s,u,l,f,v=this;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.privSpeakerModel=e,this.voiceProfileType=e.scenario,this.privResultDeferral||(this.privResultDeferral=new p.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(d.PropertyId.Speech_SessionId,this.privRequestSession.sessionId),n=this.connectImpl(),r=this.sendPreAudioMessages(this.extractSpeakerContext(e)),t.next=10,this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId);case 10:return o=t.sent,t.next=13,this.privSpeakerAudioSource.format;case 13:return a=t.sent,t.next=16,this.privSpeakerAudioSource.deviceInfo;case 16:return s=t.sent,u=new c.ReplayableAudioNode(o,a.avgBytesPerSec),t.next=20,this.privRequestSession.onAudioSourceAttachCompleted(u,!1);case 20:return this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:s},t.prev=21,t.next=24,n;case 24:return t.next=26,r;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](21),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,d.CancellationReason.Error,d.CancellationErrorCode.ConnectionFailure,t.t0);case 31:return l=new d.SessionEventArgs(this.privRequestSession.sessionId),this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,l),this.receiveMessage(),f=this.sendAudio(u),f.then((function(){}),(function(e){v.cancelRecognition(v.privRequestSession.sessionId,v.privRequestSession.requestId,d.CancellationReason.Error,d.CancellationErrorCode.RuntimeError,e)})),t.abrupt("return",this.privResultDeferral.promise);case 37:case"end":return t.stop()}}),t,this,[[21,28]])})))}},{key:"sendPreAudioMessages",value:function(e){return v(this,void 0,void 0,(0,i.default)().mark((function t(){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchConnection();case 2:return n=t.sent,t.next=5,this.sendSpeakerRecognition(n,e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"sendSpeakerRecognition",value:function(e,t){return v(this,void 0,void 0,(0,i.default)().mark((function n(){var r;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=JSON.stringify(t),n.abrupt("return",e.send(new f.SpeechConnectionMessage(p.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",r)));case 2:case"end":return n.stop()}}),n,this)})))}},{key:"extractSpeakerContext",value:function(e){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:e.profileIds,scenario:e.scenario}}}]),n}(l.ServiceRecognizerBase);t.SpeakerServiceRecognizer=h},d4c9:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionMessage=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("903d"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a){var s;(0,i.default)(this,n),s=t.call(this,e,r,o,a);var u=JSON.parse(s.textBody);return void 0!==u.type&&(s.privConversationMessageType=u.type),s}return(0,o.default)(n,[{key:"conversationMessageType",get:function(){return this.privConversationMessageType}}]),n}(u.ConnectionMessage);t.ConversationConnectionMessage=c},d4cc:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n,r,o,a,s,u,c,p,d){(0,i.default)(this,e),this.privResultId=t,this.privReason=n,this.privText=r,this.privDuration=o,this.privOffset=a,this.privLanguage=s,this.privLanguageDetectionConfidence=u,this.privErrorDetails=c,this.privJson=p,this.privProperties=d}return(0,o.default)(e,[{key:"resultId",get:function(){return this.privResultId}},{key:"reason",get:function(){return this.privReason}},{key:"text",get:function(){return this.privText}},{key:"duration",get:function(){return this.privDuration}},{key:"offset",get:function(){return this.privOffset}},{key:"language",get:function(){return this.privLanguage}},{key:"languageDetectionConfidence",get:function(){return this.privLanguageDetectionConfidence}},{key:"errorDetails",get:function(){return this.privErrorDetails}},{key:"json",get:function(){return this.privJson}},{key:"properties",get:function(){return this.privProperties}}]),e}();t.RecognitionResult=a},d518:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionEventArgs=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n)}(u.SessionEventArgs);t.ConnectionEventArgs=c},d5b9:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,r),o.privResult=e,o}return(0,o.default)(n,[{key:"result",get:function(){return this.privResult}}]),n}(u.SessionEventArgs);t.TranslationSynthesisEventArgs=c},d86b:function(e,t,n){var r=n("d039");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},d967:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},n("d3b7"),n("f8c9"),n("4ae1")},d9bf:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SendingAgentContextMessageEvent=t.DialogEvent=void 0;var i=r(n("bee2")),o=r(n("d4ec")),a=r(n("262e")),s=r(n("2caf")),u=n("85d3"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.EventType.Info;return(0,o.default)(this,n),t.call(this,e,r)}return(0,i.default)(n)}(u.PlatformEvent);t.DialogEvent=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this,"SendingAgentContextMessageEvent"),r.privAgentConfig=e,r}return(0,i.default)(n,[{key:"agentConfig",get:function(){return this.privAgentConfig}}]),n}(c);t.SendingAgentContextMessageEvent=p},d9e2d:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.MicAudioSource=t.AudioWorkletSourceURLPropertyName=void 0;var i=r(n("b85c")),o=r(n("c7eb")),a=r(n("d4ec")),s=r(n("bee2"));n("d3b7"),n("d9e2"),n("d401");var u=n("21c7"),c=n("903d"),p=n("725b"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))};t.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";var l=function(){function e(t,n,r,i){(0,a.default)(this,e),this.privRecorder=t,this.deviceId=n,this.privStreams={},this.privOutputChunkSize=e.AUDIOFORMAT.avgBytesPerSec/10,this.privId=r||(0,c.createNoDashGuid)(),this.privEvents=new c.EventSource,this.privMediaStream=i||null,this.privIsClosing=!1}return(0,s.default)(e,[{key:"format",get:function(){return Promise.resolve(e.AUDIOFORMAT)}},{key:"turnOn",value:function(){var e=this;if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new c.Deferred;try{this.createAudioContext()}catch(a){if(a instanceof Error){var t=a;this.privInitializeDeferral.reject(t.name+": "+t.message)}else this.privInitializeDeferral.reject(a);return this.privInitializeDeferral.promise}var n=window.navigator,r=n.getUserMedia||n.webkitGetUserMedia||n.mozGetUserMedia||n.msGetUserMedia;if(n.mediaDevices&&(r=function(e,t,r){n.mediaDevices.getUserMedia(e).then(t).catch(r)}),r){var i=function(){e.onEvent(new c.AudioSourceInitializingEvent(e.privId)),e.privMediaStream&&e.privMediaStream.active?(e.onEvent(new c.AudioSourceReadyEvent(e.privId)),e.privInitializeDeferral.resolve()):r({audio:!e.deviceId||{deviceId:e.deviceId},video:!1},(function(t){e.privMediaStream=t,e.onEvent(new c.AudioSourceReadyEvent(e.privId)),e.privInitializeDeferral.resolve()}),(function(t){var n="Error occurred during microphone initialization: ".concat(t);e.privInitializeDeferral.reject(n),e.onEvent(new c.AudioSourceErrorEvent(e.privId,n))}))};"suspended"===this.privContext.state?this.privContext.resume().then(i).catch((function(t){e.privInitializeDeferral.reject("Failed to initialize audio context: ".concat(t))})):i()}else{var o="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(o),this.onEvent(new c.AudioSourceErrorEvent(o,""))}return this.privInitializeDeferral.promise}},{key:"id",value:function(){return this.privId}},{key:"attach",value:function(e){var t=this;return this.onEvent(new c.AudioStreamNodeAttachingEvent(this.privId,e)),this.listen(e).then((function(n){return t.onEvent(new c.AudioStreamNodeAttachedEvent(t.privId,e)),{detach:function(){return d(t,void 0,void 0,(0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.readEnded(),delete this.privStreams[e],this.onEvent(new c.AudioStreamNodeDetachedEvent(this.privId,e)),t.abrupt("return",this.turnOff());case 4:case"end":return t.stop()}}),t,this)})))},id:function(){return e},read:function(){return n.read()}}}))}},{key:"detach",value:function(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new c.AudioStreamNodeDetachedEvent(this.privId,e)))}},{key:"turnOff",value:function(){return d(this,void 0,void 0,(0,o.default)().mark((function e(){var t,n;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t in this.privStreams)t&&(n=this.privStreams[t],n&&n.close());if(this.onEvent(new c.AudioSourceOffEvent(this.privId)),!this.privInitializeDeferral){e.next=6;break}return e.next=5,this.privInitializeDeferral;case 5:this.privInitializeDeferral=null;case 6:return e.next=8,this.destroyAudioContext();case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})))}},{key:"events",get:function(){return this.privEvents}},{key:"deviceInfo",get:function(){return this.getMicrophoneLabel().then((function(t){return{bitspersample:e.AUDIOFORMAT.bitsPerSample,channelcount:e.AUDIOFORMAT.channels,connectivity:u.connectivity.Unknown,manufacturer:"Speech SDK",model:t,samplerate:e.AUDIOFORMAT.samplesPerSec,type:u.type.Microphones}}))}},{key:"setProperty",value:function(e,t){if("MICROPHONE-WorkletSourceUrl"!==e)throw new Error("Property '"+e+"' is not supported on Microphone.");this.privRecorder.setWorkletUrl(t)}},{key:"getMicrophoneLabel",value:function(){var e=this;if(void 0!==this.privMicrophoneLabel)return Promise.resolve(this.privMicrophoneLabel);if(void 0===this.privMediaStream||!this.privMediaStream.active)return Promise.resolve("microphone");this.privMicrophoneLabel="microphone";var t=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(void 0===t)return Promise.resolve(this.privMicrophoneLabel);var n=new c.Deferred;return navigator.mediaDevices.enumerateDevices().then((function(r){var o,a=(0,i.default)(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.deviceId===t){e.privMicrophoneLabel=s.label;break}}}catch(u){a.e(u)}finally{a.f()}n.resolve(e.privMicrophoneLabel)}),(function(){return n.resolve(e.privMicrophoneLabel)})),n.promise}},{key:"listen",value:function(e){return d(this,void 0,void 0,(0,o.default)().mark((function t(){var n,r;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.turnOn();case 2:n=new c.ChunkedArrayBufferStream(this.privOutputChunkSize,e),this.privStreams[e]=n,t.prev=4,this.privRecorder.record(this.privContext,this.privMediaStream,n),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](4),this.onEvent(new c.AudioStreamNodeErrorEvent(this.privId,e,t.t0)),t.t0;case 12:return r=n,t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this,[[4,8]])})))}},{key:"onEvent",value:function(e){this.privEvents.onEvent(e),c.Events.instance.onEvent(e)}},{key:"createAudioContext",value:function(){this.privContext||(this.privContext=p.AudioStreamFormatImpl.getAudioContext(e.AUDIOFORMAT.samplesPerSec))}},{key:"destroyAudioContext",value:function(){return d(this,void 0,void 0,(0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privContext){e.next=2;break}return e.abrupt("return");case 2:if(this.privRecorder.releaseMediaResources(this.privContext),t=!1,"close"in this.privContext&&(t=!0),!t){e.next=14;break}if(this.privIsClosing){e.next=12;break}return this.privIsClosing=!0,e.next=10,this.privContext.close();case 10:this.privContext=null,this.privIsClosing=!1;case 12:e.next=17;break;case 14:if(null===this.privContext||"running"!==this.privContext.state){e.next=17;break}return e.next=17,this.privContext.suspend();case 17:case"end":return e.stop()}}),e,this)})))}}]),e}();t.MicAudioSource=l,l.AUDIOFORMAT=p.AudioStreamFormat.getDefaultInputFormat()},da88:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=t.ConnectionMessage=void 0,n("c19f"),n("ace4"),n("d3b7");var i,o=r(n("d4ec")),a=r(n("bee2")),s=n("0f96"),u=n("5628");t.MessageType=i,function(e){e[e["Text"]=0]="Text",e[e["Binary"]=1]="Binary"}(i||(t.MessageType=i={}));var c=function(){function e(t,n,r,a){if((0,o.default)(this,e),this.privBody=null,t===i.Text&&n&&"string"!==typeof n)throw new s.InvalidOperationError("Payload must be a string");if(t===i.Binary&&n&&!(n instanceof ArrayBuffer))throw new s.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=t,this.privBody=n,this.privHeaders=r||{},this.privId=a||(0,u.createNoDashGuid)(),this.messageType){case i.Binary:this.privSize=null!==this.binaryBody?this.binaryBody.byteLength:0;break;case i.Text:this.privSize=this.textBody.length}}return(0,a.default)(e,[{key:"messageType",get:function(){return this.privMessageType}},{key:"headers",get:function(){return this.privHeaders}},{key:"body",get:function(){return this.privBody}},{key:"textBody",get:function(){if(this.privMessageType===i.Binary)throw new s.InvalidOperationError("Not supported for binary message");return this.privBody}},{key:"binaryBody",get:function(){if(this.privMessageType===i.Text)throw new s.InvalidOperationError("Not supported for text message");return this.privBody}},{key:"id",get:function(){return this.privId}}]),e}();t.ConnectionMessage=c},db0f:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceTelemetryListener=void 0,n("14d9"),n("e9c4"),n("b64b"),n("d401"),n("d3b7"),n("25f0");var i=r(n("d4ec")),o=r(n("bee2")),a=n("903d"),s=n("0185"),u=function(){function e(t,n,r){(0,i.default)(this,e),this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=t,this.privAudioSourceId=n,this.privAudioNodeId=r,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}return(0,o.default)(e,[{key:"phraseReceived",value:function(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}},{key:"hypothesisReceived",value:function(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}},{key:"onEvent",value:function(e){if(!this.privIsDisposed&&(e instanceof s.RecognitionTriggeredEvent&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof a.AudioStreamNodeAttachingEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof a.AudioStreamNodeAttachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof a.AudioSourceErrorEvent&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof a.AudioStreamNodeErrorEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof a.AudioStreamNodeDetachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof s.ConnectingToServiceEvent&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof a.ConnectionStartEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof a.ConnectionEstablishedEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof a.ConnectionEstablishErrorEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof a.ConnectionMessageReceivedEvent&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path)){this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array);this.privReceivedMessages[e.message.headers.path].length<50&&this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)}}},{key:"getTelemetry",value:function(){var e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});var t={Metrics:e,ReceivedMessages:this.privReceivedMessages},n=JSON.stringify(t);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],n}},{key:"hasTelemetry",get:function(){return 0!==Object.keys(this.privReceivedMessages).length||null!==this.privListeningTriggerMetric||null!==this.privMicMetric||null!==this.privConnectionEstablishMetric||0!==this.privPhraseLatencies.length||0!==this.privHypothesisLatencies.length}},{key:"dispose",value:function(){this.privIsDisposed=!0}},{key:"getConnectionError",value:function(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}}}]),e}();t.ServiceTelemetryListener=u},db90:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630")},dbce:function(e,t,n){n("d3b7"),n("3ca3"),n("10d1"),n("ddb0"),n("7a82"),n("e439");var r=n("7037")["default"];function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=e[s]}return o["default"]=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports["default"]=e.exports},de28:function(e,t,n){"use strict";n("7a82");var r=n("dbce").default,i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return u.apply(this,arguments)};var o=i(n("c7eb")),a=i(n("1da1")),s=r(n("ee94"));function u(){return u=(0,a.default)((0,o.default)().mark((function e(t,n){var r,i,a;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.SpeechConfig.fromSubscription("7f85925d8b414269bf4a92d5414174f1","eastasia"),i=s.AudioConfig.fromDefaultSpeakerOutput(),r.speechSynthesisVoiceName=n,a=new s.SpeechSynthesizer(r,i),e.next=6,a.speakTextAsync(t,(function(e){e.reason===s.ResultReason.SynthesizingAudioCompleted?console.log("Synthesis finished."):console.error("Speech synthesis canceled, "+e.errorDetails+"\nDid you set the speech resource key and region values?"),a.close()}),(function(e){console.trace("Error - "+e),a.close()}));case 6:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}},de30:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.PhraseListGrammar=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privGrammerBuilder=t.dynamicGrammar}return(0,o.default)(e,[{key:"addPhrase",value:function(e){this.privGrammerBuilder.addPhrase(e)}},{key:"addPhrases",value:function(e){this.privGrammerBuilder.addPhrase(e)}},{key:"clear",value:function(){this.privGrammerBuilder.clearPhrases()}}],[{key:"fromRecognizer",value:function(t){var n=t.internalData;return new e(n)}}]),e}();t.PhraseListGrammar=a},ded3:function(e,t,n){n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("14d9"),n("159b"),n("dbb4"),n("1d1c"),n("7a82");var r=n("9523");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},e037:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptionServiceRecognizer=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2")),s=r(n("262e")),u=r(n("2caf"));n("d3b7"),n("e9c4");var c=n("903d"),p=n("9030"),d=n("21c7"),l=n("f508"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},v=function(e){(0,s.default)(n,e);var t=(0,u.default)(n);function n(e,r,i,a,s){var u;return(0,o.default)(this,n),u=t.call(this,e,r,i,a,s),u.privTranscriberRecognizer=s,u.sendPrePayloadJSONOverride=function(e){return u.sendTranscriptionStartJSON(e)},"true"===u.privRecognizerConfig.parameters.getProperty(p.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)&&u.privSpeechContext.setWordLevelTimings(),u}return(0,a.default)(n,[{key:"sendSpeechEventAsync",value:function(e,t){return f(this,void 0,void 0,(0,i.default)().mark((function n(){var r;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!this.privRequestSession.isRecognizing){n.next=6;break}return n.next=3,this.fetchConnection();case 3:return r=n.sent,n.next=6,this.sendSpeechEvent(r,this.createSpeechEventPayload(e,t));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"processTypeSpecificMessages",value:function(e){return this.processSpeechMessages(e)}},{key:"handleRecognizedCallback",value:function(e,t,n){try{var r=new p.SpeechRecognitionEventArgs(e,t,n);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,r),this.privSuccessCallback){try{this.privSuccessCallback(e)}catch(i){this.privErrorCallback&&this.privErrorCallback(i)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch(o){}}},{key:"handleRecognizingCallback",value:function(e,t,n){try{var r=new p.SpeechRecognitionEventArgs(e,t,n);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,r)}catch(i){}}},{key:"cancelRecognition",value:function(e,t,n,r,i){var o=new p.PropertyCollection;if(o.setProperty(d.CancellationErrorCodePropertyName,p.CancellationErrorCode[r]),this.privTranscriberRecognizer.canceled){var a=new p.ConversationTranscriptionCanceledEventArgs(n,i,r,void 0,e);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,a)}catch(u){}}if(this.privSuccessCallback){var s=new p.SpeechRecognitionResult(t,p.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(s),this.privSuccessCallback=void 0}catch(c){}}}},{key:"sendTranscriptionStartJSON",value:function(e){return f(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.sendSpeechContext(e,!0);case 2:return n=this.privTranscriberRecognizer.getConversationInfo(),r=this.createSpeechEventPayload(n,"start"),t.next=6,this.sendSpeechEvent(e,r);case 6:return t.next=8,this.sendWaveHeader(e);case 8:return t.abrupt("return");case 9:case"end":return t.stop()}}),t,this)})))}},{key:"sendSpeechEvent",value:function(e,t){var n=JSON.stringify(t);if(n)return e.send(new l.SpeechConnectionMessage(c.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",n))}},{key:"createSpeechEventPayload",value:function(e,t){var n={id:"meeting",name:t,meeting:e.conversationProperties};return n.meeting.id=e.id,n.meeting.attendees=e.participants,n.meeting.record="on"===e.conversationProperties.audiorecording?"true":"false",n}}]),n}(d.ConversationServiceRecognizer);t.TranscriptionServiceRecognizer=v},e1f4:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e50d:function(e,t,n){n("8172"),n("efec"),n("a4d3"),n("e01a"),n("d3b7"),n("d9e2"),n("d401"),n("a9e3");var r=n("7037")["default"];e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e5da:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageIdMode=void 0,t.LanguageIdMode=r,function(e){e[e["AtStart"]=0]="AtStart",e[e["Continuous"]=1]="Continuous"}(r||(t.LanguageIdMode=r={}))},e7f1:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationPhrase=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("277e"),s=n("21c7"),u=n("b6b3"),c=function(){function e(t){(0,i.default)(this,e),this.privTranslationPhrase=t,this.privTranslationPhrase.RecognitionStatus=s.RecognitionStatus[this.privTranslationPhrase.RecognitionStatus],void 0!==this.privTranslationPhrase.Translation&&(this.privTranslationPhrase.Translation.TranslationStatus=u.TranslationStatus[this.privTranslationPhrase.Translation.TranslationStatus])}return(0,o.default)(e,[{key:"RecognitionStatus",get:function(){return this.privTranslationPhrase.RecognitionStatus}},{key:"Offset",get:function(){return this.privTranslationPhrase.Offset}},{key:"Duration",get:function(){return this.privTranslationPhrase.Duration}},{key:"Text",get:function(){return this.privTranslationPhrase.Text}},{key:"Language",get:function(){var e;return null===(e=this.privTranslationPhrase.PrimaryLanguage)||void 0===e?void 0:e.Language}},{key:"Confidence",get:function(){var e;return null===(e=this.privTranslationPhrase.PrimaryLanguage)||void 0===e?void 0:e.Confidence}},{key:"Translation",get:function(){return this.privTranslationPhrase.Translation}}],[{key:"fromJSON",value:function(t){return new e(JSON.parse(t))}},{key:"fromTranslationResponse",value:function(t){a.Contracts.throwIfNullOrUndefined(t,"translationResponse");var n=t.SpeechPhrase;return t.SpeechPhrase=void 0,n.Translation=t,n.Text=n.DisplayText,new e(n)}}]),e}();t.TranslationPhrase=c},e833:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.FileAudioSource=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7"),n("baa5"),n("fb6a"),n("ace4"),n("99af"),n("d9e2"),n("d401"),n("25f0");var s=n("21c7"),u=n("903d"),c=n("725b"),p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},d=function(){function e(t,n,r){(0,o.default)(this,e),this.privStreams={},this.privHeaderEnd=44,this.privId=r||(0,u.createNoDashGuid)(),this.privEvents=new u.EventSource,this.privSource=t,"undefined"!==typeof window&&"undefined"!==typeof Blob&&this.privSource instanceof Blob?this.privFilename=t.name:this.privFilename=n||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}return(0,a.default)(e,[{key:"format",get:function(){return this.privAudioFormatPromise}},{key:"turnOn",value:function(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){var e=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new u.AudioSourceErrorEvent(e,"")),Promise.reject(e)}this.onEvent(new u.AudioSourceInitializingEvent(this.privId)),this.onEvent(new u.AudioSourceReadyEvent(this.privId))}},{key:"id",value:function(){return this.privId}},{key:"attach",value:function(e){return p(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r=this;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.onEvent(new u.AudioStreamNodeAttachingEvent(this.privId,e)),t.next=3,this.upload(e);case 3:return n=t.sent,this.onEvent(new u.AudioStreamNodeAttachedEvent(this.privId,e)),t.abrupt("return",Promise.resolve({detach:function(){return p(r,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.readEnded(),delete this.privStreams[e],this.onEvent(new u.AudioStreamNodeDetachedEvent(this.privId,e)),t.next=5,this.turnOff();case 5:case"end":return t.stop()}}),t,this)})))},id:function(){return e},read:function(){return n.read()}}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"detach",value:function(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new u.AudioStreamNodeDetachedEvent(this.privId,e)))}},{key:"turnOff",value:function(){for(var e in this.privStreams)if(e){var t=this.privStreams[e];t&&!t.isClosed&&t.close()}return this.onEvent(new u.AudioSourceOffEvent(this.privId)),Promise.resolve()}},{key:"events",get:function(){return this.privEvents}},{key:"deviceInfo",get:function(){return this.privAudioFormatPromise.then((function(e){return Promise.resolve({bitspersample:e.bitsPerSample,channelcount:e.channels,connectivity:s.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:e.samplesPerSec,type:s.type.File})}))}},{key:"readHeader",value:function(){var e=this,t=this.privSource.slice(0,4296),n=new u.Deferred,r=function(t){var r=new DataView(t),i=function(e){return String.fromCharCode(r.getUint8(e),r.getUint8(e+1),r.getUint8(e+2),r.getUint8(e+3))};if("RIFF"===i(0))if("WAVE"===i(8)&&"fmt "===i(12)){for(var o=r.getInt32(16,!0),a=r.getUint16(22,!0),s=r.getUint32(24,!0),u=r.getUint16(34,!0),p=36+Math.max(o-16,0);"data"!==i(p);p+=2)if(p>4288)return void n.reject("Invalid WAV header in file, data block was not found");e.privHeaderEnd=p+8,n.resolve(c.AudioStreamFormat.getWaveFormatPCM(s,u,a))}else n.reject("Invalid WAV header in file, WAVEfmt was not found");else n.reject("Invalid WAV header in file, RIFF was not found")};if("undefined"!==typeof window&&"undefined"!==typeof Blob&&t instanceof Blob){var i=new FileReader;i.onload=function(e){var t=e.target.result;r(t)},i.readAsArrayBuffer(t)}else{var o=t;r(o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength))}return n.promise}},{key:"upload",value:function(e){return p(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r,o,a,s,c,p,d=this;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(t){var n="Error occurred while processing '".concat(d.privFilename,"'. ").concat(t);throw d.onEvent(new u.AudioStreamNodeErrorEvent(d.privId,e,n)),new Error(n)},t.prev=1,t.next=4,this.turnOn();case 4:return t.next=6,this.privAudioFormatPromise;case 6:return r=t.sent,o=new u.ChunkedArrayBufferStream(r.avgBytesPerSec/10,e),this.privStreams[e]=o,a=this.privSource.slice(this.privHeaderEnd),s=function(e){o.isClosed||(o.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()}),o.close())},"undefined"!==typeof window&&"undefined"!==typeof Blob&&a instanceof Blob?(c=new FileReader,c.onerror=function(e){return n(e.toString())},c.onload=function(e){var t=e.target.result;s(t)},c.readAsArrayBuffer(a)):(p=a,s(p.buffer.slice(p.byteOffset,p.byteOffset+p.byteLength))),t.abrupt("return",o);case 15:t.prev=15,t.t0=t["catch"](1),n(t.t0);case 18:case"end":return t.stop()}}),t,this,[[1,15]])})))}},{key:"onEvent",value:function(e){this.privEvents.onEvent(e),u.Events.instance.onEvent(e)}}]),e}();t.FileAudioSource=d},e85d:function(e,t){},ed1e:function(e,t){},ed6d:function(e,t,n){n("d9e2"),n("d401"),n("7a82");var r=n("4a4b");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},ee91:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.CognitiveTokenAuthentication=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("903d"),s=n("5a85"),u=n("574d"),c=function(){function e(t,n){if((0,i.default)(this,e),!t)throw new a.ArgumentNullError("fetchCallback");if(!n)throw new a.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=t,this.privFetchOnExpiryCallback=n}return(0,o.default)(e,[{key:"fetch",value:function(t){return this.privFetchCallback(t).then((function(t){return new s.AuthInfo(u.HeaderNames.Authorization,void 0===t?void 0:e.privTokenPrefix+t)}))}},{key:"fetchOnExpiry",value:function(t){return this.privFetchOnExpiryCallback(t).then((function(t){return new s.AuthInfo(u.HeaderNames.Authorization,void 0===t?void 0:e.privTokenPrefix+t)}))}}]),e}();t.CognitiveTokenAuthentication=c,c.privTokenPrefix="bearer "},ee94:function(e,t,n){"use strict";n("7a82"),n("d3b7"),n("159b"),n("b64b"),Object.defineProperty(t,"__esModule",{value:!0});var r=n("9271"),i=n("903d"),o=n("9030");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))})),i.Events.instance.attachConsoleListener(new r.ConsoleLoggingListener)},eec0:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAdapterBase=void 0;var i=r(n("b85c")),o=r(n("c7eb")),a=r(n("d4ec")),s=r(n("bee2"));n("d3b7"),n("99af"),n("f4b3"),n("bf19"),n("d9e2"),n("d401"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7");var u=n("903d"),c=n("9030"),p=n("21c7"),d=n("f508"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},f=function(){function e(t,n,r,i,o){var s=this;if((0,a.default)(this,e),this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!t)throw new u.ArgumentNullError("authentication");if(!n)throw new u.ArgumentNullError("connectionFactory");if(!r)throw new u.ArgumentNullError("synthesizerConfig");this.privAuthentication=t,this.privConnectionFactory=n,this.privSynthesizerConfig=r,this.privIsDisposed=!1,this.privSpeechSynthesizer=i,this.privSessionAudioDestination=o,this.privSynthesisTurn=new p.SynthesisTurn,this.privConnectionEvents=new u.EventSource,this.privServiceEvents=new u.EventSource,this.privSynthesisContext=new p.SynthesisContext(this.privSpeechSynthesizer),this.privAgentConfig=new p.AgentConfig,this.connectionEvents.attach((function(e){if("ConnectionClosedEvent"===e.name){var t=e;1e3!==t.statusCode&&s.cancelSynthesisLocal(c.CancellationReason.Error,1007===t.statusCode?c.CancellationErrorCode.BadRequestParameters:c.CancellationErrorCode.ConnectionFailure,"".concat(t.reason," websocket error code: ").concat(t.statusCode))}}))}return(0,s.default)(e,[{key:"synthesisContext",get:function(){return this.privSynthesisContext}},{key:"agentConfig",get:function(){return this.privAgentConfig}},{key:"connectionEvents",get:function(){return this.privConnectionEvents}},{key:"serviceEvents",get:function(){return this.privServiceEvents}},{key:"activityTemplate",get:function(){return this.privActivityTemplate},set:function(e){this.privActivityTemplate=e}},{key:"audioOutputFormat",set:function(e){this.privAudioOutputFormat=e,this.privSynthesisTurn.audioOutputFormat=e,void 0!==this.privSessionAudioDestination&&(this.privSessionAudioDestination.format=e),void 0!==this.synthesisContext&&(this.synthesisContext.audioOutputFormat=e)}},{key:"isDisposed",value:function(){return this.privIsDisposed}},{key:"dispose",value:function(e){return l(this,void 0,void 0,(0,o.default)().mark((function t(){var n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.privIsDisposed=!0,void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.close(),void 0===this.privConnectionConfigurationPromise){t.next=8;break}return t.next=5,this.privConnectionConfigurationPromise;case 5:return n=t.sent,t.next=8,n.dispose(e);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"connect",value:function(){return l(this,void 0,void 0,(0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.connectImpl();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"sendNetworkMessage",value:function(e,t){return l(this,void 0,void 0,(0,o.default)().mark((function n(){var r,i,a;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="string"===typeof t?u.MessageType.Text:u.MessageType.Binary,i="string"===typeof t?"application/json":"",n.next=4,this.fetchConnection();case 4:return a=n.sent,n.abrupt("return",a.send(new d.SpeechConnectionMessage(r,e,this.privSynthesisTurn.requestId,i,t)));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"Speak",value:function(e,t,n,r,i,a){return l(this,void 0,void 0,(0,o.default)().mark((function s(){var u,p,d;return(0,o.default)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(u=t?e:this.privSpeechSynthesizer.buildSsml(e),void 0===this.speakOverride){o.next=3;break}return o.abrupt("return",this.speakOverride(u,n,r,i));case 3:return this.privSuccessCallback=r,this.privErrorCallback=i,this.privSynthesisTurn.startNewSynthesis(n,e,t,a),o.prev=6,o.next=9,this.connectImpl();case 9:return o.next=11,this.fetchConnection();case 11:return p=o.sent,o.next=14,this.sendSynthesisContext(p);case 14:return o.next=16,this.sendSsmlMessage(p,u,n);case 16:d=new c.SpeechSynthesisEventArgs(new c.SpeechSynthesisResult(n,c.ResultReason.SynthesizingAudioStarted)),this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,d),this.receiveMessage(),o.next=25;break;case 21:return o.prev=21,o.t0=o["catch"](6),this.cancelSynthesisLocal(c.CancellationReason.Error,c.CancellationErrorCode.ConnectionFailure,o.t0),o.abrupt("return",Promise.reject(o.t0));case 25:case"end":return o.stop()}}),s,this,[[6,21]])})))}},{key:"cancelSynthesis",value:function(e,t,n,r){var i=new c.PropertyCollection;i.setProperty(p.CancellationErrorCodePropertyName,c.CancellationErrorCode[n]);var o=new c.SpeechSynthesisResult(e,c.ResultReason.Canceled,void 0,r,i);if(this.privSpeechSynthesizer.SynthesisCanceled){var a=new c.SpeechSynthesisEventArgs(o);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,a)}catch(s){}}if(this.privSuccessCallback)try{this.privSuccessCallback(o)}catch(u){}}},{key:"cancelSynthesisLocal",value:function(e,t,n){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,e,t,n))}},{key:"processTypeSpecificMessages",value:function(e){return!0}},{key:"receiveMessage",value:function(){return l(this,void 0,void 0,(0,o.default)().mark((function t(){var n,r,a,s,l,f,v,h,y,g,m,S,C,b;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fetchConnection();case 3:return n=t.sent,t.next=6,n.read();case 6:if(r=t.sent,void 0===this.receiveMessageOverride){t.next=9;break}return t.abrupt("return",this.receiveMessageOverride());case 9:if(!this.privIsDisposed){t.next=11;break}return t.abrupt("return");case 11:if(r){t.next=17;break}if(this.privSynthesisTurn.isSynthesizing){t.next=16;break}return t.abrupt("return");case 16:return t.abrupt("return",this.receiveMessage());case 17:if(a=d.SpeechConnectionMessage.fromConnectionMessage(r),a.requestId.toLowerCase()!==this.privSynthesisTurn.requestId.toLowerCase()){t.next=75;break}t.t0=a.path.toLowerCase(),t.next="turn.start"===t.t0?22:"response"===t.t0?24:"audio"===t.t0?26:"audio.metadata"===t.t0?28:"turn.end"===t.t0?60:74;break;case 22:return this.privSynthesisTurn.onServiceTurnStartResponse(),t.abrupt("break",75);case 24:return this.privSynthesisTurn.onServiceResponseMessage(a.textBody),t.abrupt("break",75);case 26:if(this.privSynthesisTurn.streamId.toLowerCase()===a.streamId.toLowerCase()&&a.binaryBody){if(this.privSynthesisTurn.onAudioChunkReceived(a.binaryBody),this.privSpeechSynthesizer.synthesizing)try{s=e.addHeader(a.binaryBody,this.privSynthesisTurn.audioOutputFormat),l=new c.SpeechSynthesisEventArgs(new c.SpeechSynthesisResult(this.privSynthesisTurn.requestId,c.ResultReason.SynthesizingAudio,s)),this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,l)}catch(o){}void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.write(a.binaryBody)}return t.abrupt("break",75);case 28:f=p.SynthesisAudioMetadata.fromJSON(a.textBody).Metadata,v=(0,i.default)(f),t.prev=30,v.s();case 32:if((h=v.n()).done){t.next=51;break}y=h.value,t.t1=y.Type,t.next=t.t1===p.MetadataType.WordBoundary||t.t1===p.MetadataType.SentenceBoundary?37:t.t1===p.MetadataType.Bookmark?41:t.t1===p.MetadataType.Viseme?44:t.t1===p.MetadataType.SessionEnd?47:49;break;case 37:if(this.privSynthesisTurn.onTextBoundaryEvent(y),g=new c.SpeechSynthesisWordBoundaryEventArgs(y.Data.Offset,y.Data.Duration,y.Data.text.Text,y.Data.text.Length,y.Type===p.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,y.Data.text.BoundaryType),this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,g)}catch(o){}return t.abrupt("break",49);case 41:if(m=new c.SpeechSynthesisBookmarkEventArgs(y.Data.Offset,y.Data.Bookmark),this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,m)}catch(o){}return t.abrupt("break",49);case 44:if(this.privSynthesisTurn.onVisemeMetadataReceived(y),y.Data.IsLastAnimation&&(S=new c.SpeechSynthesisVisemeEventArgs(y.Data.Offset,y.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation()),this.privSpeechSynthesizer.visemeReceived))try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,S)}catch(o){}return t.abrupt("break",49);case 47:return this.privSynthesisTurn.onSessionEnd(y),t.abrupt("break",49);case 49:t.next=32;break;case 51:t.next=56;break;case 53:t.prev=53,t.t2=t["catch"](30),v.e(t.t2);case 56:return t.prev=56,v.f(),t.finish(56);case 59:return t.abrupt("break",75);case 60:return this.privSynthesisTurn.onServiceTurnEndResponse(),t.prev=61,t.next=64,this.privSynthesisTurn.getAllReceivedAudioWithHeader();case 64:b=t.sent,C=new c.SpeechSynthesisResult(this.privSynthesisTurn.requestId,c.ResultReason.SynthesizingAudioCompleted,b,void 0,void 0,this.privSynthesisTurn.audioDuration),this.privSuccessCallback&&this.privSuccessCallback(C),t.next=72;break;case 69:t.prev=69,t.t3=t["catch"](61),this.privErrorCallback&&this.privErrorCallback(t.t3);case 72:if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new c.SpeechSynthesisEventArgs(C))}catch(P){}return t.abrupt("break",75);case 74:this.processTypeSpecificMessages(a)||this.privServiceEvents&&this.serviceEvents.onEvent(new u.ServiceEvent(a.path.toLowerCase(),a.textBody));case 75:return t.abrupt("return",this.receiveMessage());case 78:t.prev=78,t.t4=t["catch"](0);case 80:case"end":return t.stop()}}),t,this,[[0,78],[30,53,56,59],[61,69]])})))}},{key:"sendSynthesisContext",value:function(e){var t=this.synthesisContext.toJSON();if(t)return e.send(new d.SpeechConnectionMessage(u.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",t))}},{key:"connectImpl",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!=this.privConnectionPromise)return this.privConnectionPromise.then((function(t){return t.state()===u.ConnectionState.Disconnected?(e.privConnectionId=null,e.privConnectionPromise=null,e.connectImpl()):e.privConnectionPromise}),(function(){return e.privConnectionId=null,e.privConnectionPromise=null,e.connectImpl()}));this.privAuthFetchEventId=(0,u.createNoDashGuid)(),this.privConnectionId=(0,u.createNoDashGuid)(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);var n=t?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=n.then((function(n){return l(e,void 0,void 0,(0,o.default)().mark((function e(){var r,i,a=this;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.privSynthesisTurn.onAuthCompleted(!1),r=this.privConnectionFactory.create(this.privSynthesizerConfig,n,this.privConnectionId),r.events.attach((function(e){a.connectionEvents.onEvent(e)})),e.next=5,r.open();case 5:if(i=e.sent,200!==i.statusCode){e.next=11;break}return this.privSynthesisTurn.onConnectionEstablishCompleted(i.statusCode),e.abrupt("return",Promise.resolve(r));case 11:if(403!==i.statusCode||t){e.next=15;break}return e.abrupt("return",this.connectImpl(!0));case 15:return this.privSynthesisTurn.onConnectionEstablishCompleted(i.statusCode),e.abrupt("return",Promise.reject("Unable to contact server. StatusCode: ".concat(i.statusCode,", ").concat(this.privSynthesizerConfig.parameters.getProperty(c.PropertyId.SpeechServiceConnection_Endpoint)," Reason: ").concat(i.reason)));case 17:case"end":return e.stop()}}),e,this)})))}),(function(t){throw e.privSynthesisTurn.onAuthCompleted(!0),new Error(t)})),this.privConnectionPromise.catch((function(){})),this.privConnectionPromise}},{key:"sendSpeechServiceConfig",value:function(e,t){if(t)return e.send(new d.SpeechConnectionMessage(u.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",t))}},{key:"sendSsmlMessage",value:function(e,t,n){return e.send(new d.SpeechConnectionMessage(u.MessageType.Text,"ssml",n,"application/ssml+xml",t))}},{key:"fetchConnection",value:function(){return l(this,void 0,void 0,(0,o.default)().mark((function e(){var t=this;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.privConnectionConfigurationPromise){e.next=2;break}return e.abrupt("return",this.privConnectionConfigurationPromise.then((function(e){return e.state()===u.ConnectionState.Disconnected?(t.privConnectionId=null,t.privConnectionConfigurationPromise=void 0,t.fetchConnection()):t.privConnectionConfigurationPromise}),(function(){return t.privConnectionId=null,t.privConnectionConfigurationPromise=void 0,t.fetchConnection()})));case 2:return this.privConnectionConfigurationPromise=this.configureConnection(),e.next=5,this.privConnectionConfigurationPromise;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"configureConnection",value:function(){return l(this,void 0,void 0,(0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.connectImpl();case 2:if(t=e.sent,void 0===this.configConnectionOverride){e.next=5;break}return e.abrupt("return",this.configConnectionOverride(t));case 5:return e.next=7,this.sendSpeechServiceConfig(t,this.privSynthesizerConfig.SpeechServiceConfig.serialize());case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})))}}],[{key:"addHeader",value:function(e,t){if(!t.hasHeader)return e;t.updateHeader(e.byteLength);var n=new Uint8Array(e.byteLength+t.header.byteLength);return n.set(new Uint8Array(t.header),0),n.set(new Uint8Array(e),t.header.byteLength),n.buffer}}]),e}();t.SynthesisAdapterBase=f,f.telemetryDataEnabled=!0},efff:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisRequest=t.SpeechSynthesizer=void 0;var i=r(n("c7eb")),o=r(n("ade3")),a=r(n("d4ec")),s=r(n("bee2"));n("d3b7"),n("99af"),n("d9e2"),n("d401"),n("4de4"),n("ac1f"),n("5319");var u=n("21c7"),c=n("903d"),p=n("52d5"),d=n("9205"),l=n("120d"),f=n("277e"),v=n("9030"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y=function(){function e(t,n){(0,a.default)(this,e);var r=t;f.Contracts.throwIfNull(r,"speechConfig"),null!==n&&(this.audioConfig=void 0===n?"undefined"===typeof window?void 0:v.AudioConfig.fromDefaultSpeakerOutput():n),this.privProperties=r.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.privConnectionFactory=new u.SpeechSynthesisConnectionFactory,this.synthesisRequestQueue=new c.Queue,this.implCommonSynthesizeSetup()}return(0,s.default)(e,[{key:"authorizationToken",get:function(){return this.properties.getProperty(v.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){f.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(v.PropertyId.SpeechServiceAuthorization_Token,e)}},{key:"properties",get:function(){return this.privProperties}},{key:"autoDetectSourceLanguage",get:function(){return this.properties.getProperty(v.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===u.AutoDetectSourceLanguagesOpenRangeOptionName}},{key:"buildSsml",value:function(t){var n,r=(n={},(0,o.default)(n,"af-ZA","af-ZA-AdriNeural"),(0,o.default)(n,"am-ET","am-ET-AmehaNeural"),(0,o.default)(n,"ar-AE","ar-AE-FatimaNeural"),(0,o.default)(n,"ar-BH","ar-BH-AliNeural"),(0,o.default)(n,"ar-DZ","ar-DZ-AminaNeural"),(0,o.default)(n,"ar-EG","ar-EG-SalmaNeural"),(0,o.default)(n,"ar-IQ","ar-IQ-BasselNeural"),(0,o.default)(n,"ar-JO","ar-JO-SanaNeural"),(0,o.default)(n,"ar-KW","ar-KW-FahedNeural"),(0,o.default)(n,"ar-LY","ar-LY-ImanNeural"),(0,o.default)(n,"ar-MA","ar-MA-JamalNeural"),(0,o.default)(n,"ar-QA","ar-QA-AmalNeural"),(0,o.default)(n,"ar-SA","ar-SA-HamedNeural"),(0,o.default)(n,"ar-SY","ar-SY-AmanyNeural"),(0,o.default)(n,"ar-TN","ar-TN-HediNeural"),(0,o.default)(n,"ar-YE","ar-YE-MaryamNeural"),(0,o.default)(n,"bg-BG","bg-BG-BorislavNeural"),(0,o.default)(n,"bn-BD","bn-BD-NabanitaNeural"),(0,o.default)(n,"bn-IN","bn-IN-BashkarNeural"),(0,o.default)(n,"ca-ES","ca-ES-JoanaNeural"),(0,o.default)(n,"cs-CZ","cs-CZ-AntoninNeural"),(0,o.default)(n,"cy-GB","cy-GB-AledNeural"),(0,o.default)(n,"da-DK","da-DK-ChristelNeural"),(0,o.default)(n,"de-AT","de-AT-IngridNeural"),(0,o.default)(n,"de-CH","de-CH-JanNeural"),(0,o.default)(n,"de-DE","de-DE-KatjaNeural"),(0,o.default)(n,"el-GR","el-GR-AthinaNeural"),(0,o.default)(n,"en-AU","en-AU-NatashaNeural"),(0,o.default)(n,"en-CA","en-CA-ClaraNeural"),(0,o.default)(n,"en-GB","en-GB-LibbyNeural"),(0,o.default)(n,"en-HK","en-HK-SamNeural"),(0,o.default)(n,"en-IE","en-IE-ConnorNeural"),(0,o.default)(n,"en-IN","en-IN-NeerjaNeural"),(0,o.default)(n,"en-KE","en-KE-AsiliaNeural"),(0,o.default)(n,"en-NG","en-NG-AbeoNeural"),(0,o.default)(n,"en-NZ","en-NZ-MitchellNeural"),(0,o.default)(n,"en-PH","en-PH-JamesNeural"),(0,o.default)(n,"en-SG","en-SG-LunaNeural"),(0,o.default)(n,"en-TZ","en-TZ-ElimuNeural"),(0,o.default)(n,"en-US","en-US-JennyNeural"),(0,o.default)(n,"en-ZA","en-ZA-LeahNeural"),(0,o.default)(n,"es-AR","es-AR-ElenaNeural"),(0,o.default)(n,"es-BO","es-BO-MarceloNeural"),(0,o.default)(n,"es-CL","es-CL-CatalinaNeural"),(0,o.default)(n,"es-CO","es-CO-GonzaloNeural"),(0,o.default)(n,"es-CR","es-CR-JuanNeural"),(0,o.default)(n,"es-CU","es-CU-BelkysNeural"),(0,o.default)(n,"es-DO","es-DO-EmilioNeural"),(0,o.default)(n,"es-EC","es-EC-AndreaNeural"),(0,o.default)(n,"es-ES","es-ES-AlvaroNeural"),(0,o.default)(n,"es-GQ","es-GQ-JavierNeural"),(0,o.default)(n,"es-GT","es-GT-AndresNeural"),(0,o.default)(n,"es-HN","es-HN-CarlosNeural"),(0,o.default)(n,"es-MX","es-MX-DaliaNeural"),(0,o.default)(n,"es-NI","es-NI-FedericoNeural"),(0,o.default)(n,"es-PA","es-PA-MargaritaNeural"),(0,o.default)(n,"es-PE","es-PE-AlexNeural"),(0,o.default)(n,"es-PR","es-PR-KarinaNeural"),(0,o.default)(n,"es-PY","es-PY-MarioNeural"),(0,o.default)(n,"es-SV","es-SV-LorenaNeural"),(0,o.default)(n,"es-US","es-US-AlonsoNeural"),(0,o.default)(n,"es-UY","es-UY-MateoNeural"),(0,o.default)(n,"es-VE","es-VE-PaolaNeural"),(0,o.default)(n,"et-EE","et-EE-AnuNeural"),(0,o.default)(n,"fa-IR","fa-IR-DilaraNeural"),(0,o.default)(n,"fi-FI","fi-FI-SelmaNeural"),(0,o.default)(n,"fil-PH","fil-PH-AngeloNeural"),(0,o.default)(n,"fr-BE","fr-BE-CharlineNeural"),(0,o.default)(n,"fr-CA","fr-CA-SylvieNeural"),(0,o.default)(n,"fr-CH","fr-CH-ArianeNeural"),(0,o.default)(n,"fr-FR","fr-FR-DeniseNeural"),(0,o.default)(n,"ga-IE","ga-IE-ColmNeural"),(0,o.default)(n,"gl-ES","gl-ES-RoiNeural"),(0,o.default)(n,"gu-IN","gu-IN-DhwaniNeural"),(0,o.default)(n,"he-IL","he-IL-AvriNeural"),(0,o.default)(n,"hi-IN","hi-IN-MadhurNeural"),(0,o.default)(n,"hr-HR","hr-HR-GabrijelaNeural"),(0,o.default)(n,"hu-HU","hu-HU-NoemiNeural"),(0,o.default)(n,"id-ID","id-ID-ArdiNeural"),(0,o.default)(n,"is-IS","is-IS-GudrunNeural"),(0,o.default)(n,"it-IT","it-IT-IsabellaNeural"),(0,o.default)(n,"ja-JP","ja-JP-NanamiNeural"),(0,o.default)(n,"jv-ID","jv-ID-DimasNeural"),(0,o.default)(n,"kk-KZ","kk-KZ-AigulNeural"),(0,o.default)(n,"km-KH","km-KH-PisethNeural"),(0,o.default)(n,"kn-IN","kn-IN-GaganNeural"),(0,o.default)(n,"ko-KR","ko-KR-SunHiNeural"),(0,o.default)(n,"lo-LA","lo-LA-ChanthavongNeural"),(0,o.default)(n,"lt-LT","lt-LT-LeonasNeural"),(0,o.default)(n,"lv-LV","lv-LV-EveritaNeural"),(0,o.default)(n,"mk-MK","mk-MK-AleksandarNeural"),(0,o.default)(n,"ml-IN","ml-IN-MidhunNeural"),(0,o.default)(n,"mr-IN","mr-IN-AarohiNeural"),(0,o.default)(n,"ms-MY","ms-MY-OsmanNeural"),(0,o.default)(n,"mt-MT","mt-MT-GraceNeural"),(0,o.default)(n,"my-MM","my-MM-NilarNeural"),(0,o.default)(n,"nb-NO","nb-NO-PernilleNeural"),(0,o.default)(n,"nl-BE","nl-BE-ArnaudNeural"),(0,o.default)(n,"nl-NL","nl-NL-ColetteNeural"),(0,o.default)(n,"pl-PL","pl-PL-AgnieszkaNeural"),(0,o.default)(n,"ps-AF","ps-AF-GulNawazNeural"),(0,o.default)(n,"pt-BR","pt-BR-FranciscaNeural"),(0,o.default)(n,"pt-PT","pt-PT-DuarteNeural"),(0,o.default)(n,"ro-RO","ro-RO-AlinaNeural"),(0,o.default)(n,"ru-RU","ru-RU-SvetlanaNeural"),(0,o.default)(n,"si-LK","si-LK-SameeraNeural"),(0,o.default)(n,"sk-SK","sk-SK-LukasNeural"),(0,o.default)(n,"sl-SI","sl-SI-PetraNeural"),(0,o.default)(n,"so-SO","so-SO-MuuseNeural"),(0,o.default)(n,"sr-RS","sr-RS-NicholasNeural"),(0,o.default)(n,"su-ID","su-ID-JajangNeural"),(0,o.default)(n,"sv-SE","sv-SE-SofieNeural"),(0,o.default)(n,"sw-KE","sw-KE-RafikiNeural"),(0,o.default)(n,"sw-TZ","sw-TZ-DaudiNeural"),(0,o.default)(n,"ta-IN","ta-IN-PallaviNeural"),(0,o.default)(n,"ta-LK","ta-LK-KumarNeural"),(0,o.default)(n,"ta-SG","ta-SG-AnbuNeural"),(0,o.default)(n,"te-IN","te-IN-MohanNeural"),(0,o.default)(n,"th-TH","th-TH-PremwadeeNeural"),(0,o.default)(n,"tr-TR","tr-TR-AhmetNeural"),(0,o.default)(n,"uk-UA","uk-UA-OstapNeural"),(0,o.default)(n,"ur-IN","ur-IN-GulNeural"),(0,o.default)(n,"ur-PK","ur-PK-AsadNeural"),(0,o.default)(n,"uz-UZ","uz-UZ-MadinaNeural"),(0,o.default)(n,"vi-VN","vi-VN-HoaiMyNeural"),(0,o.default)(n,"zh-CN","zh-CN-XiaoxiaoNeural"),(0,o.default)(n,"zh-HK","zh-HK-HiuMaanNeural"),(0,o.default)(n,"zh-TW","zh-TW-HsiaoChenNeural"),(0,o.default)(n,"zu-ZA","zu-ZA-ThandoNeural"),n),i=this.properties.getProperty(v.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),a=this.properties.getProperty(v.PropertyId.SpeechServiceConnection_SynthVoice,""),s=e.XMLEncode(t);return this.autoDetectSourceLanguage?i="en-US":a=a||r[i],a&&(s="<voice name='".concat(a,"'>").concat(s,"</voice>")),s="<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='".concat(i,"'>").concat(s,"</speak>"),s}},{key:"speakTextAsync",value:function(e,t,n,r){this.speakImpl(e,!1,t,n,r)}},{key:"speakSsmlAsync",value:function(e,t,n,r){this.speakImpl(e,!0,t,n,r)}},{key:"getVoicesAsync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getVoices(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(e,t){f.Contracts.throwIfDisposed(this.privDisposed),(0,c.marshalPromiseToCallbacks)(this.dispose(!0),e,t)}},{key:"internalData",get:function(){return this.privAdapter}},{key:"dispose",value:function(e){return h(this,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.privDisposed){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=6;break}if(!this.privAdapter){t.next=6;break}return t.next=6,this.privAdapter.dispose();case 6:this.privDisposed=!0;case 7:case"end":return t.stop()}}),t,this)})))}},{key:"createSynthesizerConfig",value:function(e){return new u.SynthesizerConfig(e,this.privProperties)}},{key:"createSynthesisAdapter",value:function(e,t,n,r){return new u.SynthesisAdapterBase(e,t,r,this,this.audioConfig)}},{key:"implCommonSynthesizeSetup",value:function(){var e=this,t="undefined"!==typeof window?"Browser":"Node",n="unknown",r="unknown";"undefined"!==typeof navigator&&(t=t+"/"+navigator.platform,n=navigator.userAgent,r=navigator.appVersion);var i=this.createSynthesizerConfig(new u.SpeechServiceConfig(new u.Context(new u.OS(t,n,r)))),o=this.privProperties.getProperty(v.PropertyId.SpeechServiceConnection_Key,void 0),a=o&&""!==o?new u.CognitiveSubscriptionKeyAuthentication(o):new u.CognitiveTokenAuthentication((function(){var t=e.privProperties.getProperty(v.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}),(function(){var t=e.privProperties.getProperty(v.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}));this.privAdapter=this.createSynthesisAdapter(a,this.privConnectionFactory,this.audioConfig,i),this.privAdapter.audioOutputFormat=d.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(v.SpeechSynthesisOutputFormat[this.properties.getProperty(v.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]),this.privRestAdapter=new u.SynthesisRestAdapter(i,a)}},{key:"speakImpl",value:function(e,t,n,r,i){var o=this;try{f.Contracts.throwIfDisposed(this.privDisposed);var a,s=(0,c.createNoDashGuid)();a=i instanceof v.PushAudioOutputStreamCallback?new l.PushAudioOutputStreamImpl(i):i instanceof v.PullAudioOutputStream?i:void 0!==i?new p.AudioFileWriter(i):void 0,this.synthesisRequestQueue.enqueue(new g(s,e,t,(function(e){if(o.privSynthesizing=!1,n)try{n(e)}catch(e){r&&r(e)}n=void 0,o.adapterSpeak().catch((function(){}))}),(function(e){r&&r(e)}),a)),this.adapterSpeak().catch((function(){}))}catch(d){if(r)if(d instanceof Error){var u=d;r(u.name+": "+u.message)}else r(d);this.dispose(!0).catch((function(){}))}}},{key:"getVoices",value:function(e){return h(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r,o;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,c.createNoDashGuid)(),t.next=3,this.privRestAdapter.getVoicesList(n);case 3:if(r=t.sent,!r.ok||!Array.isArray(r.json)){t.next=10;break}return o=r.json,e&&e.length>0&&(o=o.filter((function(t){return!!t.Locale&&t.Locale.toLowerCase()===e.toLowerCase()}))),t.abrupt("return",new v.SynthesisVoicesResult(n,o,void 0));case 10:return t.abrupt("return",new v.SynthesisVoicesResult(n,void 0,"Error: ".concat(r.status,": ").concat(r.statusText)));case 11:case"end":return t.stop()}}),t,this)})))}},{key:"adapterSpeak",value:function(){return h(this,void 0,void 0,(0,i.default)().mark((function e(){var t;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privDisposed||this.privSynthesizing){e.next=6;break}return this.privSynthesizing=!0,e.next=4,this.synthesisRequestQueue.dequeue();case 4:return t=e.sent,e.abrupt("return",this.privAdapter.Speak(t.text,t.isSSML,t.requestId,t.cb,t.err,t.dataStream));case 6:case"end":return e.stop()}}),e,this)})))}}],[{key:"FromConfig",value:function(t,n,r){var i=t;return n.properties.mergeTo(i.properties),new e(t,r)}},{key:"XMLEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}}]),e}();t.SpeechSynthesizer=y;var g=(0,s.default)((function e(t,n,r,i,o,s){(0,a.default)(this,e),this.requestId=t,this.text=n,this.isSSML=r,this.cb=i,this.err=o,this.dataStream=s}));t.SynthesisRequest=g},f009:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceRecognizerBase=void 0;var i=r(n("c7eb")),o=r(n("d4ec")),a=r(n("bee2"));n("d3b7"),n("99af"),n("e25e"),n("f4b3"),n("bf19"),n("e9c4"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("4d90"),n("d401"),n("25f0");var s=n("9271"),u=n("903d"),c=n("9030"),p=n("21c7"),d=n("f508"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},f=function(){function e(t,n,r,i,a){var s=this;if((0,o.default)(this,e),this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!t)throw new u.ArgumentNullError("authentication");if(!n)throw new u.ArgumentNullError("connectionFactory");if(!r)throw new u.ArgumentNullError("audioSource");if(!i)throw new u.ArgumentNullError("recognizerConfig");this.privMustReportEndOfStream=!1,this.privAuthentication=t,this.privConnectionFactory=n,this.privAudioSource=r,this.privRecognizerConfig=i,this.privIsDisposed=!1,this.privRecognizer=a,this.privRequestSession=new p.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new u.EventSource,this.privServiceEvents=new u.EventSource,this.privDynamicGrammar=new p.DynamicGrammarBuilder,this.privSpeechContext=new p.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new p.AgentConfig,"undefined"!==typeof Blob&&"undefined"!==typeof Worker&&(this.privSetTimeout=u.Timeout.setTimeout),this.connectionEvents.attach((function(e){if("ConnectionClosedEvent"===e.name){var t=e;(1003===t.statusCode||1007===t.statusCode||1002===t.statusCode||4e3===t.statusCode||s.privRequestSession.numConnectionAttempts>s.privRecognizerConfig.maxRetryCount)&&s.cancelRecognitionLocal(c.CancellationReason.Error,1007===t.statusCode?c.CancellationErrorCode.BadRequestParameters:c.CancellationErrorCode.ConnectionFailure,"".concat(t.reason," websocket error code: ").concat(t.statusCode))}}));var d={};if(void 0!==i.autoDetectSourceLanguages){var l,f=i.autoDetectSourceLanguages.split(",");l="Continuous"===i.languageIdMode?"DetectContinuous":"DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:f,mode:l,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});var v=i.sourceLanguageModels;void 0!==v&&(d.customModels=v,d.onInterim={action:"None"},d.onSuccess={action:"None"})}(function(e){for(var t in e)return!1;return!0})(d)||this.privSpeechContext.setSection("phraseDetection",d)}return(0,a.default)(e,[{key:"setSpeechSegmentationTimeout",value:function(){var e=this.privRecognizerConfig.parameters.getProperty(c.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0);if(void 0!==e){var t=this.recognitionMode===p.RecognitionMode.Conversation?"CONVERSATION":this.recognitionMode===p.RecognitionMode.Dictation?"DICTATION":"INTERACTIVE",n=parseInt(e,10),r=this.privSpeechContext.getSection("phraseDetection");r.mode=t,r[t]={segmentation:{mode:"Custom",segmentationSilenceTimeoutMs:n}},this.privSpeechContext.setSection("phraseDetection",r)}}},{key:"audioSource",get:function(){return this.privAudioSource}},{key:"speechContext",get:function(){return this.privSpeechContext}},{key:"dynamicGrammar",get:function(){return this.privDynamicGrammar}},{key:"agentConfig",get:function(){return this.privAgentConfig}},{key:"conversationTranslatorToken",set:function(e){this.privRecognizerConfig.parameters.setProperty(c.PropertyId.ConversationTranslator_Token,e)}},{key:"voiceProfileType",set:function(e){this.privRecognizerConfig.parameters.setProperty(c.PropertyId.SpeechServiceConnection_SpeakerIdMode,e)}},{key:"authentication",set:function(e){this.privAuthentication=this.authentication}},{key:"isDisposed",value:function(){return this.privIsDisposed}},{key:"dispose",value:function(e){return l(this,void 0,void 0,(0,i.default)().mark((function t(){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.privIsDisposed=!0,void 0===this.privConnectionConfigurationPromise){t.next=13;break}return t.prev=2,t.next=5,this.privConnectionConfigurationPromise;case 5:return n=t.sent,t.next=8,n.dispose(e);case 8:t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](2),t.abrupt("return");case 13:case"end":return t.stop()}}),t,this,[[2,10]])})))}},{key:"connectionEvents",get:function(){return this.privConnectionEvents}},{key:"serviceEvents",get:function(){return this.privServiceEvents}},{key:"recognitionMode",get:function(){return this.privRecognizerConfig.recognitionMode}},{key:"recognize",value:function(e,t,n){return l(this,void 0,void 0,(0,i.default)().mark((function r(){var o,a,u,d,f,v,h,y=this;return(0,i.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(void 0===this.recognizeOverride){r.next=4;break}return r.next=3,this.recognizeOverride(e,t,n);case 3:return r.abrupt("return");case 4:return this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=e,this.setSpeechSegmentationTimeout(),this.privSuccessCallback=t,this.privErrorCallback=n,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events),o=this.connectImpl(),r.prev=12,r.next=15,this.audioSource.attach(this.privRequestSession.audioNodeId);case 15:return u=r.sent,r.next=18,this.audioSource.format;case 18:return d=r.sent,r.next=21,this.audioSource.deviceInfo;case 21:return f=r.sent,this.privIsLiveAudio=f.type&&f.type===p.type.Microphones,a=new s.ReplayableAudioNode(u,d.avgBytesPerSec),r.next=26,this.privRequestSession.onAudioSourceAttachCompleted(a,!1);case 26:this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:f},r.next=34;break;case 29:return r.prev=29,r.t0=r["catch"](12),r.next=33,this.privRequestSession.onStopRecognizing();case 33:throw r.t0;case 34:return r.prev=34,r.next=37,o;case 37:r.next=44;break;case 39:return r.prev=39,r.t1=r["catch"](34),r.next=43,this.cancelRecognitionLocal(c.CancellationReason.Error,c.CancellationErrorCode.ConnectionFailure,r.t1);case 43:return r.abrupt("return");case 44:return v=new c.SessionEventArgs(this.privRequestSession.sessionId),this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,v),this.receiveMessage(),h=this.sendAudio(a),h.catch((function(e){return l(y,void 0,void 0,(0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.cancelRecognitionLocal(c.CancellationReason.Error,c.CancellationErrorCode.RuntimeError,e);case 2:case"end":return t.stop()}}),t,this)})))})),r.abrupt("return");case 50:case"end":return r.stop()}}),r,this,[[12,29],[34,39]])})))}},{key:"stopRecognizing",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.privRequestSession.isRecognizing){e.next=14;break}return e.prev=1,e.next=4,this.audioSource.turnOff();case 4:return e.next=6,this.sendFinalAudio();case 6:return e.next=8,this.privRequestSession.onStopRecognizing();case 8:return e.next=10,this.privRequestSession.turnCompletionPromise;case 10:return e.prev=10,e.next=13,this.privRequestSession.dispose();case 13:return e.finish(10);case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e,this,[[1,,10,14]])})))}},{key:"connect",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.connectImpl();case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e,this)})))}},{key:"connectAsync",value:function(e,t){this.connectImpl().then((function(){try{e&&e()}catch(n){t&&t(n)}}),(function(e){try{t&&t(e)}catch(n){}}))}},{key:"disconnect",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.cancelRecognitionLocal(c.CancellationReason.Error,c.CancellationErrorCode.NoError,"Disconnecting");case 2:if(void 0===this.disconnectOverride){e.next=5;break}return e.next=5,this.disconnectOverride();case 5:if(void 0===this.privConnectionPromise){e.next=15;break}return e.prev=6,e.next=9,this.privConnectionPromise;case 9:return e.next=11,e.sent.dispose();case 11:e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](6);case 15:this.privConnectionPromise=void 0;case 16:case"end":return e.stop()}}),e,this,[[6,13]])})))}},{key:"sendMessage",value:function(e){}},{key:"sendNetworkMessage",value:function(e,t){return l(this,void 0,void 0,(0,i.default)().mark((function n(){var r,o,a;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="string"===typeof t?u.MessageType.Text:u.MessageType.Binary,o="string"===typeof t?"application/json":"",n.next=4,this.fetchConnection();case 4:return a=n.sent,n.abrupt("return",a.send(new d.SpeechConnectionMessage(r,e,this.privRequestSession.requestId,o,t)));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"activityTemplate",get:function(){return this.privActivityTemplate},set:function(e){this.privActivityTemplate=e}},{key:"sendTelemetryData",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.privRequestSession.getTelemetry(),!0===e.telemetryDataEnabled&&!this.privIsDisposed&&null!==n){t.next=3;break}return t.abrupt("return");case 3:if(e.telemetryData)try{e.telemetryData(n)}catch(i){}return t.next=6,this.fetchConnection();case 6:return r=t.sent,t.next=9,r.send(new d.SpeechConnectionMessage(u.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",n));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"cancelRecognitionLocal",value:function(e,t,n){return l(this,void 0,void 0,(0,i.default)().mark((function r(){return(0,i.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!this.privRequestSession.isRecognizing){r.next=4;break}return r.next=3,this.privRequestSession.onStopRecognizing();case 3:this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,n);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"receiveMessage",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){var t,n,r,o,a,s,l,f,v;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.privIsDisposed){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.fetchConnection();case 5:return t=e.sent,e.next=8,t.read();case 8:if(n=e.sent,void 0===this.receiveMessageOverride){e.next=11;break}return e.abrupt("return",this.receiveMessageOverride());case 11:if(n){e.next=17;break}if(this.privRequestSession.isRecognizing){e.next=16;break}return e.abrupt("return");case 16:return e.abrupt("return",this.receiveMessage());case 17:if(this.privServiceHasSentMessage=!0,r=d.SpeechConnectionMessage.fromConnectionMessage(n),r.requestId.toLowerCase()!==this.privRequestSession.requestId.toLowerCase()){e.next=59;break}e.t0=r.path.toLowerCase(),e.next="turn.start"===e.t0?23:"speech.startdetected"===e.t0?26:"speech.enddetected"===e.t0?30:"turn.end"===e.t0?35:55;break;case 23:return this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse(),e.abrupt("break",59);case 26:return o=p.SpeechDetected.fromJSON(r.textBody),a=new c.RecognitionEventArgs(o.Offset,this.privRequestSession.sessionId),this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,a),e.abrupt("break",59);case 30:return s=r.textBody.length>0?r.textBody:"{ Offset: 0 }",l=p.SpeechDetected.fromJSON(s),f=new c.RecognitionEventArgs(l.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,f),e.abrupt("break",59);case 35:return e.next=37,this.sendTelemetryData();case 37:if(!this.privRequestSession.isSpeechEnded||!this.privMustReportEndOfStream){e.next=41;break}return this.privMustReportEndOfStream=!1,e.next=41,this.cancelRecognitionLocal(c.CancellationReason.EndOfStream,c.CancellationErrorCode.NoError,void 0);case 41:return v=new c.SessionEventArgs(this.privRequestSession.sessionId),e.next=44,this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition);case 44:if(this.privRecognizerConfig.isContinuousRecognition&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing){e.next=49;break}return this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,v),e.abrupt("return");case 49:return e.next=51,this.fetchConnection();case 51:return t=e.sent,e.next=54,this.sendPrePayloadJSON(t);case 54:return e.abrupt("break",59);case 55:return e.next=57,this.processTypeSpecificMessages(r);case 57:if(e.sent){e.next=59;break}this.privServiceEvents&&this.serviceEvents.onEvent(new u.ServiceEvent(r.path.toLowerCase(),r.textBody));case 59:return e.abrupt("return",this.receiveMessage());case 62:return e.prev=62,e.t1=e["catch"](0),e.abrupt("return",null);case 65:case"end":return e.stop()}}),e,this,[[0,62]])})))}},{key:"sendSpeechContext",value:function(e,t){var n=this.speechContext.toJSON();if(t&&this.privRequestSession.onSpeechContext(),n)return e.send(new d.SpeechConnectionMessage(u.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",n))}},{key:"noOp",value:function(){}},{key:"sendPrePayloadJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l(this,void 0,void 0,(0,i.default)().mark((function n(){return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(void 0===this.sendPrePayloadJSONOverride){n.next=2;break}return n.abrupt("return",this.sendPrePayloadJSONOverride(e));case 2:return n.next=4,this.sendSpeechContext(e,t);case 4:return n.next=6,this.sendWaveHeader(e);case 6:return n.abrupt("return");case 7:case"end":return n.stop()}}),n,this)})))}},{key:"sendWaveHeader",value:function(e){return l(this,void 0,void 0,(0,i.default)().mark((function t(){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.audioSource.format;case 2:return n=t.sent,t.abrupt("return",e.send(new d.SpeechConnectionMessage(u.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",n.header)));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"connectImpl",value:function(){var e=this;return void 0!==this.privConnectionPromise?this.privConnectionPromise.then((function(t){return t.state()===u.ConnectionState.Disconnected?(e.privConnectionId=null,e.privConnectionPromise=void 0,e.privServiceHasSentMessage=!1,e.connectImpl()):e.privConnectionPromise}),(function(){return e.privConnectionId=null,e.privConnectionPromise=void 0,e.privServiceHasSentMessage=!1,e.connectImpl()})):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch((function(){})),void 0!==this.postConnectImplOverride?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}},{key:"sendSpeechServiceConfig",value:function(t,n,r){if(n.onSpeechContext(),!0!==e.telemetryDataEnabled){var i=JSON.parse(r),o={context:{system:i.context.system}};r=JSON.stringify(o)}if("true"===this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()){var a=JSON.parse(r);a.context.DisableReferenceChannel="True",a.context.MicSpec="1_0_0",r=JSON.stringify(a)}if(r)return t.send(new d.SpeechConnectionMessage(u.MessageType.Text,"speech.config",n.requestId,"application/json",r))}},{key:"fetchConnection",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){var t=this;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.privConnectionConfigurationPromise){e.next=2;break}return e.abrupt("return",this.privConnectionConfigurationPromise.then((function(e){return e.state()===u.ConnectionState.Disconnected?(t.privConnectionId=null,t.privConnectionConfigurationPromise=void 0,t.privServiceHasSentMessage=!1,t.fetchConnection()):t.privConnectionConfigurationPromise}),(function(){return t.privConnectionId=null,t.privConnectionConfigurationPromise=void 0,t.privServiceHasSentMessage=!1,t.fetchConnection()})));case 2:return this.privConnectionConfigurationPromise=this.configureConnection(),e.next=5,this.privConnectionConfigurationPromise;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"sendAudio",value:function(e){return l(this,void 0,void 0,(0,i.default)().mark((function t(){var n,r,o,a,s,c,p=this;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.audioSource.format;case 2:return n=t.sent,r=Date.now(),o=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),a=n.avgBytesPerSec/1e3*parseInt(o,10),s=this.privRequestSession.recogNumber,c=function t(){return l(p,void 0,void 0,(0,i.default)().mark((function o(){var c,p,l,f,v=this;return(0,i.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(this.privIsDisposed||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing||this.privRequestSession.recogNumber!==s){i.next=21;break}return i.next=3,this.fetchConnection();case 3:return c=i.sent,i.next=6,e.read();case 6:if(p=i.sent,!this.privRequestSession.isSpeechEnded){i.next=9;break}return i.abrupt("return");case 9:if(!p||p.isEnd?(l=null,f=0):(l=p.buffer,this.privRequestSession.onAudioSent(l.byteLength),f=a>=this.privRequestSession.bytesSent?0:Math.max(0,r-Date.now())),0===f){i.next=13;break}return i.next=13,this.delay(f);case 13:if(null!==l&&(r=Date.now()+1e3*l.byteLength/(2*n.avgBytesPerSec)),this.privIsDisposed||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing||this.privRequestSession.recogNumber!==s){i.next=21;break}if(c.send(new d.SpeechConnectionMessage(u.MessageType.Binary,"audio",this.privRequestSession.requestId,null,l)).catch((function(){v.privRequestSession.onServiceTurnEndResponse(v.privRecognizerConfig.isContinuousRecognition).catch((function(){}))})),null===p||void 0===p?void 0:p.isEnd){i.next=20;break}return i.abrupt("return",t());case 20:this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();case 21:case"end":return i.stop()}}),o,this)})))},t.abrupt("return",c());case 9:case"end":return t.stop()}}),t,this)})))}},{key:"retryableConnect",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){var t,n,r,o,a,s,p,d,l=this;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,this.privAuthFetchEventId=(0,u.createNoDashGuid)(),n=this.privRequestSession.sessionId,this.privConnectionId=void 0!==n?n:(0,u.createNoDashGuid)(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId),r=0,o="";case 7:if(!(this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount)){e.next=32;break}return a=t?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId),e.next=11,a;case 11:return s=e.sent,e.next=14,this.privRequestSession.onAuthCompleted(!1);case 14:return p=this.privConnectionFactory.create(this.privRecognizerConfig,s,this.privConnectionId),this.privRequestSession.listenForServiceTelemetry(p.events),p.events.attach((function(e){l.connectionEvents.onEvent(e)})),e.next=19,p.open();case 19:if(d=e.sent,200!==d.statusCode){e.next=26;break}return e.next=23,this.privRequestSession.onConnectionEstablishCompleted(d.statusCode);case 23:return e.abrupt("return",Promise.resolve(p));case 26:1006===d.statusCode&&(t=!0);case 27:r=d.statusCode,o=d.reason,this.privRequestSession.onRetryConnection(),e.next=7;break;case 32:return e.next=34,this.privRequestSession.onConnectionEstablishCompleted(r,o);case 34:return e.abrupt("return",Promise.reject("Unable to contact server. StatusCode: ".concat(r,", ").concat(this.privRecognizerConfig.parameters.getProperty(c.PropertyId.SpeechServiceConnection_Endpoint)," Reason: ").concat(o)));case 35:case"end":return e.stop()}}),e,this)})))}},{key:"delay",value:function(e){var t=this;return new Promise((function(n){return t.privSetTimeout(n,e)}))}},{key:"writeBufferToConsole",value:function(e){var t="Buffer Size: ";if(null===e)t+="null";else{var n=new Uint8Array(e);t+="".concat(e.byteLength,"\r\n");for(var r=0;r<e.byteLength;r++)t+=n[r].toString(16).padStart(2,"0")+" ",(r+1)%16===0&&(console.info(t),t="")}console.info(t)}},{key:"sendFinalAudio",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){var t;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchConnection();case 2:return t=e.sent,e.next=5,t.send(new d.SpeechConnectionMessage(u.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null));case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e,this)})))}},{key:"configureConnection",value:function(){return l(this,void 0,void 0,(0,i.default)().mark((function e(){var t;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.connectImpl();case 2:if(t=e.sent,void 0===this.configConnectionOverride){e.next=5;break}return e.abrupt("return",this.configConnectionOverride(t));case 5:return e.next=7,this.sendSpeechServiceConfig(t,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize());case 7:return e.next=9,this.sendPrePayloadJSON(t,!1);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)})))}}]),e}();t.ServiceRecognizerBase=f,f.telemetryDataEnabled=!0},f04e:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfilePhraseResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("277e"),c=n("9030"),p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a){var s;return(0,i.default)(this,n),s=t.call(this,e,r),s.privPhrases=[],u.Contracts.throwIfNullOrUndefined(a,"phrase array"),s.privType=o,a&&a[0]&&(s.privPhrases=a),s}return(0,o.default)(n,[{key:"phrases",get:function(){return this.privPhrases}},{key:"type",get:function(){return this.privType}}]),n}(c.VoiceProfileResult);t.VoiceProfilePhraseResult=p},f0e9:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationDetails=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("21c7"),c=n("6062"),p=n("9030"),d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o){return(0,i.default)(this,n),t.call(this,e,r,o)}return(0,o.default)(n,null,[{key:"fromResult",value:function(e){var t=p.CancellationReason.Error,r=p.CancellationErrorCode.NoError;if(e instanceof p.RecognitionResult&&e.json){var i=u.SimpleSpeechPhrase.fromJSON(e.json);t=u.EnumTranslation.implTranslateCancelResult(i.RecognitionStatus)}return e.properties&&(r=p.CancellationErrorCode[e.properties.getProperty(u.CancellationErrorCodePropertyName,p.CancellationErrorCode[p.CancellationErrorCode.NoError])]),new n(t,e.errorDetails||u.EnumTranslation.implTranslateErrorDetails(r),r)}}]),n}(c.CancellationDetailsBase);t.CancellationDetails=d},f183:function(e,t,n){var r=n("23e7"),i=n("e330"),o=n("d012"),a=n("861d"),s=n("1a2d"),u=n("9bf2").f,c=n("241c"),p=n("057f"),d=n("4fad"),l=n("90e3"),f=n("bb2f"),v=!1,h=l("meta"),y=0,g=function(e){u(e,h,{value:{objectID:"O"+y++,weakData:{}}})},m=e.exports={enable:function(){m.enable=function(){},v=!0;var e=c.f,t=i([].splice),n={};n[h]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===h){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:p.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,h)){if(!d(e))return"F";if(!t)return"E";g(e)}return e[h].objectID},getWeakData:function(e,t){if(!s(e,h)){if(!d(e))return!0;if(!t)return!1;g(e)}return e[h].weakData},onFreeze:function(e){return f&&v&&d(e)&&!s(e,h)&&g(e),e}};o[h]=!0},f237:function(e,t,n){"use strict";var r=n("7ec2").default,i=n("ded3").default,o=n("7037").default,a=n("c973").default,s=n("278c").default,u=n("63748").default,c=n("5bc3").default,p=n("970b").default,d=n("3c96").default,l=n("ed6d").default,f=n("2d0d").default,v=n("a128").default;n("99af"),n("d9e2"),n("d401"),n("7a82"),n("d3b7"),n("ddb0"),n("3ca3"),n("2b3d"),n("9861"),n("0eb6"),n("b7ef"),n("8bd4"),n("ac1f"),n("841c"),n("c19f"),n("ace4"),n("82da"),n("e9c4");var h=n("1263"),y=function(e){l(n,e);var t=f(n);function n(e){var r,i;p(this,n);for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];r=t.call.apply(t,[this].concat(a)),Error.captureStackTrace&&Error.captureStackTrace(d(r),n),r.name="StatusError",r.message=e.statusMessage,r.statusCode=e.status,r.res=e,r.json=e.json.bind(e),r.text=e.text.bind(e),r.arrayBuffer=e.arrayBuffer.bind(e);var l=function(){return i||(i=r.arrayBuffer()),i};Object.defineProperty(d(r),"responseBody",{get:l}),r.headers={};var f,v=u(e.headers.entries());try{for(v.s();!(f=v.n()).done;){var h=s(f.value,2),y=h[0],g=h[1];r.headers[y.toLowerCase()]=g}}catch(m){v.e(m)}finally{v.f()}return r}return c(n)}(v(Error));e.exports=h((function(e,t,n,s,u){return function(){var c=a(r().mark((function a(c,p){var d,l,f,v=arguments;return r().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(d=v.length>2&&void 0!==v[2]?v[2]:{},c=u+(c||""),l=new URL(c),s||(s={}),l.username&&(s.Authorization="Basic "+btoa(l.username+":"+l.password),l=new URL(l.protocol+"//"+l.host+l.pathname+l.search)),"https:"===l.protocol||"http:"===l.protocol){r.next=7;break}throw new Error("Unknown protocol, ".concat(l.protocol));case 7:if(!p){r.next=17;break}if(!(p instanceof ArrayBuffer||ArrayBuffer.isView(p)||"string"===typeof p)){r.next=11;break}r.next=17;break;case 11:if("object"!==o(p)){r.next=16;break}p=JSON.stringify(p),s["Content-Type"]="application/json",r.next=17;break;case 16:throw new Error("Unknown body type.");case 17:return d=new Headers(i(i({},s||{}),d)),r.next=20,fetch(l,{method:t,headers:d,body:p});case 20:if(f=r.sent,f.statusCode=f.status,e.has(f.status)){r.next=24;break}throw new y(f);case 24:if("json"!==n){r.next=28;break}return r.abrupt("return",f.json());case 28:if("buffer"!==n){r.next=32;break}return r.abrupt("return",f.arrayBuffer());case 32:if("string"!==n){r.next=36;break}return r.abrupt("return",f.text());case 36:return r.abrupt("return",f);case 37:case"end":return r.stop()}}),a)})));return function(e,t){return c.apply(this,arguments)}}()}))},f4b3:function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("7b0b"),a=n("c04e"),s=i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));r({target:"Date",proto:!0,arity:1,forced:s},{toJSON:function(e){var t=o(this),n=a(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},f4fb:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.IntentServiceRecognizer=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("903d"),c=n("9030"),p=n("21c7"),d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s){var u;return(0,i.default)(this,n),u=t.call(this,e,r,o,a,s),u.privIntentRecognizer=s,u.privIntentDataSent=!1,u}return(0,o.default)(n,[{key:"setIntents",value:function(e,t){this.privAddedLmIntents=e,this.privUmbrellaIntent=t,this.privIntentDataSent=!0}},{key:"processTypeSpecificMessages",value:function(e){var t,n,r=this,i=!1,o=new c.PropertyCollection;switch(e.messageType===u.MessageType.Text&&o.setProperty(c.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.hypothesis":var a=p.SpeechHypothesis.fromJSON(e.textBody);if(t=new c.IntentRecognitionResult(void 0,this.privRequestSession.requestId,c.ResultReason.RecognizingIntent,a.Text,a.Duration,a.Offset+this.privRequestSession.currentTurnAudioOffset,a.Language,a.LanguageDetectionConfidence,void 0,e.textBody,o),this.privRequestSession.onHypothesis(t.offset),n=new c.IntentRecognitionEventArgs(t,a.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,n)}catch(g){}i=!0;break;case"speech.phrase":var s=p.SimpleSpeechPhrase.fromJSON(e.textBody);t=new c.IntentRecognitionResult(void 0,this.privRequestSession.requestId,p.EnumTranslation.implTranslateRecognitionResult(s.RecognitionStatus),s.DisplayText,s.Duration,s.Offset+this.privRequestSession.currentTurnAudioOffset,s.Language,s.LanguageDetectionConfidence,void 0,e.textBody,o),n=new c.IntentRecognitionEventArgs(t,t.offset,this.privRequestSession.sessionId);!1===this.privIntentDataSent||c.ResultReason.NoMatch===n.result.reason?(this.privRequestSession.onPhraseRecognized(n.offset+n.result.duration),function(){if(r.privIntentRecognizer.recognized)try{r.privIntentRecognizer.recognized(r.privIntentRecognizer,n)}catch(g){}if(r.privSuccessCallback){try{r.privSuccessCallback(t)}catch(e){r.privErrorCallback&&r.privErrorCallback(e)}r.privSuccessCallback=void 0,r.privErrorCallback=void 0}}()):this.privPendingIntentArgs=n,i=!0;break;case"response":if(n=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,void 0===n){if(""===e.textBody)return;n=new c.IntentRecognitionEventArgs(new c.IntentRecognitionResult,0,this.privRequestSession.sessionId)}var d=p.IntentResponse.fromJSON(e.textBody);if(null!==d&&d.topScoringIntent&&d.topScoringIntent.intent){var l=this.privAddedLmIntents[d.topScoringIntent.intent];if(void 0!==this.privUmbrellaIntent&&(l=this.privUmbrellaIntent),l){var f=void 0===l||void 0===l.intentName?d.topScoringIntent.intent:l.intentName,v=n.result.reason;void 0!==f&&(v=c.ResultReason.RecognizedIntent);var h=void 0!==n.result.properties?n.result.properties:new c.PropertyCollection;h.setProperty(c.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,e.textBody),n=new c.IntentRecognitionEventArgs(new c.IntentRecognitionResult(f,n.result.resultId,v,n.result.text,n.result.duration,n.result.offset,void 0,void 0,n.result.errorDetails,n.result.json,h),n.offset,n.sessionId)}}if(this.privRequestSession.onPhraseRecognized(n.offset+n.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,n)}catch(g){}if(this.privSuccessCallback){try{this.privSuccessCallback(n.result)}catch(m){this.privErrorCallback&&this.privErrorCallback(m)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}i=!0;break;default:break}var y=new u.Deferred;return y.resolve(i),y.promise}},{key:"cancelRecognition",value:function(e,t,n,r,i){var o=new c.PropertyCollection;if(o.setProperty(p.CancellationErrorCodePropertyName,c.CancellationErrorCode[r]),this.privIntentRecognizer.canceled){var a=new c.IntentRecognitionCanceledEventArgs(n,i,r,void 0,void 0,e);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,a)}catch(u){}}if(this.privSuccessCallback){var s=new c.IntentRecognitionResult(void 0,t,c.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,i,void 0,o);try{this.privSuccessCallback(s),this.privSuccessCallback=void 0}catch(d){}}}}]),n}(p.ServiceRecognizerBase);t.IntentServiceRecognizer=d},f508:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConnectionMessage=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("99de")),s=r(n("262e")),u=r(n("2caf")),c=n("903d"),p=n("574d"),d=function(e){(0,s.default)(n,e);var t=(0,u.default)(n);function n(e,r,o,s,u,d,l,f){var v;if((0,i.default)(this,n),!r)throw new c.ArgumentNullError("path");if(!o)throw new c.ArgumentNullError("requestId");var h={};if(h[p.HeaderNames.Path]=r,h[p.HeaderNames.RequestId]=o,h[p.HeaderNames.RequestTimestamp]=(new Date).toISOString(),s&&(h[p.HeaderNames.ContentType]=s),d&&(h[p.HeaderNames.RequestStreamId]=d),l)for(var y in l)y&&(h[y]=l[y]);return v=f?t.call(this,e,u,h,f):t.call(this,e,u,h),v.privPath=r,v.privRequestId=o,v.privContentType=s,v.privStreamId=d,v.privAdditionalHeaders=l,(0,a.default)(v)}return(0,o.default)(n,[{key:"path",get:function(){return this.privPath}},{key:"requestId",get:function(){return this.privRequestId}},{key:"contentType",get:function(){return this.privContentType}},{key:"streamId",get:function(){return this.privStreamId}},{key:"additionalHeaders",get:function(){return this.privAdditionalHeaders}}],[{key:"fromConnectionMessage",value:function(e){var t=null,r=null,i=null,o=null,a={};if(e.headers)for(var s in e.headers)s&&(s.toLowerCase()===p.HeaderNames.Path.toLowerCase()?t=e.headers[s]:s.toLowerCase()===p.HeaderNames.RequestId.toLowerCase()?r=e.headers[s]:s.toLowerCase()===p.HeaderNames.ContentType.toLowerCase()?i=e.headers[s]:s.toLowerCase()===p.HeaderNames.RequestStreamId.toLowerCase()?o=e.headers[s]:a[s]=e.headers[s]);return new n(e.messageType,t,r,i,e.body,o,a,e.id)}}]),n}(c.ConnectionMessage);t.SpeechConnectionMessage=d},f70b:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantsListEventArgs=t.ParticipantEventArgs=t.ParticipantAttributeEventArgs=t.MuteAllEventArgs=t.LockRoomEventArgs=t.ConversationReceivedTranslationEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,r),o.privIsMuted=e,o}return(0,o.default)(n,[{key:"isMuted",get:function(){return this.privIsMuted}}]),n}(u.SessionEventArgs);t.MuteAllEventArgs=c;var p=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,r),o.privIsLocked=e,o}return(0,o.default)(n,[{key:"isMuted",get:function(){return this.privIsLocked}}]),n}(u.SessionEventArgs);t.LockRoomEventArgs=p;var d=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r){var o;return(0,i.default)(this,n),o=t.call(this,r),o.privParticipant=e,o}return(0,o.default)(n,[{key:"participant",get:function(){return this.privParticipant}}]),n}(u.SessionEventArgs);t.ParticipantEventArgs=d;var l=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a){var s;return(0,i.default)(this,n),s=t.call(this,a),s.privKey=r,s.privValue=o,s.privParticipantId=e,s}return(0,o.default)(n,[{key:"value",get:function(){return this.privValue}},{key:"key",get:function(){return this.privKey}},{key:"id",get:function(){return this.privParticipantId}}]),n}(u.SessionEventArgs);t.ParticipantAttributeEventArgs=l;var f=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s,u,c,p,d){var l;return(0,i.default)(this,n),l=t.call(this,d),l.privRoomId=e,l.privSessionToken=r,l.privTranslateTo=o,l.privProfanityFilter=a,l.privRoomProfanityFilter=s,l.privIsRoomLocked=u,l.privIsRoomLocked=c,l.privParticipants=p,l}return(0,o.default)(n,[{key:"sessionToken",get:function(){return this.privSessionToken}},{key:"conversationId",get:function(){return this.privRoomId}},{key:"translateTo",get:function(){return this.privTranslateTo}},{key:"profanityFilter",get:function(){return this.privProfanityFilter}},{key:"roomProfanityFilter",get:function(){return this.privRoomProfanityFilter}},{key:"isRoomLocked",get:function(){return this.privIsRoomLocked}},{key:"isMuteAll",get:function(){return this.privIsMuteAll}},{key:"participants",get:function(){return this.privParticipants}}]),n}(u.SessionEventArgs);t.ParticipantsListEventArgs=f;var v=function(){function e(t,n,r){(0,i.default)(this,e),this.privPayload=n,this.privCommand=t,this.privSessionId=r}return(0,o.default)(e,[{key:"payload",get:function(){return this.privPayload}},{key:"command",get:function(){return this.privCommand}},{key:"sessionId",get:function(){return this.privSessionId}}]),e}();t.ConversationReceivedTranslationEventArgs=v},f727:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionCanceledEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t,n,r,o,a){(0,i.default)(this,e),this.privCancelReason=n,this.privErrorDetails=r,this.privResult=a,this.privSessionId=t,this.privErrorCode=o}return(0,o.default)(e,[{key:"result",get:function(){return this.privResult}},{key:"sessionId",get:function(){return this.privSessionId}},{key:"reason",get:function(){return this.privCancelReason}},{key:"errorCode",get:function(){return this.privErrorCode}},{key:"errorDetails",get:function(){return this.privErrorDetails}}]),e}();t.TranslationRecognitionCanceledEventArgs=a},f74c:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionEventArgs=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(t){(0,i.default)(this,e),this.privSessionId=t}return(0,o.default)(e,[{key:"sessionId",get:function(){return this.privSessionId}}]),e}();t.SessionEventArgs=a},f798:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationErrorCode=void 0,t.CancellationErrorCode=r,function(e){e[e["NoError"]=0]="NoError",e[e["AuthenticationFailure"]=1]="AuthenticationFailure",e[e["BadRequestParameters"]=2]="BadRequestParameters",e[e["TooManyRequests"]=3]="TooManyRequests",e[e["ConnectionFailure"]=4]="ConnectionFailure",e[e["ServiceTimeout"]=5]="ServiceTimeout",e[e["ServiceError"]=6]="ServiceError",e[e["RuntimeError"]=7]="RuntimeError",e[e["Forbidden"]=8]="Forbidden"}(r||(t.CancellationErrorCode=r={}))},f7c3:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAudioMetadata=t.MetadataType=void 0;var i,o=r(n("d4ec")),a=r(n("bee2"));t.MetadataType=i,function(e){e["WordBoundary"]="WordBoundary",e["Bookmark"]="Bookmark",e["Viseme"]="Viseme",e["SentenceBoundary"]="SentenceBoundary",e["SessionEnd"]="SessionEnd"}(i||(t.MetadataType=i={}));var s=function(){function e(t){(0,o.default)(this,e),this.privSynthesisAudioMetadata=JSON.parse(t)}return(0,a.default)(e,[{key:"Metadata",get:function(){return this.privSynthesisAudioMetadata.Metadata}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.SynthesisAudioMetadata=s},f9c9:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Timeout=void 0,n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("d401"),n("0eb6"),n("b7ef"),n("8bd4"),n("d9e2");var i=r(n("d4ec")),o=r(n("bee2")),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"load",value:function(){var t=new Map([[0,function(){}]]),n=new Map,r="data:text/javascript;base64,"+btoa('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error(\'There is no interval scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);'),i=new Worker(r);i.addEventListener("message",(function(r){var i=r.data;if(e.isCallNotification(i)){var o=i.params.timerId,a=t.get(o);if("number"===typeof a){var s=n.get(a);if(void 0===s||s!==o)throw new Error("The timer is in an undefined state.")}else{if("undefined"===typeof a)throw new Error("The timer is in an undefined state.");a(),t.delete(o)}}else{if(!e.isClearResponse(i)){var u=i.error.message;throw new Error(u)}var c=i.id,p=n.get(c);if(void 0===p)throw new Error("The timer is in an undefined state.");n.delete(c),t.delete(p)}}));return{clearTimeout:function(e){var r=Math.random();n.set(r,e),t.set(e,r),i.postMessage({id:r,method:"clear",params:{timerId:e}})},setTimeout:function(e,n){var r=Math.random();return t.set(r,e),i.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r}}),r}}}},{key:"loadWorkerTimers",value:function(){return function(){return null!==e.workerTimers||(e.workerTimers=e.load()),e.workerTimers}}},{key:"isCallNotification",value:function(e){return void 0!==e.method&&"call"===e.method}},{key:"isClearResponse",value:function(e){return null===e.error&&"number"===typeof e.id}}]),e}();t.Timeout=a,a.workerTimers=null,a.clearTimeout=function(e){return a.timers().clearTimeout(e)},a.setTimeout=function(e,t){return a.timers().setTimeout(e,t)},a.timers=a.loadWorkerTimers()},fa95:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},n("c975"),n("d401"),n("d3b7"),n("25f0")},fb36:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.ServicePropertyChannel=void 0,t.ServicePropertyChannel=r,function(e){e[e["UriQueryParameter"]=0]="UriQueryParameter"}(r||(t.ServicePropertyChannel=r={}))},fd3c:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.User=t.Participant=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=n("9030"),s=function(){function e(t){(0,i.default)(this,e),this.privUserId=t}return(0,o.default)(e,[{key:"userId",get:function(){return this.privUserId}}]),e}();t.User=s;var u=function(){function e(t,n,r,o,s,u,c,p){(0,i.default)(this,e),this.privId=t,this.privAvatar=n,this.privDisplayName=r,this.privIsHost=o,this.privIsMuted=s,this.privIsUsingTts=u,this.privPreferredLanguage=c,this.privVoice=p,this.privProperties=new a.PropertyCollection}return(0,o.default)(e,[{key:"avatar",get:function(){return this.privAvatar}},{key:"displayName",get:function(){return this.privDisplayName}},{key:"id",get:function(){return this.privId}},{key:"preferredLanguage",get:function(){return this.privPreferredLanguage}},{key:"isHost",get:function(){return this.privIsHost}},{key:"isMuted",get:function(){return this.privIsMuted}},{key:"isUsingTts",get:function(){return this.privIsUsingTts}},{key:"voice",get:function(){return this.privVoice}},{key:"properties",get:function(){return this.privProperties}}],[{key:"From",value:function(t,n,r){return new e(t,"",t,!1,!1,!1,n,r)}}]),e}();t.Participant=u},fd87:function(e,t,n){var r=n("74e8");r("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},fe83:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantChangedReason=void 0,t.ParticipantChangedReason=r,function(e){e[e["JoinedConversation"]=0]="JoinedConversation",e[e["LeftConversation"]=1]="LeftConversation",e[e["Updated"]=2]="Updated"}(r||(t.ParticipantChangedReason=r={}))},feb0:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionResult=void 0;var i=r(n("d4ec")),o=r(n("bee2")),a=r(n("262e")),s=r(n("2caf")),u=n("9030"),c=function(e){(0,a.default)(n,e);var t=(0,s.default)(n);function n(e,r,o,a,s,u,c,p,d,l,f){var v;return(0,i.default)(this,n),v=t.call(this,e,r,o,a,s,u,c,d,l,f),v.privSpeakerId=p,v}return(0,o.default)(n,[{key:"speakerId",get:function(){return this.privSpeakerId}}]),n}(u.RecognitionResult);t.SpeechRecognitionResult=c},feb1:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0,n("14d9"),n("3c65"),n("a434"),n("d3b7"),n("159b"),n("4e82"),n("99af");var i=r(n("b85c")),o=r(n("d4ec")),a=r(n("bee2")),s=n("0f96"),u=function(){function e(t){if((0,o.default)(this,e),this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],t){var n,r=(0,i.default)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.privList.push(a)}}catch(s){r.e(s)}finally{r.f()}}}return(0,a.default)(e,[{key:"get",value:function(e){return this.throwIfDisposed(),this.privList[e]}},{key:"first",value:function(){return this.get(0)}},{key:"last",value:function(){return this.get(this.length()-1)}},{key:"add",value:function(e){this.throwIfDisposed(),this.insertAt(this.privList.length,e)}},{key:"insertAt",value:function(e,t){this.throwIfDisposed(),0===e?this.privList.unshift(t):e===this.privList.length?this.privList.push(t):this.privList.splice(e,0,t),this.triggerSubscriptions(this.privAddSubscriptions)}},{key:"removeFirst",value:function(){return this.throwIfDisposed(),this.removeAt(0)}},{key:"removeLast",value:function(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}},{key:"removeAt",value:function(e){return this.throwIfDisposed(),this.remove(e,1)[0]}},{key:"remove",value:function(e,t){this.throwIfDisposed();var n=this.privList.splice(e,t);return this.triggerSubscriptions(this.privRemoveSubscriptions),n}},{key:"clear",value:function(){this.throwIfDisposed(),this.remove(0,this.length())}},{key:"length",value:function(){return this.throwIfDisposed(),this.privList.length}},{key:"onAdded",value:function(e){var t=this;this.throwIfDisposed();var n=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[n]=e,{detach:function(){return delete t.privAddSubscriptions[n],Promise.resolve()}}}},{key:"onRemoved",value:function(e){var t=this;this.throwIfDisposed();var n=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[n]=e,{detach:function(){return delete t.privRemoveSubscriptions[n],Promise.resolve()}}}},{key:"onDisposed",value:function(e){var t=this;this.throwIfDisposed();var n=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[n]=e,{detach:function(){return delete t.privDisposedSubscriptions[n],Promise.resolve()}}}},{key:"join",value:function(e){return this.throwIfDisposed(),this.privList.join(e)}},{key:"toArray",value:function(){var e=Array();return this.privList.forEach((function(t){e.push(t)})),e}},{key:"any",value:function(e){return this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0}},{key:"all",value:function(e){return this.throwIfDisposed(),this.where(e).length()===this.length()}},{key:"forEach",value:function(e){this.throwIfDisposed();for(var t=0;t<this.length();t++)e(this.privList[t],t)}},{key:"select",value:function(t){this.throwIfDisposed();for(var n=[],r=0;r<this.privList.length;r++)n.push(t(this.privList[r],r));return new e(n)}},{key:"where",value:function(t){this.throwIfDisposed();for(var n=new e,r=0;r<this.privList.length;r++)t(this.privList[r],r)&&n.add(this.privList[r]);return n}},{key:"orderBy",value:function(t){this.throwIfDisposed();var n=this.toArray(),r=n.sort(t);return new e(r)}},{key:"orderByDesc",value:function(e){return this.throwIfDisposed(),this.orderBy((function(t,n){return e(n,t)}))}},{key:"clone",value:function(){return this.throwIfDisposed(),new e(this.toArray())}},{key:"concat",value:function(t){return this.throwIfDisposed(),new e(this.privList.concat(t.toArray()))}},{key:"concatArray",value:function(t){return this.throwIfDisposed(),new e(this.privList.concat(t))}},{key:"isDisposed",value:function(){return null==this.privList}},{key:"dispose",value:function(e){this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}},{key:"throwIfDisposed",value:function(){if(this.isDisposed())throw new s.ObjectDisposedError("List",this.privDisposeReason)}},{key:"triggerSubscriptions",value:function(e){if(e)for(var t in e)t&&e[t]()}}]),e}();t.List=u},fefa:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.ResultReason=void 0,t.ResultReason=r,function(e){e[e["NoMatch"]=0]="NoMatch",e[e["Canceled"]=1]="Canceled",e[e["RecognizingSpeech"]=2]="RecognizingSpeech",e[e["RecognizedSpeech"]=3]="RecognizedSpeech",e[e["RecognizedKeyword"]=4]="RecognizedKeyword",e[e["RecognizingIntent"]=5]="RecognizingIntent",e[e["RecognizedIntent"]=6]="RecognizedIntent",e[e["TranslatingSpeech"]=7]="TranslatingSpeech",e[e["TranslatedSpeech"]=8]="TranslatedSpeech",e[e["SynthesizingAudio"]=9]="SynthesizingAudio",e[e["SynthesizingAudioCompleted"]=10]="SynthesizingAudioCompleted",e[e["SynthesizingAudioStarted"]=11]="SynthesizingAudioStarted",e[e["EnrollingVoiceProfile"]=12]="EnrollingVoiceProfile",e[e["EnrolledVoiceProfile"]=13]="EnrolledVoiceProfile",e[e["RecognizedSpeakers"]=14]="RecognizedSpeakers",e[e["RecognizedSpeaker"]=15]="RecognizedSpeaker",e[e["ResetVoiceProfile"]=16]="ResetVoiceProfile",e[e["DeletedVoiceProfile"]=17]="DeletedVoiceProfile",e[e["VoicesListRetrieved"]=18]="VoicesListRetrieved"}(r||(t.ResultReason=r={}))}}]);